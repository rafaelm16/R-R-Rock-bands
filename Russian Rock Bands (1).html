<html lang="en" class="wf-flaticon-n4-inactive wf-fontawesome5solid-n4-active wf-fontawesome5regular-n4-active wf-fontawesome5brands-n4-active wf-simplelineicons-n4-active wf-karla-n3-active wf-karla-n4-active wf-karla-n7-active wf-karla-n9-active wf-active sidebar-color"><head><style type="text/css">.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button[not:disabled]:hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel[not:disabled]:hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger[not:disabled]:hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}</style>
	<!-- Google tag (gtag.js) -->
	<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-9SSDBXGCXK"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-9SSDBXGCXK');
	</script>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>
		MELODY - 
	</title>

	<meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
	<!-- <link rel="icon" href="static/img/icon.ico" type="image/x-icon" /> -->
	<link rel="icon" type="image/png" href="static/favicon.png">
	<link rel="canonical" href="https://appseed.us/admin-dashboards/flask-dashboard-atlantis-dark">

	<!-- Fonts and icons -->
	<script src="static/js/plugin/webfont/webfont.min.js"></script>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Karla:300,400,700,900" media="all"><link rel="stylesheet" href="static/css/fonts.min.css" media="all"><script>
		WebFont.load({
			google: { "families": ["Karla:300,400,700,900"] },
			custom: {
				"families": ["Flaticon", "Font Awesome 5 Solid", "Font Awesome 5 Regular", "Font Awesome 5 Brands", "simple-line-icons"],
				urls: ['static/css/fonts.min.css']
			},
			active: function () { sessionStorage.fonts = true; }
		});
	</script>
	<!-- IQuill stylesheet -->
	<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">

	<!-- CSS Files -->
	<link rel="stylesheet" href="static/css/bootstrap.min.css">
	<link rel="stylesheet" href="static/css/atlantis.min.css">
	<link rel="stylesheet" href="static/css/style.css">


	<!-- CSS Just for demo purpose, don't include it in your project -->
	<!-- <link rel="stylesheet" href="/static/css/demo.css"> -->

	<!-- Specific Page CSS goes HERE  -->
	
<link rel="stylesheet" href="static/css/templates.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin=""></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin=""></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/@jitbit/htmlsanitizer@latest/HtmlSanitizer.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css" integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ==" crossorigin="">
  <link rel="stylesheet" href="static/css/MarkerCluster.css">
  <link rel="stylesheet" href="static/css/MarkerCluster.Default.css">
  <link rel="stylesheet" href="static/css/leaflet-sidebar.css">

  <script type="text/javascript">
    var datastory_data = {"color_code": ["#39c6b4", "#17cf31"], "curator": "", "description": "", "dynamic_elements": [{"count_label": "Number of Russian Rock Bands", "count_query": "SELECT (COUNT(?band) AS ?count)\r\nWHERE {\r\n     ?band ?a wd:Q5741069 . # rock band \r\n     ?band wdt:P495 wd:Q159 . # from russia\r\n}", "extra_queries": [], "map_filters": [], "operations": [], "position": 0, "type": "count"}, {"chart_legend": {"x": "Name of the band", "y": "Number of people in the band"}, "chart_query": "SELECT DISTINCT ?label (COUNT(?item) AS ?count)\r\nWHERE {\r\n     ?band ?a wd:Q5741069 . # rock band \r\n     ?band wdt:P495 wd:Q159 . # from russia\r\n     ?band wdt:P527 ?item . \r\n     SERVICE wikibase:label { bd:serviceParam wikibase:language \"en\".\r\n          ?band rdfs:label         ?label.\r\n      }\r\n\r\n\r\n\r\n}\r\nGROUP BY ?label\r\nORDER BY DESC(?count)\r\nLIMIT 30", "chart_series": "", "chart_title": "Composition of Russian Rock Bands", "chart_type": "barchart", "extra_queries": [], "map_filters": [], "operations": [{"action": "count", "param": "label"}], "position": 1, "type": "chart"}], "id": "1685630421.646025", "sparql_endpoint": "https://query.wikidata.org/sparql", "subtitle": "", "template_mode": "statistics", "title": "Russian Rock Bands", "user_name": "Lada-unibo"};
  </script>


<style type="text/css">/* Chart.js */
@-webkit-keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}@keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}.chartjs-render-monitor{-webkit-animation:chartjs-render-animation 0.001s;animation:chartjs-render-animation 0.001s;}</style><style>
            .main-header, .sidebar {
                display: block;
            }

            .main-panel {
                width: calc(100% - 250px);
            }</style><style type="text/css">.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}</style><script>"use strict";

// error boundaries attached to each component
function ErrorHandler(_ref) {
  var error = _ref.error;
  return /*#__PURE__*/React.createElement("div", {
    role: "alert"
  }, /*#__PURE__*/React.createElement("p", null, "An error occurred:"), /*#__PURE__*/React.createElement("pre", null, error.message));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFcnJvckhhbmRsZXIiLCJfcmVmIiwiZXJyb3IiLCJSZWFjdCIsImNyZWF0ZUVsZW1lbnQiLCJyb2xlIiwibWVzc2FnZSJdLCJzb3VyY2VzIjpbImh0dHBzOi8vcHJvamVjdHMuZGhhcmMudW5pYm8uaXQvbWVsb2R5L3N0YXRpYy9qcy9yZWFjdC9FcnJvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBlcnJvciBib3VuZGFyaWVzIGF0dGFjaGVkIHRvIGVhY2ggY29tcG9uZW50XG5mdW5jdGlvbiBFcnJvckhhbmRsZXIoe2Vycm9yfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XG4gICAgICA8cD5BbiBlcnJvciBvY2N1cnJlZDo8L3A+XG4gICAgICA8cHJlPntlcnJvci5tZXNzYWdlfTwvcHJlPlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQSxTQUFTQSxZQUFZQSxDQUFBQyxJQUFBLEVBQVU7RUFBQSxJQUFSQyxLQUFLLEdBQUFELElBQUEsQ0FBTEMsS0FBSztFQUMxQixvQkFDRUMsS0FBQSxDQUFBQyxhQUFBO0lBQUtDLElBQUksRUFBQztFQUFPLGdCQUNmRixLQUFBLENBQUFDLGFBQUEsWUFBRyxvQkFBcUIsQ0FBQyxlQUN6QkQsS0FBQSxDQUFBQyxhQUFBLGNBQU1GLEtBQUssQ0FBQ0ksT0FBYSxDQUN0QixDQUFDO0FBRVYifQ==</script><script>"use strict";

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
var generateKey = function generateKey(pre) {
  return "".concat(pre, "_").concat(new Date().getTime());
};
var FilterCheckbox = function FilterCheckbox(_ref) {
  var key_check = _ref.key_check,
    value_check = _ref.value_check,
    indexPanel = _ref.indexPanel,
    filter_title = _ref.filter_title,
    markers = _ref.markers,
    allMarkers = _ref.allMarkers,
    map = _ref.map;
  var checked_filters;
  var _React$useState = React.useState('not checked'),
    _React$useState2 = _slicedToArray(_React$useState, 2),
    checked = _React$useState2[0],
    setCheck = _React$useState2[1];
  function addRemoveMarkers() {
    checked_filters = Array.from(document.querySelectorAll('input[class="map_checkbox"]:checked'));
    if (markers != undefined) {
      markers.clearLayers();
      allMarkers.eachLayer(function (layer) {
        markers.addLayer(layer);
      });

      // get the filter names
      var filternames = [];
      if (checked_filters.length) {
        var _iterator = _createForOfIteratorHelper(checked_filters.values()),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var value = _step.value;
            filternames.push(value.dataset.filter);
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      }
      // [ filter1, filter2 ...]
      filternames = _toConsumableArray(new Set(filternames));

      // add values checked
      var filternames_values = {};
      filternames.forEach(function (el, index) {
        filternames_values[el] = [];
      });

      // { filter1: [ checkbox1value, checkbox2value], filter2 : [ ... ] ...]
      if (checked_filters.length) {
        var _iterator2 = _createForOfIteratorHelper(checked_filters.values()),
          _step2;
        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var _value = _step2.value;
            filternames_values[_value.dataset.filter].push(_value.value);
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }
      }
      if (Object.keys(filternames_values).length) {
        var f_names = Object.keys(filternames_values);
        f_names.forEach(function (name, i) {
          markers.eachLayer(function (layer) {
            // if property value not in the list of checked-checkboxes values remove marker
            var prop_key = name + '#value';
            var prop_value = layer.feature.properties[prop_key];
            if (!filternames_values[name].includes(prop_value)) {
              markers.removeLayer(layer);
            }
          });
        });

        // clear map
        map.eachLayer(function (layer) {
          if (layer instanceof L.MarkerClusterGroup) {
            map.removeLayer(layer);
          }
        });
        map.addLayer(markers);
      }
      // else put them all back!
      else {
        map.eachLayer(function (layer) {
          if (layer instanceof L.MarkerClusterGroup) {
            map.removeLayer(layer);
          }
        });
        markers.clearLayers();
        allMarkers.eachLayer(function (layer) {
          markers.addLayer(layer);
        });
        map.addLayer(markers);
      }
    }
  }
  var changeCheck = function changeCheck(event) {
    if (checked == 'not checked') {
      setCheck('checked');
    } else {
      setCheck('not checked');
    }
    addRemoveMarkers();
  };
  return /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("input", {
    type: "checkbox",
    label: value_check[0] + " (" + value_check[1] + ")",
    defaultValue: key_check,
    name: key_check,
    onClick: changeCheck,
    className: "map_checkbox",
    "data-filter": filter_title
  }), /*#__PURE__*/React.createElement("span", {
    className: "key_check",
    htmlFor: "key_check",
    style: {
      color: 'black'
    }
  }, value_check[0] + " (" + value_check[1] + ")"));
};
var SidebarPanel = function SidebarPanel(_ref2) {
  var indexPanel = _ref2.indexPanel,
    index_parent = _ref2.index_parent,
    onEachFeature = _ref2.onEachFeature,
    filters = _ref2.filters,
    filter_title = _ref2.filter_title,
    markers = _ref2.markers,
    allMarkers = _ref2.allMarkers,
    map = _ref2.map;
  var _React$useState3 = React.useState('not collapsed'),
    _React$useState4 = _slicedToArray(_React$useState3, 2),
    collapsedBox = _React$useState4[0],
    setCollapse = _React$useState4[1];
  var _React$useState5 = React.useState('not loaded'),
    _React$useState6 = _slicedToArray(_React$useState5, 2),
    firstLoad = _React$useState6[0],
    setLoad = _React$useState6[1];
  var _React$useState7 = React.useState([]),
    _React$useState8 = _slicedToArray(_React$useState7, 2),
    checkboxData = _React$useState8[0],
    setCheckbox = _React$useState8[1];
  var checkboxBox = [];
  var f_query = filters[indexPanel].map_filter_query,
    extra_id = filters[indexPanel].extra_id;
  function update_panel() {
    if (datastory_data.dynamic_elements && datastory_data.dynamic_elements.length) {
      datastory_data.dynamic_elements.forEach(function (element) {
        if (element.type == 'map' && element.position == index_parent) {
          if (element.map_filters.length > indexPanel) {
            element.map_filters.forEach(function (item, i) {
              if (item.position == indexPanel) {
                filter_title = item.map_filter_title;
                f_query = item.map_filter_query;
                extra_id = item.extra_id;
              }
            });
          }
        }
      });
    }
  }
  var getCheckboxes = function getCheckboxes(event) {
    if (f_query.length > 1) {
      var dataMap = JSON.parse(document.getElementById('dataMap_' + index_parent).innerHTML);
      var values = "VALUES ?point {";
      dataMap.forEach(function (item, i) {
        values += '<' + item.properties.uri + '> ';
      });
      values += '}';

      // restructure query with VALUES
      var decoded_query = decodeURIComponent(f_query);
      var decoded_query_parts = decoded_query.split(/\{([\s\S]*)/);
      decoded_query = decoded_query_parts[0] + '{' + values + decoded_query_parts[1];
      var encoded_query = encodeURIComponent(decoded_query.replace('\n', ' '));
      var method = 'GET';
      if (encoded_query.length > 2000) {
        method = 'POST';
        fetch(datastory_data.sparql_endpoint + '?query=', {
          method: method,
          headers: {
            'Accept': 'application/sparql-results+json'
          },
          body: encoded_query
        }).then(function (res) {
          return res.json();
        }).then(function (data) {
          var labels_values_count = {},
            headings = data.head.vars,
            has_label = false;
          data.results.bindings.forEach(function (res, i) {
            // check if the filter is a string or a uri+string
            if (headings.includes('filterLabel')) {
              has_label = true;
            }
            dataMap.forEach(function (elem, i) {
              if (elem.properties.uri == res.point.value) {
                if (has_label == true) {
                  elem.properties[filter_title + "#label"] = res.filterLabel.value;
                  elem.properties[filter_title + "#value"] = res.filter.value;
                  if (labels_values_count[res.filter.value] == undefined) {
                    labels_values_count[res.filter.value] = [res.filterLabel.value, 1];
                  } else {
                    labels_values_count[res.filter.value] = [res.filterLabel.value, labels_values_count[res.filter.value][1] + 1];
                  }
                } else {
                  elem.properties[filter_title + "#label"] = res.filter.value;
                  elem.properties[filter_title + "#value"] = res.filter.value;
                  if (labels_values_count[res.filter.value] == undefined) {
                    labels_values_count[res.filter.value] = [res.filter.value, 1];
                  } else {
                    labels_values_count[res.filter.value] = [res.filter.value, labels_values_count[res.filter.value][1] + 1];
                  }
                }
              }
            });

            // update geoJSON in DOM
            $('#dataMap_' + index_parent).remove();
            var $body = $(document.body);
            $body.append("<script id='dataMap_" + index_parent + "' type='application/json'>" + JSON.stringify(dataMap) + "</script>");

            // update markers
            markers.eachLayer(function (layer) {
              if (layer.feature.properties.uri == res.point.value) {
                if (has_label == true) {
                  layer.feature.properties[filter_title + "#label"] = res.filterLabel.value;
                } else {
                  layer.feature.properties[filter_title + "#label"] = res.filter.value;
                }
                layer.feature.properties[filter_title + "#value"] = res.filter.value;
              }
            });
          });

          // get markers from geoJSON, bind popupContent
          var data_layers = L.geoJSON(dataMap, {
            onEachFeature: onEachFeature
          });

          // add checkboxes
          var filter_names = Object.keys(labels_values_count);
          setCheckbox([]);
          filter_names.forEach(function (filter_name, i) {
            setCheckbox(function (prevCheckboxes) {
              return [].concat(_toConsumableArray(prevCheckboxes), [{
                key_check: filter_name,
                value_check: labels_values_count[filter_name]
              }]);
            });
          });
          setCollapse('collapsed');
          $("#filter_" + extra_id).collapse();
        })["catch"](function (error) {
          console.error('Error:', error);
          alert("Sidebar filters: there is an error in the query");
        })["finally"](function () {
          setLoad('loaded');
        });
      } else {
        fetch(datastory_data.sparql_endpoint + '?query=' + encoded_query, {
          method: method,
          headers: {
            'Accept': 'application/sparql-results+json'
          }
        }).then(function (res) {
          return res.json();
        }).then(function (data) {
          var labels_values_count = {},
            headings = data.head.vars,
            has_label = false;
          data.results.bindings.forEach(function (res, i) {
            // check if the filter is a string or a uri+string
            if (headings.includes('filterLabel')) {
              has_label = true;
            }
            dataMap.forEach(function (elem, i) {
              if (elem.properties.uri == res.point.value) {
                if (has_label == true) {
                  elem.properties[filter_title + "#label"] = res.filterLabel.value;
                  elem.properties[filter_title + "#value"] = res.filter.value;
                  if (labels_values_count[res.filter.value] == undefined) {
                    labels_values_count[res.filter.value] = [res.filterLabel.value, 1];
                  } else {
                    labels_values_count[res.filter.value] = [res.filterLabel.value, labels_values_count[res.filter.value][1] + 1];
                  }
                } else {
                  elem.properties[filter_title + "#label"] = res.filter.value;
                  elem.properties[filter_title + "#value"] = res.filter.value;
                  if (labels_values_count[res.filter.value] == undefined) {
                    labels_values_count[res.filter.value] = [res.filter.value, 1];
                  } else {
                    labels_values_count[res.filter.value] = [res.filter.value, labels_values_count[res.filter.value][1] + 1];
                  }
                }
              }
            });

            // update geoJSON in DOM
            $('#dataMap_' + index_parent).remove();
            var $body = $(document.body);
            $body.append("<script id='dataMap_" + index_parent + "' type='application/json'>" + JSON.stringify(dataMap) + "</script>");

            // update markers
            markers.eachLayer(function (layer) {
              if (layer.feature.properties.uri == res.point.value) {
                if (has_label == true) {
                  layer.feature.properties[filter_title + "#label"] = res.filterLabel.value;
                } else {
                  layer.feature.properties[filter_title + "#label"] = res.filter.value;
                }
                layer.feature.properties[filter_title + "#value"] = res.filter.value;
              }
            });
          });

          // get markers from geoJSON, bind popupContent
          var data_layers = L.geoJSON(dataMap, {
            onEachFeature: onEachFeature
          });

          // add checkboxes
          var filter_names = Object.keys(labels_values_count);
          setCheckbox([]);
          filter_names.forEach(function (filter_name, i) {
            setCheckbox(function (prevCheckboxes) {
              return [].concat(_toConsumableArray(prevCheckboxes), [{
                key_check: filter_name,
                value_check: labels_values_count[filter_name]
              }]);
            });
          });
          setCollapse('collapsed');
          $("#filter_" + extra_id).collapse();
        })["catch"](function (error) {
          console.error('Error:', error);
          alert("Sidebar filters: there is an error in the query");
        })["finally"](function () {
          setLoad('loaded');
        });
      }
    }
  };
  if (checkboxData.length) {
    for (var i = 0; i < checkboxData.length; i++) {
      checkboxBox.push( /*#__PURE__*/React.createElement(FilterCheckbox, {
        key: generateKey(checkboxData[i].key_check),
        key_check: checkboxData[i].key_check,
        value_check: checkboxData[i].value_check,
        indexPanel: indexPanel,
        filter_title: filter_title,
        markers: markers,
        allMarkers: allMarkers,
        map: map
      }));
    }
  }
  React.useEffect(function () {
    //update_panel();
    if (firstLoad == 'loaded') {
      getCheckboxes();
    }
  }, []);
  return /*#__PURE__*/React.createElement("div", {
    className: "map_sidebar_panel"
  }, /*#__PURE__*/React.createElement("a", {
    role: "button",
    className: "map_sidebar_panel_title",
    "data-toggle": "collapse",
    onClick: getCheckboxes,
    href: "#filter_" + extra_id,
    "aria-expanded": "false",
    "aria-controls": "filter_" + extra_id
  }, filter_title), /*#__PURE__*/React.createElement("div", {
    className: "collapse",
    id: "filter_" + extra_id
  }, /*#__PURE__*/React.createElement("div", null, checkboxBox)));
};
var MapSidebar = function MapSidebar(_ref3) {
  var index = _ref3.index,
    filters = _ref3.filters,
    onEachFeature = _ref3.onEachFeature,
    allMarkers = _ref3.allMarkers,
    markers = _ref3.markers,
    map = _ref3.map,
    setIsShown = _ref3.setIsShown,
    isShown = _ref3.isShown;
  var sidebarPanelsBox = [];
  React.useEffect(function () {}, []);
  filters.forEach(function (filter, i) {
    sidebarPanelsBox.push( /*#__PURE__*/React.createElement(SidebarPanel, {
      indexPanel: i,
      key: generateKey(filter) + i,
      index_parent: index,
      onEachFeature: onEachFeature,
      filters: filters,
      filter_title: filters[i].map_filter_title,
      markers: markers,
      allMarkers: allMarkers,
      map: map
    }));
  });
  if (filters.length) {
    return /*#__PURE__*/React.createElement("div", {
      style: {
        background: 'linear-gradient(-45deg,' + datastory_data.color_code[0] + ',' + datastory_data.color_code[1] + ')'
      },
      className: "map_sidebar"
    }, /*#__PURE__*/React.createElement("h3", {
      className: "map_sidebar_title"
    }, "FILTERS"), sidebarPanelsBox);
  }
};
var FilterMap = function FilterMap(_ref4) {
  var indexFilter = _ref4.indexFilter,
    index_parent = _ref4.index_parent,
    setFilterChange = _ref4.setFilterChange,
    filters = _ref4.filters,
    removeFilterBox = _ref4.removeFilterBox;
  var defaultFilterQuery = filters[indexFilter].map_filter_query,
    defaultFilterTitle = filters[indexFilter].map_filter_title;
  var _React$useState9 = React.useState(defaultFilterQuery),
    _React$useState10 = _slicedToArray(_React$useState9, 2),
    filterQuery = _React$useState10[0],
    setFilterQuery = _React$useState10[1];
  var filterQueryChange = function filterQueryChange(event) {
    var newArrQ = _toConsumableArray(filters);
    newArrQ[indexFilter].map_filter_query = event.target.value;
  };
  var _React$useState11 = React.useState(defaultFilterTitle),
    _React$useState12 = _slicedToArray(_React$useState11, 2),
    filterTitle = _React$useState12[0],
    setFilterTitle = _React$useState12[1];
  var filterTitleChange = function filterTitleChange(event) {
    var newArrQ = _toConsumableArray(filters);
    newArrQ[indexFilter].map_filter_title = event.target.value;
  };
  var filter_id = new Date().getTime();
  return /*#__PURE__*/React.createElement("div", {
    className: "query-div",
    id: "el_" + indexFilter + "__form_group"
  }, /*#__PURE__*/React.createElement("hr", null), /*#__PURE__*/React.createElement("h4", {
    className: "block_title"
  }, "Add a filter"), /*#__PURE__*/React.createElement("a", {
    onClick: function onClick() {
      return removeFilterBox(indexFilter);
    },
    className: "trash trash_subcomponent"
  }, /*#__PURE__*/React.createElement("i", {
    className: "far fa-trash-alt"
  })), /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("div", {
    className: "form-group",
    id: indexFilter + "__form_group_filter"
  }, /*#__PURE__*/React.createElement("label", {
    htmlFor: "largeInput"
  }, "SPARQL query"), /*#__PURE__*/React.createElement("textarea", {
    onChange: filterQueryChange,
    id: index_parent + "__map_filter_query_" + filter_id + "_" + indexFilter,
    name: index_parent + "__map_filter_query_" + filter_id + "_" + indexFilter,
    defaultValue: filterQuery,
    placeholder: "A SPARQL query that returns two variables",
    required: true
  }), /*#__PURE__*/React.createElement("label", {
    htmlFor: "largeInput"
  }, "Filter title"), /*#__PURE__*/React.createElement("input", {
    onChange: filterTitleChange,
    type: "text",
    id: index_parent + "__map_filter_title_" + filter_id + "_" + indexFilter,
    name: index_parent + "__map_filter_title_" + filter_id + "_" + indexFilter,
    defaultValue: filterTitle,
    placeholder: "The label of the filter"
  }), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("em", null, "Rerun the main query to update"))));
};
var MarkerSidebar = function MarkerSidebar(_ref5) {
  var markerSidebar = _ref5.markerSidebar,
    setMarkerSidebar = _ref5.setMarkerSidebar,
    setMarkerSidebarContent = _ref5.setMarkerSidebarContent,
    markerSidebarContent = _ref5.markerSidebarContent;
  function make_uri(el) {
    if (el.startsWith('http')) {
      return /*#__PURE__*/React.createElement("a", {
        href: el
      }, "URI ", /*#__PURE__*/React.createElement("i", {
        className: "far fa-external-link"
      }));
    } else {
      return el;
    }
  }
  var closeMarkerSidebar = function closeMarkerSidebar(e) {
    setMarkerSidebar('close');
  };
  if (markerSidebar == 'open') {
    console.log(markerSidebarContent);
    return /*#__PURE__*/React.createElement("div", {
      className: "map_sidebar map_sidebar_right"
    }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("a", {
      onClick: function onClick() {
        return closeMarkerSidebar();
      },
      className: "closeBox"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-times"
    })), /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("br", null), Object.keys(markerSidebarContent).map(function (detail, id) {
      return /*#__PURE__*/React.createElement("p", {
        key: id
      }, /*#__PURE__*/React.createElement("strong", null, detail, " "), make_uri(markerSidebarContent[detail]));
    })));
  }
};
var MapViz = function MapViz(_ref6) {
  var unique_key = _ref6.unique_key,
    index = _ref6.index,
    removeComponent = _ref6.removeComponent,
    componentList = _ref6.componentList,
    setComponent = _ref6.setComponent,
    sortComponentUp = _ref6.sortComponentUp,
    sortComponentDown = _ref6.sortComponentDown;
  var map = null,
    map_title = '',
    map_points_query = '',
    waitfilters,
    markers,
    allMarkers,
    map_filters = [],
    mapid = index + "__map_preview_container",
    checked_filters = [];

  // WYSIWYG: get content if any
  if (datastory_data.dynamic_elements && datastory_data.dynamic_elements.length) {
    datastory_data.dynamic_elements.forEach(function (element) {
      if (element.type == 'map' && element.position == index) {
        map_points_query = element.map_points_query;
        map_title = element.map_title;
        // filters
        if (element.map_filters && element.map_filters.length) {
          element.map_filters.forEach(function (element) {
            map_filters.push(element);
          });
        }
      }
    });
  }
  var _React$useState13 = React.useState(markers),
    _React$useState14 = _slicedToArray(_React$useState13, 2),
    markersMap = _React$useState14[0],
    setMarkers = _React$useState14[1];
  var _React$useState15 = React.useState(allMarkers),
    _React$useState16 = _slicedToArray(_React$useState15, 2),
    allMarkersMap = _React$useState16[0],
    setAllMarkers = _React$useState16[1];
  var _React$useState17 = React.useState(map_points_query),
    _React$useState18 = _slicedToArray(_React$useState17, 2),
    query = _React$useState18[0],
    setQuery = _React$useState18[1];
  var queryChange = function queryChange(event) {
    setQuery(event.target.value);
  };
  var _React$useState19 = React.useState(map_title),
    _React$useState20 = _slicedToArray(_React$useState19, 2),
    title = _React$useState20[0],
    setTitle = _React$useState20[1];
  var titleChange = function titleChange(event) {
    setTitle(event.target.value);
  };
  var _React$useState21 = React.useState('not initialised'),
    _React$useState22 = _slicedToArray(_React$useState21, 2),
    mapInstance = _React$useState22[0],
    setMap = _React$useState22[1];
  var _React$useState23 = React.useState(''),
    _React$useState24 = _slicedToArray(_React$useState23, 2),
    mapRendered = _React$useState24[0],
    setMapRender = _React$useState24[1];
  var _React$useState25 = React.useState(1),
    _React$useState26 = _slicedToArray(_React$useState25, 2),
    mapReload = _React$useState26[0],
    setMapReload = _React$useState26[1];
  var _React$useState27 = React.useState(false),
    _React$useState28 = _slicedToArray(_React$useState27, 2),
    isShown = _React$useState28[0],
    setIsShown = _React$useState28[1];
  var _React$useState29 = React.useState(map_filters),
    _React$useState30 = _slicedToArray(_React$useState29, 2),
    filters = _React$useState30[0],
    setFilter = _React$useState30[1];
  var _React$useState31 = React.useState(false),
    _React$useState32 = _slicedToArray(_React$useState31, 2),
    spinner = _React$useState32[0],
    setSpinner = _React$useState32[1];
  var initMap = function initMap(event) {
    // craziness of map already initialised

    if (mapInstance != 'initialised' && (map == undefined || map == null)) {
      if (mapRendered.length) {
        map = mapRendered;
      } else {
        try {
          map = L.map(mapid).setView([51.505, -0.09], 3);
          L.tileLayer('https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png?api_key=5303ddca-5934-45fc-bdf1-40fac7966fa7', {
            maxZoom: 19,
            attribution: '© OpenStreetMap'
          }).addTo(map);
        } catch (e) {
          console.log(e);
          var container = L.DomUtil.get(mapid);
          if (container != null) {
            container._leaflet_id = null;
          }
          map = L.map(mapid).setView([51.505, -0.09], 3);
          L.tileLayer('https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png?api_key=5303ddca-5934-45fc-bdf1-40fac7966fa7', {
            maxZoom: 19,
            attribution: '© OpenStreetMap'
          }).addTo(map);
        }
      }
    } else if (mapInstance == 'initialised') map = mapRendered;
    if (query.length > 1) {
      setSpinner(true);
      //if (map && map.remove) { map.off(); map.remove(); }
      var method = 'GET';
      if (query.length > 2000) {
        method = 'POST';
        fetch(datastory_data.sparql_endpoint + '?query=', {
          method: method,
          headers: {
            'Accept': 'application/sparql-results+json'
          },
          body: encodeURIComponent(query)
        }).then(function (res) {
          return res.json();
        }).then(function (data) {
          // add markers
          var geoJSONdata = creategeoJSON(data);
          markers = setViewMarkers(map, mapid, geoJSONdata, waitfilters, datastory_data.color_code[0]);
          allMarkers = setViewMarkers(map, mapid, geoJSONdata, waitfilters, datastory_data.color_code[0]);
        })["catch"](function (error) {
          setSpinner(false);
          console.error('Error:', error);
          alert("Map: there is an error in the query");
        })["finally"](function () {
          setSpinner(false);
          setMap('initialised');
          setMapRender(map);
          setMarkers(markers);
          setAllMarkers(allMarkers);
        });
      } else {
        fetch(datastory_data.sparql_endpoint + '?query=' + encodeURIComponent(query), {
          method: method,
          headers: {
            'Accept': 'application/sparql-results+json'
          }
        }).then(function (res) {
          return res.json();
        }).then(function (data) {
          // add markers
          var geoJSONdata = creategeoJSON(data);
          markers = setViewMarkers(map, mapid, geoJSONdata, waitfilters, datastory_data.color_code[0]);
          allMarkers = setViewMarkers(map, mapid, geoJSONdata, waitfilters, datastory_data.color_code[0]);
        })["catch"](function (error) {
          setSpinner(false);
          console.error('Error:', error);
          alert("Map: there is an error in the query");
        })["finally"](function () {
          setSpinner(false);
          setMap('initialised');
          setMapRender(map);
          setMarkers(markers);
          setAllMarkers(allMarkers);
        });
      }
    }
    return map;
  };
  function setViewMarkers(map, mapid, geoJSONdata, waitfilters, color_code) {
    // remove markers if any from a map already initialised
    map.eachLayer(function (layer) {
      if (layer instanceof L.MarkerClusterGroup) {
        map.removeLayer(layer);
      }
    });
    // remove geoJSON
    $('#dataMap_' + index).remove();

    // style clusters
    var innerClusterStyle = "display: inline-block; background:" + color_code + ";\
  		width: 40px; height: 40px !important; border-radius: 50% !important; padding-top: 10px; opacity: 0.8;";
    var markers = L.markerClusterGroup({
      iconCreateFunction: function iconCreateFunction(cluster) {
        var markers = cluster.getAllChildMarkers();
        var n = 0;
        markers.forEach(function (item, i) {
          n += 1;
        });
        return L.divIcon({
          html: "<span style='" + innerClusterStyle + "'>" + n + "</span>",
          className: 'mycluster pointer-color',
          iconSize: L.point(40, 40)
        });
      },
      singleMarkerMode: true
    });

    // get markers from geoJSON, bind popupContent
    var data_layers = L.geoJSON(geoJSONdata, {
      onEachFeature: onEachFeature
    });

    // add markers to clusters
    markers.addLayer(data_layers);

    // show clusters
    map.addLayer(markers);

    // add geoJSONdata to DOM
    var $body = $(document.body);
    $body.append("<script id='dataMap_" + index + "' type='application/json'>" + JSON.stringify(geoJSONdata) + "</script>");
    return markers;
  }
  ;
  var _React$useState33 = React.useState('close'),
    _React$useState34 = _slicedToArray(_React$useState33, 2),
    markerSidebar = _React$useState34[0],
    setMarkerSidebar = _React$useState34[1];
  var _React$useState35 = React.useState(''),
    _React$useState36 = _slicedToArray(_React$useState35, 2),
    markerSidebarContent = _React$useState36[0],
    setMarkerSidebarContent = _React$useState36[1];
  function openMarkerSidebar(selection, feature) {
    // sidebar.toggle();
    if (markerSidebar == 'close') {
      setMarkerSidebar('open');
      setMarkerSidebarContent(feature.properties.popupContent);
    } else {
      setMarkerSidebar('close');
      setMarkerSidebarContent('');
    }
    // sidebar.html('<h1> this is ' + selection.feature.popupContent + '</h1>');
  }

  function onEachFeature(feature, layer) {
    if (feature.properties && feature.properties.popupContent) {
      //layer.bindPopup(feature.properties.popupContent);
      layer.on({
        //mouseover: highlightFeature,
        //mouseout: resetHighlight,
        click: function click(e) {
          openMarkerSidebar(e, feature);
        }
      });
    }
  }
  ;
  function creategeoJSON(returnedJson) {
    var geoJSONdata = [];
    // clean headings
    var headings = returnedJson.head.vars;
    var there_is_point = headings.indexOf('point');
    headings.forEach(function (item, i) {
      if (item == 'lat' || item == 'long' || item == 'point') {
        headings.splice(i, 1);
        i--;
      }
    });

    // create geoJSON object
    returnedJson.results.bindings.forEach(function (item, i) {
      var pointObj = {};
      pointObj.type = "Feature";
      pointObj.properties = {};
      pointObj.properties.popupContent = {};
      headings.forEach(function (head, i) {
        pointObj.properties.popupContent[head] = item[head].value;
      });
      if (there_is_point != -1) {
        pointObj.properties.uri = item['point'].value;
        pointObj.properties.popupContent.point = item.point.value;
      }
      ;
      pointObj.geometry = {};
      pointObj.geometry.type = "Point";
      // check first
      pointObj.geometry.coordinates = [item["long"].value, item.lat.value];
      geoJSONdata.push(pointObj);
    });
    return geoJSONdata;
  }
  ;
  var filterQueriesBox = [];
  var filterChange = function filterChange(event) {
    setFilter(function (prevExtras) {
      return [].concat(_toConsumableArray(prevExtras), [{
        map_filter_query: '',
        map_filter_title: ''
      }]);
    });
  };
  var removeFilterBox = function removeFilterBox(indexFilter) {
    var form = document.getElementById('modifystory_form');
    var formData = new FormData(form);
    var url = window.location.toString();
    url = url.replace(/modify\//, 'modify_bkg\/');
    fetch(url, {
      method: 'POST',
      body: formData
    }).then(function (response) {
      return response.text();
    }).then(function (data) {
      if (data) {
        datastory_data = JSON.parse(data);
        setFilter(function (old_filters) {
          var new_filters = [];
          datastory_data.dynamic_elements.forEach(function (element) {
            if (element.type == 'map' && element.position == index) {
              if (element.map_filters && element.map_filters.length) {
                element.map_filters.forEach(function (elem, i) {
                  if (elem.position != indexFilter) {
                    new_filters.push(elem);
                  }
                });
              }
            }
          });
          return new_filters;
        });
      }
    })["catch"](function (error) {
      console.log(error);
    });
  };
  if (filters) {
    for (var i = 0; i < filters.length; i++) {
      filterQueriesBox.push( /*#__PURE__*/React.createElement(FilterMap, {
        indexFilter: i,
        key: generateKey(filters[i].map_filter_title) + i,
        index_parent: index,
        setFilterChange: setFilter,
        filters: filters,
        removeFilterBox: removeFilterBox
      }));
    }
  }

  // preview
  React.useEffect(function () {
    if (mapInstance != 'initialised') {
      map = initMap();
    } else if (mapInstance == 'initialised') {
      map = mapRendered;
    }
    $("textarea").each(function () {
      this.setAttribute("style", "height:" + this.scrollHeight + "px;overflow-y:hidden;");
    }).on("input", function () {
      this.style.height = 0;
      this.style.height = this.scrollHeight + "px";
    });
  }, []);

  // WYSIWYG: render component and preview
  if (window.location.href.indexOf("/modify/") > -1) {
    try {
      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("div", {
        id: index + "__block_field",
        className: "block_field"
      }, spinner && /*#__PURE__*/React.createElement("span", {
        id: "loader",
        className: "lds-dual-ring overlay"
      }), /*#__PURE__*/React.createElement("div", {
        className: "ribbon"
      }), /*#__PURE__*/React.createElement("h4", {
        className: "block_title"
      }, "Add a map"), /*#__PURE__*/React.createElement(SortComponent, {
        index: index,
        sortComponentUp: sortComponentUp,
        sortComponentDown: sortComponentDown,
        key: unique_key
      }), /*#__PURE__*/React.createElement(RemoveComponent, {
        index: index,
        removeComponent: removeComponent,
        key: unique_key
      }), /*#__PURE__*/React.createElement("div", {
        className: "form-group",
        id: index + "__form_group"
      }, /*#__PURE__*/React.createElement("label", {
        htmlFor: "map_title"
      }, "Map title"), /*#__PURE__*/React.createElement("input", {
        className: "map_title",
        id: index + "__map_title",
        type: "text",
        defaultValue: title,
        onChange: titleChange,
        name: index + "__map_title",
        placeholder: "The title of the map"
      }), /*#__PURE__*/React.createElement("label", {
        htmlFor: "addplaceholder_points"
      }, "SPARQL query"), /*#__PURE__*/React.createElement("textarea", {
        className: "addplaceholder_points",
        name: index + "__map_points_query",
        type: "text",
        id: index + "__map_points_query",
        onChange: queryChange,
        defaultValue: query,
        required: true
      }), /*#__PURE__*/React.createElement("a", {
        style: {
          cursor: 'pointer'
        },
        onClick: initMap
      }, "Run the query"), " | ", /*#__PURE__*/React.createElement("a", {
        href: "#",
        role: "button",
        "data-toggle": "modal",
        "data-target": "#mapsModalLong"
      }, "Learn more about SPARQL queries for maps")), /*#__PURE__*/React.createElement("h3", null, title), /*#__PURE__*/React.createElement("div", {
        className: "map_preview_container",
        id: index + '__map_preview_container'
      }, /*#__PURE__*/React.createElement(MapSidebar, {
        index: index,
        filters: filters,
        key: "sidebar_" + unique_key + index,
        onMouseEnter: function onMouseEnter() {
          return setIsShown(true);
        },
        onMouseLeave: function onMouseLeave() {
          return setIsShown(false);
        },
        onEachFeature: onEachFeature,
        allMarkers: allMarkersMap,
        markers: markersMap,
        map: mapRendered
      }), /*#__PURE__*/React.createElement(MarkerSidebar, {
        key: "marker_sidebar_" + unique_key + index,
        markerSidebar: markerSidebar,
        setMarkerSidebar: setMarkerSidebar,
        setMarkerSidebarContent: setMarkerSidebarContent,
        markerSidebarContent: markerSidebarContent
      })), /*#__PURE__*/React.createElement("a", {
        id: index + "__addmapfilter",
        className: "btn btn-primary btn-border",
        onClick: filterChange,
        extra: "True",
        name: index + "map_filter"
      }, "Add a filter"), filterQueriesBox), /*#__PURE__*/React.createElement("div", {
        className: "modal fade",
        id: "mapsModalLong",
        tabIndex: "-1",
        role: "dialog",
        "aria-labelledby": "mapsModalLongTitle",
        "aria-hidden": "true"
      }, /*#__PURE__*/React.createElement("div", {
        className: "modal-dialog modal-lg",
        role: "document"
      }, /*#__PURE__*/React.createElement("div", {
        className: "modal-content card"
      }, /*#__PURE__*/React.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/React.createElement("h4", {
        id: "mapsModalLongTitle",
        className: "card-title"
      }, "Populate a map with SPARQL")), /*#__PURE__*/React.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/React.createElement("div", {
        className: "container"
      }, /*#__PURE__*/React.createElement("div", {
        className: "row"
      }, /*#__PURE__*/React.createElement("p", null, "A SPARQL query to create a map requires you to include the following variables (names are mandatory)."), /*#__PURE__*/React.createElement("ul", null, /*#__PURE__*/React.createElement("li", null, /*#__PURE__*/React.createElement("strong", null, "point"), ": (URI) the resource to be plotted."), /*#__PURE__*/React.createElement("li", null, /*#__PURE__*/React.createElement("strong", null, "lat"), ": (string) the latitude of the point"), /*#__PURE__*/React.createElement("li", null, /*#__PURE__*/React.createElement("strong", null, "long"), ": (string) the longitude of the point")), /*#__PURE__*/React.createElement("p", null, "You can add as many other variables as you like. Values will be shown on the right sidebar when clicking on a point in the map. To get pretty labels associated to values (when the latter are URIs) use the notation ", /*#__PURE__*/React.createElement("code", null, "?var"), " and ", /*#__PURE__*/React.createElement("code", null, "?varLabel"), " when declaring variables in the SELECT clause."), /*#__PURE__*/React.createElement("p", null, "For instance, a query to Wikidata to return museums in Brittany would look like follows:"), /*#__PURE__*/React.createElement("code", {
        className: "query-eg"
      }, "SELECT DISTINCT ?point ?pointLabel ?villeIdLabel ?lat ?long", /*#__PURE__*/React.createElement("br", null), "WHERE {", /*#__PURE__*/React.createElement("br", null), "?point wdt:P539 ?museofile; wdt:P131* wd:Q12130; ", /*#__PURE__*/React.createElement("br", null), "wdt:P131 ?villeId; p:P625 ?statement.", /*#__PURE__*/React.createElement("br", null), "?statement psv:P625 ?node. ", "?node wikibase:geoLatitude ?lat ; wikibase:geoLongitude ?long.", /*#__PURE__*/React.createElement("br", null), "SERVICE wikibase:label { bd:serviceParam wikibase:language 'en'. } } ", /*#__PURE__*/React.createElement("br", null)), /*#__PURE__*/React.createElement("p", null, "The map plots points as clusters, showing the number of resources per area. When moving the mouse over a cluster, the edges of the area is shown."), /*#__PURE__*/React.createElement("p", null, "Please note that to see the preview on the map you must click on ", /*#__PURE__*/React.createElement("code", null, "Run the query"), ", to avoid expensive unnecessary queries."), /*#__PURE__*/React.createElement("h4", {
        className: "block_title"
      }, "Filters"), /*#__PURE__*/React.createElement("p", null, "You can add filters to the map, which will appear in the left sidebar. To add a filter to the map you need a SPARQL query where to specify three variables (names are mandatory):"), /*#__PURE__*/React.createElement("ul", null, /*#__PURE__*/React.createElement("li", null, /*#__PURE__*/React.createElement("strong", null, "point"), ": a variable identifying the data points returned by the previous query. We will replace this variable with the list of data points returned by the previous query, so you do not need to repeat the patterns to identify what a point is."), /*#__PURE__*/React.createElement("li", null, /*#__PURE__*/React.createElement("strong", null, "filter"), ":  the variable to be used as a filter. Can be a URI or a Literal."), /*#__PURE__*/React.createElement("li", null, /*#__PURE__*/React.createElement("strong", null, "filterLabel"), ": the label of the filter in case the filter is a URI.")), /*#__PURE__*/React.createElement("p", null, "For instance, a query on Wikidata to return museums' types as filters would look like follows:"), /*#__PURE__*/React.createElement("code", {
        className: "query-eg"
      }, "SELECT DISTINCT ?point ?filter ?filterLabel", /*#__PURE__*/React.createElement("br", null), "WHERE {", /*#__PURE__*/React.createElement("br", null), "?point wdt:P539 ?museofile; wdt:P131* wd:Q12130. ", /*#__PURE__*/React.createElement("br", null), "?point wdt:P131 ?filter. ?filter rdfs:label ?filterLabel .", /*#__PURE__*/React.createElement("br", null), "FILTER(LANG(?filterLabel) = '' || LANGMATCHES(LANG(?filterLabel), 'en')). }", /*#__PURE__*/React.createElement("br", null))))), /*#__PURE__*/React.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/React.createElement("button", {
        type: "button",
        className: "btn btn-danger",
        "data-dismiss": "modal"
      }, "Close"))))));
    } catch (error) {
      return /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  } else {
    // Final story: render preview
    try {
      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("h3", {
        className: "block_title float_none"
      }, title), /*#__PURE__*/React.createElement("div", {
        className: "map_preview_container",
        id: index + '__map_preview_container'
      }, /*#__PURE__*/React.createElement(MapSidebar, {
        index: index,
        filters: filters,
        key: "sidebar_" + unique_key + index,
        onMouseEnter: function onMouseEnter() {
          return setIsShown(true);
        },
        onMouseLeave: function onMouseLeave() {
          return setIsShown(false);
        },
        onEachFeature: onEachFeature,
        allMarkers: allMarkersMap,
        markers: markersMap,
        map: mapRendered
      }), /*#__PURE__*/React.createElement(MarkerSidebar, {
        key: "marker_sidebar_" + unique_key + index,
        markerSidebar: markerSidebar,
        setMarkerSidebar: setMarkerSidebar,
        setMarkerSidebarContent: setMarkerSidebarContent,
        markerSidebarContent: markerSidebarContent
      })));
    } catch (error) {
      return /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZW5lcmF0ZUtleSIsInByZSIsImNvbmNhdCIsIkRhdGUiLCJnZXRUaW1lIiwiRmlsdGVyQ2hlY2tib3giLCJfcmVmIiwia2V5X2NoZWNrIiwidmFsdWVfY2hlY2siLCJpbmRleFBhbmVsIiwiZmlsdGVyX3RpdGxlIiwibWFya2VycyIsImFsbE1hcmtlcnMiLCJtYXAiLCJjaGVja2VkX2ZpbHRlcnMiLCJfUmVhY3QkdXNlU3RhdGUiLCJSZWFjdCIsInVzZVN0YXRlIiwiX1JlYWN0JHVzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5IiwiY2hlY2tlZCIsInNldENoZWNrIiwiYWRkUmVtb3ZlTWFya2VycyIsIkFycmF5IiwiZnJvbSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInVuZGVmaW5lZCIsImNsZWFyTGF5ZXJzIiwiZWFjaExheWVyIiwibGF5ZXIiLCJhZGRMYXllciIsImZpbHRlcm5hbWVzIiwibGVuZ3RoIiwiX2l0ZXJhdG9yIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJ2YWx1ZXMiLCJfc3RlcCIsInMiLCJuIiwiZG9uZSIsInZhbHVlIiwicHVzaCIsImRhdGFzZXQiLCJmaWx0ZXIiLCJlcnIiLCJlIiwiZiIsIl90b0NvbnN1bWFibGVBcnJheSIsIlNldCIsImZpbHRlcm5hbWVzX3ZhbHVlcyIsImZvckVhY2giLCJlbCIsImluZGV4IiwiX2l0ZXJhdG9yMiIsIl9zdGVwMiIsIk9iamVjdCIsImtleXMiLCJmX25hbWVzIiwibmFtZSIsImkiLCJwcm9wX2tleSIsInByb3BfdmFsdWUiLCJmZWF0dXJlIiwicHJvcGVydGllcyIsImluY2x1ZGVzIiwicmVtb3ZlTGF5ZXIiLCJMIiwiTWFya2VyQ2x1c3Rlckdyb3VwIiwiY2hhbmdlQ2hlY2siLCJldmVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwibGFiZWwiLCJkZWZhdWx0VmFsdWUiLCJvbkNsaWNrIiwiY2xhc3NOYW1lIiwiaHRtbEZvciIsInN0eWxlIiwiY29sb3IiLCJTaWRlYmFyUGFuZWwiLCJfcmVmMiIsImluZGV4X3BhcmVudCIsIm9uRWFjaEZlYXR1cmUiLCJmaWx0ZXJzIiwiX1JlYWN0JHVzZVN0YXRlMyIsIl9SZWFjdCR1c2VTdGF0ZTQiLCJjb2xsYXBzZWRCb3giLCJzZXRDb2xsYXBzZSIsIl9SZWFjdCR1c2VTdGF0ZTUiLCJfUmVhY3QkdXNlU3RhdGU2IiwiZmlyc3RMb2FkIiwic2V0TG9hZCIsIl9SZWFjdCR1c2VTdGF0ZTciLCJfUmVhY3QkdXNlU3RhdGU4IiwiY2hlY2tib3hEYXRhIiwic2V0Q2hlY2tib3giLCJjaGVja2JveEJveCIsImZfcXVlcnkiLCJtYXBfZmlsdGVyX3F1ZXJ5IiwiZXh0cmFfaWQiLCJ1cGRhdGVfcGFuZWwiLCJkYXRhc3RvcnlfZGF0YSIsImR5bmFtaWNfZWxlbWVudHMiLCJlbGVtZW50IiwicG9zaXRpb24iLCJtYXBfZmlsdGVycyIsIml0ZW0iLCJtYXBfZmlsdGVyX3RpdGxlIiwiZ2V0Q2hlY2tib3hlcyIsImRhdGFNYXAiLCJKU09OIiwicGFyc2UiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsInVyaSIsImRlY29kZWRfcXVlcnkiLCJkZWNvZGVVUklDb21wb25lbnQiLCJkZWNvZGVkX3F1ZXJ5X3BhcnRzIiwic3BsaXQiLCJlbmNvZGVkX3F1ZXJ5IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVwbGFjZSIsIm1ldGhvZCIsImZldGNoIiwic3BhcnFsX2VuZHBvaW50IiwiaGVhZGVycyIsImJvZHkiLCJ0aGVuIiwicmVzIiwianNvbiIsImRhdGEiLCJsYWJlbHNfdmFsdWVzX2NvdW50IiwiaGVhZGluZ3MiLCJoZWFkIiwidmFycyIsImhhc19sYWJlbCIsInJlc3VsdHMiLCJiaW5kaW5ncyIsImVsZW0iLCJwb2ludCIsImZpbHRlckxhYmVsIiwiJCIsInJlbW92ZSIsIiRib2R5IiwiYXBwZW5kIiwic3RyaW5naWZ5IiwiZGF0YV9sYXllcnMiLCJnZW9KU09OIiwiZmlsdGVyX25hbWVzIiwiZmlsdGVyX25hbWUiLCJwcmV2Q2hlY2tib3hlcyIsImNvbGxhcHNlIiwiZXJyb3IiLCJjb25zb2xlIiwiYWxlcnQiLCJrZXkiLCJ1c2VFZmZlY3QiLCJyb2xlIiwiaHJlZiIsImlkIiwiTWFwU2lkZWJhciIsIl9yZWYzIiwic2V0SXNTaG93biIsImlzU2hvd24iLCJzaWRlYmFyUGFuZWxzQm94IiwiYmFja2dyb3VuZCIsImNvbG9yX2NvZGUiLCJGaWx0ZXJNYXAiLCJfcmVmNCIsImluZGV4RmlsdGVyIiwic2V0RmlsdGVyQ2hhbmdlIiwicmVtb3ZlRmlsdGVyQm94IiwiZGVmYXVsdEZpbHRlclF1ZXJ5IiwiZGVmYXVsdEZpbHRlclRpdGxlIiwiX1JlYWN0JHVzZVN0YXRlOSIsIl9SZWFjdCR1c2VTdGF0ZTEwIiwiZmlsdGVyUXVlcnkiLCJzZXRGaWx0ZXJRdWVyeSIsImZpbHRlclF1ZXJ5Q2hhbmdlIiwibmV3QXJyUSIsInRhcmdldCIsIl9SZWFjdCR1c2VTdGF0ZTExIiwiX1JlYWN0JHVzZVN0YXRlMTIiLCJmaWx0ZXJUaXRsZSIsInNldEZpbHRlclRpdGxlIiwiZmlsdGVyVGl0bGVDaGFuZ2UiLCJmaWx0ZXJfaWQiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwicmVxdWlyZWQiLCJNYXJrZXJTaWRlYmFyIiwiX3JlZjUiLCJtYXJrZXJTaWRlYmFyIiwic2V0TWFya2VyU2lkZWJhciIsInNldE1hcmtlclNpZGViYXJDb250ZW50IiwibWFya2VyU2lkZWJhckNvbnRlbnQiLCJtYWtlX3VyaSIsInN0YXJ0c1dpdGgiLCJjbG9zZU1hcmtlclNpZGViYXIiLCJsb2ciLCJkZXRhaWwiLCJNYXBWaXoiLCJfcmVmNiIsInVuaXF1ZV9rZXkiLCJyZW1vdmVDb21wb25lbnQiLCJjb21wb25lbnRMaXN0Iiwic2V0Q29tcG9uZW50Iiwic29ydENvbXBvbmVudFVwIiwic29ydENvbXBvbmVudERvd24iLCJtYXBfdGl0bGUiLCJtYXBfcG9pbnRzX3F1ZXJ5Iiwid2FpdGZpbHRlcnMiLCJtYXBpZCIsIl9SZWFjdCR1c2VTdGF0ZTEzIiwiX1JlYWN0JHVzZVN0YXRlMTQiLCJtYXJrZXJzTWFwIiwic2V0TWFya2VycyIsIl9SZWFjdCR1c2VTdGF0ZTE1IiwiX1JlYWN0JHVzZVN0YXRlMTYiLCJhbGxNYXJrZXJzTWFwIiwic2V0QWxsTWFya2VycyIsIl9SZWFjdCR1c2VTdGF0ZTE3IiwiX1JlYWN0JHVzZVN0YXRlMTgiLCJxdWVyeSIsInNldFF1ZXJ5IiwicXVlcnlDaGFuZ2UiLCJfUmVhY3QkdXNlU3RhdGUxOSIsIl9SZWFjdCR1c2VTdGF0ZTIwIiwidGl0bGUiLCJzZXRUaXRsZSIsInRpdGxlQ2hhbmdlIiwiX1JlYWN0JHVzZVN0YXRlMjEiLCJfUmVhY3QkdXNlU3RhdGUyMiIsIm1hcEluc3RhbmNlIiwic2V0TWFwIiwiX1JlYWN0JHVzZVN0YXRlMjMiLCJfUmVhY3QkdXNlU3RhdGUyNCIsIm1hcFJlbmRlcmVkIiwic2V0TWFwUmVuZGVyIiwiX1JlYWN0JHVzZVN0YXRlMjUiLCJfUmVhY3QkdXNlU3RhdGUyNiIsIm1hcFJlbG9hZCIsInNldE1hcFJlbG9hZCIsIl9SZWFjdCR1c2VTdGF0ZTI3IiwiX1JlYWN0JHVzZVN0YXRlMjgiLCJfUmVhY3QkdXNlU3RhdGUyOSIsIl9SZWFjdCR1c2VTdGF0ZTMwIiwic2V0RmlsdGVyIiwiX1JlYWN0JHVzZVN0YXRlMzEiLCJfUmVhY3QkdXNlU3RhdGUzMiIsInNwaW5uZXIiLCJzZXRTcGlubmVyIiwiaW5pdE1hcCIsInNldFZpZXciLCJ0aWxlTGF5ZXIiLCJtYXhab29tIiwiYXR0cmlidXRpb24iLCJhZGRUbyIsImNvbnRhaW5lciIsIkRvbVV0aWwiLCJnZXQiLCJfbGVhZmxldF9pZCIsImdlb0pTT05kYXRhIiwiY3JlYXRlZ2VvSlNPTiIsInNldFZpZXdNYXJrZXJzIiwiaW5uZXJDbHVzdGVyU3R5bGUiLCJtYXJrZXJDbHVzdGVyR3JvdXAiLCJpY29uQ3JlYXRlRnVuY3Rpb24iLCJjbHVzdGVyIiwiZ2V0QWxsQ2hpbGRNYXJrZXJzIiwiZGl2SWNvbiIsImh0bWwiLCJpY29uU2l6ZSIsInNpbmdsZU1hcmtlck1vZGUiLCJfUmVhY3QkdXNlU3RhdGUzMyIsIl9SZWFjdCR1c2VTdGF0ZTM0IiwiX1JlYWN0JHVzZVN0YXRlMzUiLCJfUmVhY3QkdXNlU3RhdGUzNiIsIm9wZW5NYXJrZXJTaWRlYmFyIiwic2VsZWN0aW9uIiwicG9wdXBDb250ZW50Iiwib24iLCJjbGljayIsInJldHVybmVkSnNvbiIsInRoZXJlX2lzX3BvaW50IiwiaW5kZXhPZiIsInNwbGljZSIsInBvaW50T2JqIiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsImxhdCIsImZpbHRlclF1ZXJpZXNCb3giLCJmaWx0ZXJDaGFuZ2UiLCJwcmV2RXh0cmFzIiwiZm9ybSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInRvU3RyaW5nIiwicmVzcG9uc2UiLCJ0ZXh0Iiwib2xkX2ZpbHRlcnMiLCJuZXdfZmlsdGVycyIsImVhY2giLCJzZXRBdHRyaWJ1dGUiLCJzY3JvbGxIZWlnaHQiLCJoZWlnaHQiLCJGcmFnbWVudCIsIlNvcnRDb21wb25lbnQiLCJSZW1vdmVDb21wb25lbnQiLCJjdXJzb3IiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJleHRyYSIsInRhYkluZGV4IiwiRXJyb3JIYW5kbGVyIl0sInNvdXJjZXMiOlsiaHR0cHM6Ly9wcm9qZWN0cy5kaGFyYy51bmliby5pdC9tZWxvZHkvc3RhdGljL2pzL3JlYWN0L01hcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBnZW5lcmF0ZUtleSA9IChwcmUpID0+IHtcbiAgICByZXR1cm4gYCR7IHByZSB9XyR7IG5ldyBEYXRlKCkuZ2V0VGltZSgpIH1gO1xufVxuXG5jb25zdCBGaWx0ZXJDaGVja2JveCA9ICh7IGtleV9jaGVjaywgdmFsdWVfY2hlY2sgLCBpbmRleFBhbmVsICxcbiAgICAgIGZpbHRlcl90aXRsZSAsIG1hcmtlcnMsIGFsbE1hcmtlcnMsIG1hcH0pID0+IHtcblxuICBsZXQgY2hlY2tlZF9maWx0ZXJzO1xuICBjb25zdCBbY2hlY2tlZCwgc2V0Q2hlY2tdID0gUmVhY3QudXNlU3RhdGUoJ25vdCBjaGVja2VkJyk7XG5cbiAgZnVuY3Rpb24gYWRkUmVtb3ZlTWFya2VycygpIHtcbiAgICBjaGVja2VkX2ZpbHRlcnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W2NsYXNzPVwibWFwX2NoZWNrYm94XCJdOmNoZWNrZWQnKSk7XG4gICAgaWYgKG1hcmtlcnMgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1hcmtlcnMuY2xlYXJMYXllcnMoKTtcbiAgICAgICAgYWxsTWFya2Vycy5lYWNoTGF5ZXIobGF5ZXIgPT4geyBtYXJrZXJzLmFkZExheWVyKGxheWVyKTsgfSk7XG5cbiAgICAgICAgLy8gZ2V0IHRoZSBmaWx0ZXIgbmFtZXNcbiAgICAgICAgbGV0IGZpbHRlcm5hbWVzID0gW107XG4gICAgICAgIGlmIChjaGVja2VkX2ZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGNoZWNrZWRfZmlsdGVycy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcm5hbWVzLnB1c2godmFsdWUuZGF0YXNldC5maWx0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFsgZmlsdGVyMSwgZmlsdGVyMiAuLi5dXG4gICAgICAgIGZpbHRlcm5hbWVzID0gWy4uLm5ldyBTZXQoZmlsdGVybmFtZXMpXTtcblxuICAgICAgICAvLyBhZGQgdmFsdWVzIGNoZWNrZWRcbiAgICAgICAgdmFyIGZpbHRlcm5hbWVzX3ZhbHVlcyA9IHt9O1xuICAgICAgICBmaWx0ZXJuYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCwgaW5kZXgpIHsgZmlsdGVybmFtZXNfdmFsdWVzW2VsXSA9IFtdOyB9KTtcblxuICAgICAgICAvLyB7IGZpbHRlcjE6IFsgY2hlY2tib3gxdmFsdWUsIGNoZWNrYm94MnZhbHVlXSwgZmlsdGVyMiA6IFsgLi4uIF0gLi4uXVxuICAgICAgICBpZiAoY2hlY2tlZF9maWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBjaGVja2VkX2ZpbHRlcnMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJuYW1lc192YWx1ZXNbdmFsdWUuZGF0YXNldC5maWx0ZXJdLnB1c2godmFsdWUudmFsdWUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoZmlsdGVybmFtZXNfdmFsdWVzKS5sZW5ndGgpIHtcbiAgICAgICAgICBsZXQgZl9uYW1lcyA9IE9iamVjdC5rZXlzKGZpbHRlcm5hbWVzX3ZhbHVlcyk7XG4gICAgICAgICAgZl9uYW1lcy5mb3JFYWNoKChuYW1lLCBpKSA9PiB7XG4gICAgICAgICAgICBtYXJrZXJzLmVhY2hMYXllcihsYXllciA9PiB7XG4gICAgICAgICAgICAgIC8vIGlmIHByb3BlcnR5IHZhbHVlIG5vdCBpbiB0aGUgbGlzdCBvZiBjaGVja2VkLWNoZWNrYm94ZXMgdmFsdWVzIHJlbW92ZSBtYXJrZXJcbiAgICAgICAgICAgICAgdmFyIHByb3Bfa2V5ID0gbmFtZSArICcjdmFsdWUnO1xuICAgICAgICAgICAgICB2YXIgcHJvcF92YWx1ZSA9IGxheWVyLmZlYXR1cmUucHJvcGVydGllc1twcm9wX2tleV07XG4gICAgICAgICAgICAgIGlmICghZmlsdGVybmFtZXNfdmFsdWVzW25hbWVdLmluY2x1ZGVzKHByb3BfdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICBtYXJrZXJzLnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBjbGVhciBtYXBcbiAgICAgICAgICBtYXAuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICAgICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLk1hcmtlckNsdXN0ZXJHcm91cCkge1xuICAgICAgICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGxheWVyKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbWFwLmFkZExheWVyKG1hcmtlcnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVsc2UgcHV0IHRoZW0gYWxsIGJhY2shXG4gICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICBtYXAuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICAgICAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTWFya2VyQ2x1c3Rlckdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5yZW1vdmVMYXllcihsYXllcilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1hcmtlcnMuY2xlYXJMYXllcnMoKTtcbiAgICAgICAgICAgIGFsbE1hcmtlcnMuZWFjaExheWVyKGxheWVyID0+IHtcbiAgICAgICAgICAgICAgICBtYXJrZXJzLmFkZExheWVyKGxheWVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbWFwLmFkZExheWVyKG1hcmtlcnMpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2hhbmdlQ2hlY2sgPSBldmVudCA9PiB7XG4gICAgaWYgKGNoZWNrZWQgPT0gJ25vdCBjaGVja2VkJykge1xuICAgICAgc2V0Q2hlY2soJ2NoZWNrZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0Q2hlY2soJ25vdCBjaGVja2VkJyk7XG4gICAgfVxuICAgIGFkZFJlbW92ZU1hcmtlcnMoKTtcblxuICB9XG4gIHJldHVybiAoXG4gICAgPHA+XG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT0nY2hlY2tib3gnXG4gICAgICAgIGxhYmVsPXt2YWx1ZV9jaGVja1swXSArIFwiIChcIiArIHZhbHVlX2NoZWNrWzFdICsgXCIpXCJ9XG4gICAgICAgIGRlZmF1bHRWYWx1ZT17a2V5X2NoZWNrfVxuICAgICAgICBuYW1lPXtrZXlfY2hlY2t9XG4gICAgICAgIG9uQ2xpY2s9e2NoYW5nZUNoZWNrfVxuICAgICAgICBjbGFzc05hbWU9XCJtYXBfY2hlY2tib3hcIlxuICAgICAgICBkYXRhLWZpbHRlcj17ZmlsdGVyX3RpdGxlfT5cbiAgICAgIDwvaW5wdXQ+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJrZXlfY2hlY2tcIiBodG1sRm9yPVwia2V5X2NoZWNrXCIgc3R5bGU9e3tjb2xvcjonYmxhY2snfX0+XG4gICAgICAgIHt2YWx1ZV9jaGVja1swXSArIFwiIChcIiArIHZhbHVlX2NoZWNrWzFdICsgXCIpXCJ9XG4gICAgICA8L3NwYW4+XG4gICAgPC9wPlxuICApXG59XG5cbmNvbnN0IFNpZGViYXJQYW5lbCA9ICh7aW5kZXhQYW5lbCAsXG4gICAgaW5kZXhfcGFyZW50ICwgb25FYWNoRmVhdHVyZSAsIGZpbHRlcnMsIGZpbHRlcl90aXRsZSwgbWFya2VycywgYWxsTWFya2VycywgbWFwfSkgPT4ge1xuXG4gIGNvbnN0IFtjb2xsYXBzZWRCb3gsIHNldENvbGxhcHNlXSA9IFJlYWN0LnVzZVN0YXRlKCdub3QgY29sbGFwc2VkJyk7XG4gIGNvbnN0IFtmaXJzdExvYWQsIHNldExvYWRdID0gUmVhY3QudXNlU3RhdGUoJ25vdCBsb2FkZWQnKTtcblxuICBjb25zdCBbY2hlY2tib3hEYXRhLHNldENoZWNrYm94XSA9IFJlYWN0LnVzZVN0YXRlKFtdKTtcbiAgY29uc3QgY2hlY2tib3hCb3ggPSBbXVxuXG4gIGxldCBmX3F1ZXJ5ID0gZmlsdGVyc1tpbmRleFBhbmVsXS5tYXBfZmlsdGVyX3F1ZXJ5LFxuICAgICAgZXh0cmFfaWQgPSBmaWx0ZXJzW2luZGV4UGFuZWxdLmV4dHJhX2lkO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZV9wYW5lbCgpIHtcbiAgICBpZiAoZGF0YXN0b3J5X2RhdGEuZHluYW1pY19lbGVtZW50cyAmJiBkYXRhc3RvcnlfZGF0YS5keW5hbWljX2VsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgZGF0YXN0b3J5X2RhdGEuZHluYW1pY19lbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudC50eXBlID09ICdtYXAnICYmIGVsZW1lbnQucG9zaXRpb24gPT0gaW5kZXhfcGFyZW50KSB7XG4gICAgICAgICAgaWYgKGVsZW1lbnQubWFwX2ZpbHRlcnMubGVuZ3RoID4gaW5kZXhQYW5lbCkge1xuICAgICAgICAgICAgZWxlbWVudC5tYXBfZmlsdGVycy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpdGVtLnBvc2l0aW9uID09IGluZGV4UGFuZWwpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJfdGl0bGUgPSBpdGVtLm1hcF9maWx0ZXJfdGl0bGUgO1xuICAgICAgICAgICAgICAgIGZfcXVlcnkgPSBpdGVtLm1hcF9maWx0ZXJfcXVlcnk7XG4gICAgICAgICAgICAgICAgZXh0cmFfaWQgPSBpdGVtLmV4dHJhX2lkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuXG4gIGNvbnN0IGdldENoZWNrYm94ZXMgPSBldmVudCA9PiB7XG4gICAgaWYgKGZfcXVlcnkubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIGRhdGFNYXAgPSBKU09OLnBhcnNlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhTWFwXycraW5kZXhfcGFyZW50KS5pbm5lckhUTUwpO1xuICAgICAgdmFyIHZhbHVlcyA9IFwiVkFMVUVTID9wb2ludCB7XCI7XG4gICAgICBkYXRhTWFwLmZvckVhY2goKGl0ZW0sIGkpID0+IHsgdmFsdWVzICs9ICc8JyArIGl0ZW0ucHJvcGVydGllcy51cmkgKyAnPiAnOyB9KTtcbiAgICAgIHZhbHVlcyArPSAnfSc7XG5cbiAgICAgIC8vIHJlc3RydWN0dXJlIHF1ZXJ5IHdpdGggVkFMVUVTXG4gICAgICB2YXIgZGVjb2RlZF9xdWVyeSA9IGRlY29kZVVSSUNvbXBvbmVudChmX3F1ZXJ5KTtcbiAgICAgIHZhciBkZWNvZGVkX3F1ZXJ5X3BhcnRzID0gZGVjb2RlZF9xdWVyeS5zcGxpdCgvXFx7KC4qKS9zKTtcbiAgICAgIGRlY29kZWRfcXVlcnkgPSBkZWNvZGVkX3F1ZXJ5X3BhcnRzWzBdICsgJ3snICsgdmFsdWVzICsgZGVjb2RlZF9xdWVyeV9wYXJ0c1sxXTtcbiAgICAgIHZhciBlbmNvZGVkX3F1ZXJ5ID0gZW5jb2RlVVJJQ29tcG9uZW50KGRlY29kZWRfcXVlcnkucmVwbGFjZSgnXFxuJywgJyAnKSk7XG5cbiAgICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICAgIGlmIChlbmNvZGVkX3F1ZXJ5Lmxlbmd0aCA+IDIwMDApIHtcbiAgICAgICAgbWV0aG9kID0gJ1BPU1QnXG4gICAgICAgIGZldGNoKGRhdGFzdG9yeV9kYXRhLnNwYXJxbF9lbmRwb2ludCsnP3F1ZXJ5PScsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9zcGFycWwtcmVzdWx0cytqc29uJyB9LFxuICAgICAgICAgICAgYm9keTogZW5jb2RlZF9xdWVyeVxuICAgICAgICAgICAgfVxuICAgICAgICApLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgbGV0IGxhYmVsc192YWx1ZXNfY291bnQgPSB7fSwgaGVhZGluZ3MgPSBkYXRhLmhlYWQudmFycyxcbiAgICAgICAgICAgICAgICBoYXNfbGFiZWwgPSBmYWxzZTtcblxuICAgICAgICAgICBkYXRhLnJlc3VsdHMuYmluZGluZ3MuZm9yRWFjaCgocmVzLCBpKSA9PiB7XG4gICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGZpbHRlciBpcyBhIHN0cmluZyBvciBhIHVyaStzdHJpbmdcbiAgICAgICAgICAgICBpZiAoaGVhZGluZ3MuaW5jbHVkZXMoJ2ZpbHRlckxhYmVsJykpIHsgaGFzX2xhYmVsID0gdHJ1ZTsgfVxuXG4gICAgICAgICAgICAgZGF0YU1hcC5mb3JFYWNoKChlbGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICBpZiAoZWxlbS5wcm9wZXJ0aWVzLnVyaSA9PSByZXMucG9pbnQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgaWYgKGhhc19sYWJlbCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgZWxlbS5wcm9wZXJ0aWVzW2ZpbHRlcl90aXRsZSArIFwiI2xhYmVsXCJdID0gcmVzLmZpbHRlckxhYmVsLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgIGVsZW0ucHJvcGVydGllc1tmaWx0ZXJfdGl0bGUgKyBcIiN2YWx1ZVwiXSA9IHJlcy5maWx0ZXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsc192YWx1ZXNfY291bnRbcmVzLmZpbHRlci52YWx1ZV0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsc192YWx1ZXNfY291bnRbcmVzLmZpbHRlci52YWx1ZV0gPSBbcmVzLmZpbHRlckxhYmVsLnZhbHVlLCAxXVxuICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsc192YWx1ZXNfY291bnRbcmVzLmZpbHRlci52YWx1ZV0gPSBbcmVzLmZpbHRlckxhYmVsLnZhbHVlLCBsYWJlbHNfdmFsdWVzX2NvdW50W3Jlcy5maWx0ZXIudmFsdWVdWzFdICsgMV1cbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgZWxlbS5wcm9wZXJ0aWVzW2ZpbHRlcl90aXRsZSArIFwiI2xhYmVsXCJdID0gcmVzLmZpbHRlci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICBlbGVtLnByb3BlcnRpZXNbZmlsdGVyX3RpdGxlICsgXCIjdmFsdWVcIl0gPSByZXMuZmlsdGVyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbHNfdmFsdWVzX2NvdW50W3Jlcy5maWx0ZXIudmFsdWVdID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHNfdmFsdWVzX2NvdW50W3Jlcy5maWx0ZXIudmFsdWVdID0gW3Jlcy5maWx0ZXIudmFsdWUsIDFdXG4gICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzX3ZhbHVlc19jb3VudFtyZXMuZmlsdGVyLnZhbHVlXSA9IFtyZXMuZmlsdGVyLnZhbHVlLCBsYWJlbHNfdmFsdWVzX2NvdW50W3Jlcy5maWx0ZXIudmFsdWVdWzFdICsgMV1cbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgIC8vIHVwZGF0ZSBnZW9KU09OIGluIERPTVxuICAgICAgICAgICAgICQoJyNkYXRhTWFwXycraW5kZXhfcGFyZW50KS5yZW1vdmUoKTtcbiAgICAgICAgICAgICB2YXIgJGJvZHkgPSAkKGRvY3VtZW50LmJvZHkpO1xuICAgICAgICAgICAgICRib2R5LmFwcGVuZChcIjxzY3JpcHQgaWQ9J2RhdGFNYXBfXCIraW5kZXhfcGFyZW50K1wiJyB0eXBlPSdhcHBsaWNhdGlvbi9qc29uJz5cIiArIEpTT04uc3RyaW5naWZ5KGRhdGFNYXApICsgXCI8L3NjcmlwdD5cIik7XG5cbiAgICAgICAgICAgICAvLyB1cGRhdGUgbWFya2Vyc1xuICAgICAgICAgICAgIG1hcmtlcnMuZWFjaExheWVyKGxheWVyID0+IHtcbiAgICAgICAgICAgICAgICAgaWYgKGxheWVyLmZlYXR1cmUucHJvcGVydGllcy51cmkgPT0gcmVzLnBvaW50LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICBpZiAoaGFzX2xhYmVsID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5mZWF0dXJlLnByb3BlcnRpZXNbZmlsdGVyX3RpdGxlICsgXCIjbGFiZWxcIl0gPSByZXMuZmlsdGVyTGFiZWwudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmZlYXR1cmUucHJvcGVydGllc1tmaWx0ZXJfdGl0bGUgKyBcIiNsYWJlbFwiXSA9IHJlcy5maWx0ZXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICBsYXllci5mZWF0dXJlLnByb3BlcnRpZXNbZmlsdGVyX3RpdGxlICsgXCIjdmFsdWVcIl0gPSByZXMuZmlsdGVyLnZhbHVlO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgLy8gZ2V0IG1hcmtlcnMgZnJvbSBnZW9KU09OLCBiaW5kIHBvcHVwQ29udGVudFxuICAgICAgICAgICB2YXIgZGF0YV9sYXllcnMgPSBMLmdlb0pTT04oZGF0YU1hcCwgeyBvbkVhY2hGZWF0dXJlOiBvbkVhY2hGZWF0dXJlICB9KTtcblxuICAgICAgICAgICAvLyBhZGQgY2hlY2tib3hlc1xuICAgICAgICAgICBsZXQgZmlsdGVyX25hbWVzID0gT2JqZWN0LmtleXMobGFiZWxzX3ZhbHVlc19jb3VudClcbiAgICAgICAgICAgc2V0Q2hlY2tib3goW10pXG4gICAgICAgICAgIGZpbHRlcl9uYW1lcy5mb3JFYWNoKChmaWx0ZXJfbmFtZSwgaSkgPT4ge1xuICAgICAgICAgICAgIHNldENoZWNrYm94KHByZXZDaGVja2JveGVzID0+IFtcbiAgICAgICAgICAgICAgIC4uLnByZXZDaGVja2JveGVzLCB7IGtleV9jaGVjazogZmlsdGVyX25hbWUsIHZhbHVlX2NoZWNrOiBsYWJlbHNfdmFsdWVzX2NvdW50W2ZpbHRlcl9uYW1lXX1cbiAgICAgICAgICAgICBdKVxuICAgICAgICAgICB9KTtcblxuICAgICAgICAgICBzZXRDb2xsYXBzZSgnY29sbGFwc2VkJyk7XG4gICAgICAgICAgICQoXCIjZmlsdGVyX1wiK2V4dHJhX2lkKS5jb2xsYXBzZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7IGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTsgYWxlcnQoXCJTaWRlYmFyIGZpbHRlcnM6IHRoZXJlIGlzIGFuIGVycm9yIGluIHRoZSBxdWVyeVwiKTsgfSlcbiAgICAgICAgLmZpbmFsbHkoICgpID0+IHsgc2V0TG9hZCgnbG9hZGVkJyk7IH0pO1xuXG4gICAgICB9IGVsc2VcbiAgICAgIHtmZXRjaChkYXRhc3RvcnlfZGF0YS5zcGFycWxfZW5kcG9pbnQrJz9xdWVyeT0nK2VuY29kZWRfcXVlcnksXG4gICAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9zcGFycWwtcmVzdWx0cytqc29uJyB9XG4gICAgICAgICAgfVxuICAgICAgKS50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgbGV0IGxhYmVsc192YWx1ZXNfY291bnQgPSB7fSwgaGVhZGluZ3MgPSBkYXRhLmhlYWQudmFycyxcbiAgICAgICAgICAgICAgaGFzX2xhYmVsID0gZmFsc2U7XG5cbiAgICAgICAgIGRhdGEucmVzdWx0cy5iaW5kaW5ncy5mb3JFYWNoKChyZXMsIGkpID0+IHtcbiAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGZpbHRlciBpcyBhIHN0cmluZyBvciBhIHVyaStzdHJpbmdcbiAgICAgICAgICAgaWYgKGhlYWRpbmdzLmluY2x1ZGVzKCdmaWx0ZXJMYWJlbCcpKSB7IGhhc19sYWJlbCA9IHRydWU7IH1cblxuICAgICAgICAgICBkYXRhTWFwLmZvckVhY2goKGVsZW0sIGkpID0+IHtcbiAgICAgICAgICAgICBpZiAoZWxlbS5wcm9wZXJ0aWVzLnVyaSA9PSByZXMucG9pbnQudmFsdWUpIHtcbiAgICAgICAgICAgICAgIGlmIChoYXNfbGFiZWwgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICBlbGVtLnByb3BlcnRpZXNbZmlsdGVyX3RpdGxlICsgXCIjbGFiZWxcIl0gPSByZXMuZmlsdGVyTGFiZWwudmFsdWU7XG4gICAgICAgICAgICAgICAgIGVsZW0ucHJvcGVydGllc1tmaWx0ZXJfdGl0bGUgKyBcIiN2YWx1ZVwiXSA9IHJlcy5maWx0ZXIudmFsdWU7XG4gICAgICAgICAgICAgICAgIGlmIChsYWJlbHNfdmFsdWVzX2NvdW50W3Jlcy5maWx0ZXIudmFsdWVdID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgbGFiZWxzX3ZhbHVlc19jb3VudFtyZXMuZmlsdGVyLnZhbHVlXSA9IFtyZXMuZmlsdGVyTGFiZWwudmFsdWUsIDFdXG4gICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICBsYWJlbHNfdmFsdWVzX2NvdW50W3Jlcy5maWx0ZXIudmFsdWVdID0gW3Jlcy5maWx0ZXJMYWJlbC52YWx1ZSwgbGFiZWxzX3ZhbHVlc19jb3VudFtyZXMuZmlsdGVyLnZhbHVlXVsxXSArIDFdXG4gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICBlbGVtLnByb3BlcnRpZXNbZmlsdGVyX3RpdGxlICsgXCIjbGFiZWxcIl0gPSByZXMuZmlsdGVyLnZhbHVlO1xuICAgICAgICAgICAgICAgICBlbGVtLnByb3BlcnRpZXNbZmlsdGVyX3RpdGxlICsgXCIjdmFsdWVcIl0gPSByZXMuZmlsdGVyLnZhbHVlO1xuICAgICAgICAgICAgICAgICBpZiAobGFiZWxzX3ZhbHVlc19jb3VudFtyZXMuZmlsdGVyLnZhbHVlXSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgIGxhYmVsc192YWx1ZXNfY291bnRbcmVzLmZpbHRlci52YWx1ZV0gPSBbcmVzLmZpbHRlci52YWx1ZSwgMV1cbiAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgIGxhYmVsc192YWx1ZXNfY291bnRbcmVzLmZpbHRlci52YWx1ZV0gPSBbcmVzLmZpbHRlci52YWx1ZSwgbGFiZWxzX3ZhbHVlc19jb3VudFtyZXMuZmlsdGVyLnZhbHVlXVsxXSArIDFdXG4gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgIC8vIHVwZGF0ZSBnZW9KU09OIGluIERPTVxuICAgICAgICAgICAkKCcjZGF0YU1hcF8nK2luZGV4X3BhcmVudCkucmVtb3ZlKCk7XG4gICAgICAgICAgIHZhciAkYm9keSA9ICQoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICRib2R5LmFwcGVuZChcIjxzY3JpcHQgaWQ9J2RhdGFNYXBfXCIraW5kZXhfcGFyZW50K1wiJyB0eXBlPSdhcHBsaWNhdGlvbi9qc29uJz5cIiArIEpTT04uc3RyaW5naWZ5KGRhdGFNYXApICsgXCI8L3NjcmlwdD5cIik7XG5cbiAgICAgICAgICAgLy8gdXBkYXRlIG1hcmtlcnNcbiAgICAgICAgICAgbWFya2Vycy5lYWNoTGF5ZXIobGF5ZXIgPT4ge1xuICAgICAgICAgICAgICAgaWYgKGxheWVyLmZlYXR1cmUucHJvcGVydGllcy51cmkgPT0gcmVzLnBvaW50LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgaWYgKGhhc19sYWJlbCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmZlYXR1cmUucHJvcGVydGllc1tmaWx0ZXJfdGl0bGUgKyBcIiNsYWJlbFwiXSA9IHJlcy5maWx0ZXJMYWJlbC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICBsYXllci5mZWF0dXJlLnByb3BlcnRpZXNbZmlsdGVyX3RpdGxlICsgXCIjbGFiZWxcIl0gPSByZXMuZmlsdGVyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICBsYXllci5mZWF0dXJlLnByb3BlcnRpZXNbZmlsdGVyX3RpdGxlICsgXCIjdmFsdWVcIl0gPSByZXMuZmlsdGVyLnZhbHVlO1xuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICB9KTtcblxuICAgICAgICAgfSk7XG5cbiAgICAgICAgIC8vIGdldCBtYXJrZXJzIGZyb20gZ2VvSlNPTiwgYmluZCBwb3B1cENvbnRlbnRcbiAgICAgICAgIHZhciBkYXRhX2xheWVycyA9IEwuZ2VvSlNPTihkYXRhTWFwLCB7IG9uRWFjaEZlYXR1cmU6IG9uRWFjaEZlYXR1cmUgIH0pO1xuXG4gICAgICAgICAvLyBhZGQgY2hlY2tib3hlc1xuICAgICAgICAgbGV0IGZpbHRlcl9uYW1lcyA9IE9iamVjdC5rZXlzKGxhYmVsc192YWx1ZXNfY291bnQpXG4gICAgICAgICBzZXRDaGVja2JveChbXSlcbiAgICAgICAgIGZpbHRlcl9uYW1lcy5mb3JFYWNoKChmaWx0ZXJfbmFtZSwgaSkgPT4ge1xuICAgICAgICAgICBzZXRDaGVja2JveChwcmV2Q2hlY2tib3hlcyA9PiBbXG4gICAgICAgICAgICAgLi4ucHJldkNoZWNrYm94ZXMsIHsga2V5X2NoZWNrOiBmaWx0ZXJfbmFtZSwgdmFsdWVfY2hlY2s6IGxhYmVsc192YWx1ZXNfY291bnRbZmlsdGVyX25hbWVdfVxuICAgICAgICAgICBdKVxuICAgICAgICAgfSk7XG5cbiAgICAgICAgIHNldENvbGxhcHNlKCdjb2xsYXBzZWQnKTtcbiAgICAgICAgICQoXCIjZmlsdGVyX1wiK2V4dHJhX2lkKS5jb2xsYXBzZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpOyBhbGVydChcIlNpZGViYXIgZmlsdGVyczogdGhlcmUgaXMgYW4gZXJyb3IgaW4gdGhlIHF1ZXJ5XCIpOyB9KVxuICAgICAgLmZpbmFsbHkoICgpID0+IHsgc2V0TG9hZCgnbG9hZGVkJyk7IH0pO31cbiAgICB9XG5cbiAgfVxuXG4gIGlmIChjaGVja2JveERhdGEubGVuZ3RoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGVja2JveERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoZWNrYm94Qm94LnB1c2goPEZpbHRlckNoZWNrYm94XG4gICAgICAgIGtleT17Z2VuZXJhdGVLZXkoY2hlY2tib3hEYXRhW2ldLmtleV9jaGVjayl9XG4gICAgICAgIGtleV9jaGVjaz17Y2hlY2tib3hEYXRhW2ldLmtleV9jaGVja30gdmFsdWVfY2hlY2s9e2NoZWNrYm94RGF0YVtpXS52YWx1ZV9jaGVja31cbiAgICAgICAgaW5kZXhQYW5lbD17aW5kZXhQYW5lbH0gZmlsdGVyX3RpdGxlPXtmaWx0ZXJfdGl0bGV9IG1hcmtlcnM9e21hcmtlcnN9XG4gICAgICAgIGFsbE1hcmtlcnM9e2FsbE1hcmtlcnN9IG1hcD17bWFwfVxuICAgICAgICAvPik7XG4gICAgfVxuICB9XG5cblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vdXBkYXRlX3BhbmVsKCk7XG4gICAgaWYgKGZpcnN0TG9hZCA9PSAnbG9hZGVkJykgeyBnZXRDaGVja2JveGVzKCk7IH1cbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtYXBfc2lkZWJhcl9wYW5lbFwiPlxuICAgICAgPGEgcm9sZT1cImJ1dHRvblwiXG4gICAgICBjbGFzc05hbWU9XCJtYXBfc2lkZWJhcl9wYW5lbF90aXRsZVwiXG4gICAgICBkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJcbiAgICAgIG9uQ2xpY2s9e2dldENoZWNrYm94ZXN9XG4gICAgICBocmVmPXtcIiNmaWx0ZXJfXCIrZXh0cmFfaWR9XG4gICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIiBhcmlhLWNvbnRyb2xzPXtcImZpbHRlcl9cIitleHRyYV9pZH0+XG4gICAgICB7ZmlsdGVyX3RpdGxlfVxuICAgIDwvYT5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbGxhcHNlXCIgaWQ9e1wiZmlsdGVyX1wiK2V4dHJhX2lkfT5cbiAgICAgIDxkaXY+XG4gICAgICAgIHtjaGVja2JveEJveH1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmNvbnN0IE1hcFNpZGViYXIgPSAoe2luZGV4LCBmaWx0ZXJzICwgb25FYWNoRmVhdHVyZSwgYWxsTWFya2VycyAsIG1hcmtlcnMsIG1hcCwgc2V0SXNTaG93biwgaXNTaG93bn0pID0+IHtcbiAgY29uc3Qgc2lkZWJhclBhbmVsc0JveCA9IFtdXG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHsgfSwgW10pO1xuXG4gIGZpbHRlcnMuZm9yRWFjaCgoZmlsdGVyLCBpKSA9PiB7XG4gICAgc2lkZWJhclBhbmVsc0JveC5wdXNoKFxuICAgICAgPFNpZGViYXJQYW5lbFxuICAgICAgICAgIGluZGV4UGFuZWw9e2l9IGtleT17Z2VuZXJhdGVLZXkoZmlsdGVyKStpfVxuICAgICAgICAgIGluZGV4X3BhcmVudD17aW5kZXh9IG9uRWFjaEZlYXR1cmU9e29uRWFjaEZlYXR1cmV9XG4gICAgICAgICAgZmlsdGVycz17ZmlsdGVyc30gZmlsdGVyX3RpdGxlPXtmaWx0ZXJzW2ldLm1hcF9maWx0ZXJfdGl0bGV9XG4gICAgICAgICAgbWFya2Vycz17bWFya2Vyc30gYWxsTWFya2Vycz17YWxsTWFya2Vyc30gbWFwPXttYXB9Lz5cbiAgICApXG4gIH0pO1xuXG4gIGlmIChmaWx0ZXJzLmxlbmd0aCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT17e2JhY2tncm91bmQ6J2xpbmVhci1ncmFkaWVudCgtNDVkZWcsJyArIGRhdGFzdG9yeV9kYXRhLmNvbG9yX2NvZGVbMF0gKyAnLCcgKyBkYXRhc3RvcnlfZGF0YS5jb2xvcl9jb2RlWzFdICsgJyknfX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJtYXBfc2lkZWJhclwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJtYXBfc2lkZWJhcl90aXRsZVwiPkZJTFRFUlM8L2gzPlxuICAgICAgICAgIHtzaWRlYmFyUGFuZWxzQm94fVxuICAgICAgICA8L2Rpdj5cblxuICAgIClcbiAgfVxuXG5cblxufVxuXG5jb25zdCBGaWx0ZXJNYXAgPSAoeyBpbmRleEZpbHRlciwgaW5kZXhfcGFyZW50ICxcbiAgICAgICAgICAgICAgICAgICAgICBzZXRGaWx0ZXJDaGFuZ2UsIGZpbHRlcnMsIHJlbW92ZUZpbHRlckJveCB9KSA9PiB7XG5cbiAgbGV0IGRlZmF1bHRGaWx0ZXJRdWVyeSA9IGZpbHRlcnNbaW5kZXhGaWx0ZXJdLm1hcF9maWx0ZXJfcXVlcnksXG4gICAgICBkZWZhdWx0RmlsdGVyVGl0bGUgPSBmaWx0ZXJzW2luZGV4RmlsdGVyXS5tYXBfZmlsdGVyX3RpdGxlO1xuXG4gIGNvbnN0IFtmaWx0ZXJRdWVyeSwgc2V0RmlsdGVyUXVlcnldID0gUmVhY3QudXNlU3RhdGUoZGVmYXVsdEZpbHRlclF1ZXJ5KTtcbiAgY29uc3QgZmlsdGVyUXVlcnlDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgbGV0IG5ld0FyclEgPSBbLi4uZmlsdGVyc107XG4gICAgbmV3QXJyUVtpbmRleEZpbHRlcl0ubWFwX2ZpbHRlcl9xdWVyeSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgfTtcblxuICBjb25zdCBbZmlsdGVyVGl0bGUsIHNldEZpbHRlclRpdGxlXSA9IFJlYWN0LnVzZVN0YXRlKGRlZmF1bHRGaWx0ZXJUaXRsZSk7XG4gIGNvbnN0IGZpbHRlclRpdGxlQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIGxldCBuZXdBcnJRID0gWy4uLmZpbHRlcnNdO1xuICAgIG5ld0FyclFbaW5kZXhGaWx0ZXJdLm1hcF9maWx0ZXJfdGl0bGUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gIH07XG5cbiAgbGV0IGZpbHRlcl9pZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicXVlcnktZGl2XCIgaWQ9e1wiZWxfXCIraW5kZXhGaWx0ZXIrXCJfX2Zvcm1fZ3JvdXBcIn0+XG4gICAgICA8aHIvPlxuICAgICAgPGg0IGNsYXNzTmFtZT0nYmxvY2tfdGl0bGUnPkFkZCBhIGZpbHRlcjwvaDQ+XG4gICAgICA8YVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiByZW1vdmVGaWx0ZXJCb3goaW5kZXhGaWx0ZXIpfVxuICAgICAgICBjbGFzc05hbWU9XCJ0cmFzaCB0cmFzaF9zdWJjb21wb25lbnRcIj5cbiAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFyIGZhLXRyYXNoLWFsdFwiPjwvaT5cbiAgICAgIDwvYT48YnIvPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZm9ybS1ncm91cCcgaWQ9e2luZGV4RmlsdGVyK1wiX19mb3JtX2dyb3VwX2ZpbHRlclwifT5cbiAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2xhcmdlSW5wdXQnPlNQQVJRTCBxdWVyeTwvbGFiZWw+XG4gICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgb25DaGFuZ2U9e2ZpbHRlclF1ZXJ5Q2hhbmdlfVxuICAgICAgICAgICAgaWQ9e2luZGV4X3BhcmVudCtcIl9fbWFwX2ZpbHRlcl9xdWVyeV9cIitmaWx0ZXJfaWQrXCJfXCIraW5kZXhGaWx0ZXJ9XG4gICAgICAgICAgICBuYW1lPXtpbmRleF9wYXJlbnQrXCJfX21hcF9maWx0ZXJfcXVlcnlfXCIrZmlsdGVyX2lkK1wiX1wiK2luZGV4RmlsdGVyfVxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWx0ZXJRdWVyeX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdBIFNQQVJRTCBxdWVyeSB0aGF0IHJldHVybnMgdHdvIHZhcmlhYmxlcycgcmVxdWlyZWQ+XG4gICAgICAgIDwvdGV4dGFyZWE+XG4gICAgICAgIDxsYWJlbCBodG1sRm9yPSdsYXJnZUlucHV0Jz5GaWx0ZXIgdGl0bGU8L2xhYmVsPlxuXG4gICAgXHRcdDxpbnB1dFxuICAgICAgICAgICAgb25DaGFuZ2U9e2ZpbHRlclRpdGxlQ2hhbmdlfVxuICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgIGlkPXtpbmRleF9wYXJlbnQrXCJfX21hcF9maWx0ZXJfdGl0bGVfXCIrZmlsdGVyX2lkK1wiX1wiK2luZGV4RmlsdGVyfVxuICAgICAgICAgICAgbmFtZT17aW5kZXhfcGFyZW50K1wiX19tYXBfZmlsdGVyX3RpdGxlX1wiK2ZpbHRlcl9pZCtcIl9cIitpbmRleEZpbHRlcn1cbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmlsdGVyVGl0bGV9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj0nVGhlIGxhYmVsIG9mIHRoZSBmaWx0ZXInPlxuICAgICAgICA8L2lucHV0PlxuICAgICAgICA8cD48ZW0+UmVydW4gdGhlIG1haW4gcXVlcnkgdG8gdXBkYXRlPC9lbT48L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxuXG59XG5cbmNvbnN0IE1hcmtlclNpZGViYXIgPSAoe21hcmtlclNpZGViYXIsIHNldE1hcmtlclNpZGViYXIgLFxuICBzZXRNYXJrZXJTaWRlYmFyQ29udGVudCwgbWFya2VyU2lkZWJhckNvbnRlbnR9KSA9PiB7XG5cbiAgZnVuY3Rpb24gbWFrZV91cmkoZWwpIHtcbiAgICBpZiAoZWwuc3RhcnRzV2l0aCgnaHR0cCcpKSB7IHJldHVybiA8YSBocmVmPXtlbH0+VVJJIDxpIGNsYXNzTmFtZT1cImZhciBmYS1leHRlcm5hbC1saW5rXCI+PC9pPjwvYT5cbiAgICB9IGVsc2Uge3JldHVybiBlbH1cbiAgfVxuXG4gIGNvbnN0IGNsb3NlTWFya2VyU2lkZWJhciA9IChlKSA9PiB7XG4gICAgc2V0TWFya2VyU2lkZWJhcignY2xvc2UnKTtcbiAgfVxuXG5cbiAgaWYgKG1hcmtlclNpZGViYXIgPT0gJ29wZW4nKSB7XG5cbiAgICBjb25zb2xlLmxvZyhtYXJrZXJTaWRlYmFyQ29udGVudCk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwX3NpZGViYXIgbWFwX3NpZGViYXJfcmlnaHRcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gY2xvc2VNYXJrZXJTaWRlYmFyKCl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZUJveFwiPlxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXRpbWVzXCI+PC9pPlxuICAgICAgICAgIDwvYT48YnIvPjxici8+XG5cbiAgICAgICAgICAgIHtPYmplY3Qua2V5cyhtYXJrZXJTaWRlYmFyQ29udGVudClcbiAgICAgICAgICAgIC5tYXAoKGRldGFpbCwgaWQpID0+XG4gICAgICAgICAgICAgIDxwIGtleT17aWR9PlxuICAgICAgICAgICAgICAgIDxzdHJvbmc+e2RldGFpbH0gPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAge21ha2VfdXJpKG1hcmtlclNpZGViYXJDb250ZW50W2RldGFpbF0pfVxuICAgICAgICAgICAgICA8L3A+KX1cblxuXG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG59XG5cbmNvbnN0IE1hcFZpeiA9ICh7IHVuaXF1ZV9rZXksIGluZGV4ICxcbiAgICAgICAgICAgICAgICByZW1vdmVDb21wb25lbnQgLCBjb21wb25lbnRMaXN0LCBzZXRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgc29ydENvbXBvbmVudFVwICwgc29ydENvbXBvbmVudERvd259KSA9PiB7XG5cblxuICBsZXQgbWFwID0gbnVsbCwgbWFwX3RpdGxlID0gJycsIG1hcF9wb2ludHNfcXVlcnkgPSAnJyxcbiAgICAgIHdhaXRmaWx0ZXJzICxcbiAgICAgIG1hcmtlcnMsIGFsbE1hcmtlcnMgLCBtYXBfZmlsdGVycyA9IFtdLFxuICAgICAgbWFwaWQgPSBpbmRleCArIFwiX19tYXBfcHJldmlld19jb250YWluZXJcIixcbiAgICAgIGNoZWNrZWRfZmlsdGVycyA9IFtdO1xuXG4gIC8vIFdZU0lXWUc6IGdldCBjb250ZW50IGlmIGFueVxuICBpZiAoZGF0YXN0b3J5X2RhdGEuZHluYW1pY19lbGVtZW50cyAmJiBkYXRhc3RvcnlfZGF0YS5keW5hbWljX2VsZW1lbnRzLmxlbmd0aCkge1xuICAgIGRhdGFzdG9yeV9kYXRhLmR5bmFtaWNfZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGlmIChlbGVtZW50LnR5cGUgPT0gJ21hcCcgJiYgZWxlbWVudC5wb3NpdGlvbiA9PSBpbmRleCkge1xuICAgICAgICBtYXBfcG9pbnRzX3F1ZXJ5ID0gZWxlbWVudC5tYXBfcG9pbnRzX3F1ZXJ5O1xuICAgICAgICBtYXBfdGl0bGUgPSBlbGVtZW50Lm1hcF90aXRsZTtcbiAgICAgICAgLy8gZmlsdGVyc1xuICAgICAgICBpZiAoZWxlbWVudC5tYXBfZmlsdGVycyAmJiBlbGVtZW50Lm1hcF9maWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgIGVsZW1lbnQubWFwX2ZpbHRlcnMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIG1hcF9maWx0ZXJzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgfSkgO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IFttYXJrZXJzTWFwLCBzZXRNYXJrZXJzXSA9IFJlYWN0LnVzZVN0YXRlKG1hcmtlcnMpO1xuICBjb25zdCBbYWxsTWFya2Vyc01hcCwgc2V0QWxsTWFya2Vyc10gPSBSZWFjdC51c2VTdGF0ZShhbGxNYXJrZXJzKTtcblxuICBjb25zdCBbcXVlcnksIHNldFF1ZXJ5XSA9IFJlYWN0LnVzZVN0YXRlKG1hcF9wb2ludHNfcXVlcnkpO1xuICBjb25zdCBxdWVyeUNoYW5nZSA9IGV2ZW50ID0+IHsgc2V0UXVlcnkoZXZlbnQudGFyZ2V0LnZhbHVlKTsgfTtcblxuICBjb25zdCBbdGl0bGUsIHNldFRpdGxlXSA9IFJlYWN0LnVzZVN0YXRlKG1hcF90aXRsZSk7XG4gIGNvbnN0IHRpdGxlQ2hhbmdlID0gZXZlbnQgPT4geyBzZXRUaXRsZShldmVudC50YXJnZXQudmFsdWUpOyB9O1xuXG4gIGNvbnN0IFttYXBJbnN0YW5jZSwgc2V0TWFwXSA9IFJlYWN0LnVzZVN0YXRlKCdub3QgaW5pdGlhbGlzZWQnKTtcbiAgY29uc3QgW21hcFJlbmRlcmVkLCBzZXRNYXBSZW5kZXJdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuICBjb25zdCBbbWFwUmVsb2FkLCBzZXRNYXBSZWxvYWRdID0gUmVhY3QudXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtpc1Nob3duLCBzZXRJc1Nob3duXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2ZpbHRlcnMsIHNldEZpbHRlcl0gPSBSZWFjdC51c2VTdGF0ZShtYXBfZmlsdGVycyk7XG4gIGNvbnN0IFtzcGlubmVyLCBzZXRTcGlubmVyXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBpbml0TWFwID0gZXZlbnQgPT4ge1xuICAgIC8vIGNyYXppbmVzcyBvZiBtYXAgYWxyZWFkeSBpbml0aWFsaXNlZFxuXG4gICAgaWYgKG1hcEluc3RhbmNlICE9ICdpbml0aWFsaXNlZCcgJiYgKG1hcCA9PSB1bmRlZmluZWQgfHwgbWFwID09IG51bGwgKSkge1xuICAgICAgaWYgKG1hcFJlbmRlcmVkLmxlbmd0aCkge21hcCA9IG1hcFJlbmRlcmVkfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBtYXAgPSBMLm1hcChtYXBpZCkuc2V0VmlldyhbNTEuNTA1LCAtMC4wOV0sIDMpO1xuICAgICAgICAgIEwudGlsZUxheWVyKCdodHRwczovL3RpbGVzLnN0YWRpYW1hcHMuY29tL3RpbGVzL2FsaWRhZGVfc21vb3RoX2Rhcmsve3p9L3t4fS97eX17cn0ucG5nP2FwaV9rZXk9NTMwM2RkY2EtNTkzNC00NWZjLWJkZjEtNDBmYWM3OTY2ZmE3Jywge1xuICAgICAgICAgIG1heFpvb206IDE5LCBhdHRyaWJ1dGlvbjogJ8KpIE9wZW5TdHJlZXRNYXAnXG4gICAgICAgICAgfSkuYWRkVG8obWFwKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgIHZhciBjb250YWluZXIgPSBMLkRvbVV0aWwuZ2V0KG1hcGlkKTtcbiAgICAgICAgICBpZihjb250YWluZXIgIT0gbnVsbCl7IGNvbnRhaW5lci5fbGVhZmxldF9pZCA9IG51bGw7IH1cbiAgICAgICAgICBtYXAgPSBMLm1hcChtYXBpZCkuc2V0VmlldyhbNTEuNTA1LCAtMC4wOV0sIDMpO1xuICAgICAgICAgIEwudGlsZUxheWVyKCdodHRwczovL3RpbGVzLnN0YWRpYW1hcHMuY29tL3RpbGVzL2FsaWRhZGVfc21vb3RoX2Rhcmsve3p9L3t4fS97eX17cn0ucG5nP2FwaV9rZXk9NTMwM2RkY2EtNTkzNC00NWZjLWJkZjEtNDBmYWM3OTY2ZmE3Jywge1xuICAgICAgICAgIG1heFpvb206IDE5LCBhdHRyaWJ1dGlvbjogJ8KpIE9wZW5TdHJlZXRNYXAnXG4gICAgICAgICAgfSkuYWRkVG8obWFwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChtYXBJbnN0YW5jZSA9PSAnaW5pdGlhbGlzZWQnKShtYXAgPSBtYXBSZW5kZXJlZClcblxuICAgIGlmIChxdWVyeS5sZW5ndGggPiAxKSB7XG4gICAgICBzZXRTcGlubmVyKHRydWUpXG4gICAgICAgIC8vaWYgKG1hcCAmJiBtYXAucmVtb3ZlKSB7IG1hcC5vZmYoKTsgbWFwLnJlbW92ZSgpOyB9XG4gICAgICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICAgICAgaWYgKHF1ZXJ5Lmxlbmd0aCA+IDIwMDApIHtcbiAgICAgICAgICBtZXRob2QgPSAnUE9TVCdcbiAgICAgICAgICBmZXRjaChkYXRhc3RvcnlfZGF0YS5zcGFycWxfZW5kcG9pbnQrJz9xdWVyeT0nLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdBY2NlcHQnOiAnYXBwbGljYXRpb24vc3BhcnFsLXJlc3VsdHMranNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApLnRoZW4oKHJlcykgPT4geyByZXR1cm4gcmVzLmpzb24oKX0pXG4gICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgIC8vIGFkZCBtYXJrZXJzXG4gICAgICAgICAgICB2YXIgZ2VvSlNPTmRhdGEgPSBjcmVhdGVnZW9KU09OKGRhdGEpO1xuICAgICAgICAgICAgbWFya2VycyA9IHNldFZpZXdNYXJrZXJzKG1hcCwgbWFwaWQsIGdlb0pTT05kYXRhLCB3YWl0ZmlsdGVycywgZGF0YXN0b3J5X2RhdGEuY29sb3JfY29kZVswXSk7XG4gICAgICAgICAgICBhbGxNYXJrZXJzID0gc2V0Vmlld01hcmtlcnMobWFwLCBtYXBpZCwgZ2VvSlNPTmRhdGEsIHdhaXRmaWx0ZXJzLCBkYXRhc3RvcnlfZGF0YS5jb2xvcl9jb2RlWzBdKTtcbiAgICAgICAgIH0pXG4gICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7IHNldFNwaW5uZXIoZmFsc2UpOyBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnJvcik7IGFsZXJ0KFwiTWFwOiB0aGVyZSBpcyBhbiBlcnJvciBpbiB0aGUgcXVlcnlcIik7IH0pXG4gICAgICAgICAuZmluYWxseSggKCkgPT4ge1xuICAgICAgICAgICBzZXRTcGlubmVyKGZhbHNlKVxuICAgICAgICAgICBzZXRNYXAoJ2luaXRpYWxpc2VkJyk7XG4gICAgICAgICAgIHNldE1hcFJlbmRlcihtYXApO1xuICAgICAgICAgICBzZXRNYXJrZXJzKG1hcmtlcnMpO1xuICAgICAgICAgICBzZXRBbGxNYXJrZXJzKGFsbE1hcmtlcnMpO1xuICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtmZXRjaChkYXRhc3RvcnlfZGF0YS5zcGFycWxfZW5kcG9pbnQrJz9xdWVyeT0nK2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSksXG4gICAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9zcGFycWwtcmVzdWx0cytqc29uJyB9XG4gICAgICAgICAgfVxuICAgICAgICApLnRoZW4oKHJlcykgPT4geyByZXR1cm4gcmVzLmpzb24oKX0pXG4gICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgLy8gYWRkIG1hcmtlcnNcbiAgICAgICAgICB2YXIgZ2VvSlNPTmRhdGEgPSBjcmVhdGVnZW9KU09OKGRhdGEpO1xuICAgICAgICAgIG1hcmtlcnMgPSBzZXRWaWV3TWFya2VycyhtYXAsIG1hcGlkLCBnZW9KU09OZGF0YSwgd2FpdGZpbHRlcnMsIGRhdGFzdG9yeV9kYXRhLmNvbG9yX2NvZGVbMF0pO1xuICAgICAgICAgIGFsbE1hcmtlcnMgPSBzZXRWaWV3TWFya2VycyhtYXAsIG1hcGlkLCBnZW9KU09OZGF0YSwgd2FpdGZpbHRlcnMsIGRhdGFzdG9yeV9kYXRhLmNvbG9yX2NvZGVbMF0pO1xuICAgICAgIH0pXG4gICAgICAgLmNhdGNoKChlcnJvcikgPT4geyBzZXRTcGlubmVyKGZhbHNlKTsgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpOyBhbGVydChcIk1hcDogdGhlcmUgaXMgYW4gZXJyb3IgaW4gdGhlIHF1ZXJ5XCIpOyB9KVxuICAgICAgIC5maW5hbGx5KCAoKSA9PiB7XG4gICAgICAgICBzZXRTcGlubmVyKGZhbHNlKVxuICAgICAgICAgc2V0TWFwKCdpbml0aWFsaXNlZCcpO1xuICAgICAgICAgc2V0TWFwUmVuZGVyKG1hcCk7XG4gICAgICAgICBzZXRNYXJrZXJzKG1hcmtlcnMpO1xuICAgICAgICAgc2V0QWxsTWFya2VycyhhbGxNYXJrZXJzKTtcbiAgICAgICB9KTt9XG4gICAgICB9XG4gICAgcmV0dXJuIG1hcDtcbiAgfTtcblxuICBmdW5jdGlvbiBzZXRWaWV3TWFya2VycyhtYXAsIG1hcGlkLCBnZW9KU09OZGF0YSwgd2FpdGZpbHRlcnMsIGNvbG9yX2NvZGUpIHtcbiAgICAgIC8vIHJlbW92ZSBtYXJrZXJzIGlmIGFueSBmcm9tIGEgbWFwIGFscmVhZHkgaW5pdGlhbGlzZWRcbiAgICAgIG1hcC5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5NYXJrZXJDbHVzdGVyR3JvdXApIHtcbiAgICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGxheWVyKVxuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gcmVtb3ZlIGdlb0pTT05cbiAgICAgICQoJyNkYXRhTWFwXycraW5kZXgpLnJlbW92ZSgpO1xuXG4gICAgICAvLyBzdHlsZSBjbHVzdGVyc1xuICAgICAgdmFyIGlubmVyQ2x1c3RlclN0eWxlID0gXCJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGJhY2tncm91bmQ6XCIgKyBjb2xvcl9jb2RlICsgXCI7XFxcbiAgXHRcdHdpZHRoOiA0MHB4OyBoZWlnaHQ6IDQwcHggIWltcG9ydGFudDsgYm9yZGVyLXJhZGl1czogNTAlICFpbXBvcnRhbnQ7IHBhZGRpbmctdG9wOiAxMHB4OyBvcGFjaXR5OiAwLjg7XCJcblxuICAgICAgdmFyIG1hcmtlcnMgPSBMLm1hcmtlckNsdXN0ZXJHcm91cCh7XG4gICAgICAgICAgaWNvbkNyZWF0ZUZ1bmN0aW9uOiBmdW5jdGlvbiAoY2x1c3Rlcikge1xuICAgICAgICAgICAgICB2YXIgbWFya2VycyA9IGNsdXN0ZXIuZ2V0QWxsQ2hpbGRNYXJrZXJzKCk7XG4gICAgICAgICAgICAgIHZhciBuID0gMDtcbiAgICAgICAgICAgICAgbWFya2Vycy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7IG4gKz0gMX0pO1xuICAgICAgICAgICAgICByZXR1cm4gTC5kaXZJY29uKHsgaHRtbDogXCI8c3BhbiBzdHlsZT0nXCIgKyBpbm5lckNsdXN0ZXJTdHlsZSArIFwiJz5cIiArIG4gKyBcIjwvc3Bhbj5cIiwgY2xhc3NOYW1lOiAnbXljbHVzdGVyIHBvaW50ZXItY29sb3InLCBpY29uU2l6ZTogTC5wb2ludCg0MCwgNDApIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2luZ2xlTWFya2VyTW9kZTogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGdldCBtYXJrZXJzIGZyb20gZ2VvSlNPTiwgYmluZCBwb3B1cENvbnRlbnRcbiAgICAgIHZhciBkYXRhX2xheWVycyA9IEwuZ2VvSlNPTihnZW9KU09OZGF0YSwge1xuICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IG9uRWFjaEZlYXR1cmVcbiAgICAgIH0pO1xuXG4gICAgICAvLyBhZGQgbWFya2VycyB0byBjbHVzdGVyc1xuICAgICAgbWFya2Vycy5hZGRMYXllcihkYXRhX2xheWVycyk7XG5cbiAgICAgIC8vIHNob3cgY2x1c3RlcnNcbiAgICAgIG1hcC5hZGRMYXllcihtYXJrZXJzKTtcblxuICAgICAgLy8gYWRkIGdlb0pTT05kYXRhIHRvIERPTVxuICAgICAgdmFyICRib2R5ID0gJChkb2N1bWVudC5ib2R5KTtcbiAgICAgICRib2R5LmFwcGVuZChcIjxzY3JpcHQgaWQ9J2RhdGFNYXBfXCIraW5kZXgrXCInIHR5cGU9J2FwcGxpY2F0aW9uL2pzb24nPlwiICsgSlNPTi5zdHJpbmdpZnkoZ2VvSlNPTmRhdGEpICsgXCI8L3NjcmlwdD5cIik7XG5cbiAgICAgIHJldHVybiBtYXJrZXJzO1xuICB9O1xuXG4gIGNvbnN0IFttYXJrZXJTaWRlYmFyLCBzZXRNYXJrZXJTaWRlYmFyXSA9IFJlYWN0LnVzZVN0YXRlKCdjbG9zZScpXG4gIGNvbnN0IFttYXJrZXJTaWRlYmFyQ29udGVudCwgc2V0TWFya2VyU2lkZWJhckNvbnRlbnRdID0gUmVhY3QudXNlU3RhdGUoJycpXG4gIGZ1bmN0aW9uIG9wZW5NYXJrZXJTaWRlYmFyKHNlbGVjdGlvbiwgZmVhdHVyZSkge1xuICAgIC8vIHNpZGViYXIudG9nZ2xlKCk7XG4gICAgaWYgKG1hcmtlclNpZGViYXIgPT0gJ2Nsb3NlJykge1xuICAgICAgc2V0TWFya2VyU2lkZWJhcignb3BlbicpO1xuICAgICAgc2V0TWFya2VyU2lkZWJhckNvbnRlbnQoZmVhdHVyZS5wcm9wZXJ0aWVzLnBvcHVwQ29udGVudCk7XG4gICAgfSBlbHNlIHsgc2V0TWFya2VyU2lkZWJhcignY2xvc2UnKTsgc2V0TWFya2VyU2lkZWJhckNvbnRlbnQoJycpfVxuICAgIC8vIHNpZGViYXIuaHRtbCgnPGgxPiB0aGlzIGlzICcgKyBzZWxlY3Rpb24uZmVhdHVyZS5wb3B1cENvbnRlbnQgKyAnPC9oMT4nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHtcbiAgICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMgJiYgZmVhdHVyZS5wcm9wZXJ0aWVzLnBvcHVwQ29udGVudCkge1xuICAgICAgICAgIC8vbGF5ZXIuYmluZFBvcHVwKGZlYXR1cmUucHJvcGVydGllcy5wb3B1cENvbnRlbnQpO1xuICAgICAgICAgIGxheWVyLm9uKHtcbiAgICAgICAgICAgICAgLy9tb3VzZW92ZXI6IGhpZ2hsaWdodEZlYXR1cmUsXG4gICAgICAgICAgICAgIC8vbW91c2VvdXQ6IHJlc2V0SGlnaGxpZ2h0LFxuICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSl7b3Blbk1hcmtlclNpZGViYXIoZSwgZmVhdHVyZSkgfVxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZWdlb0pTT04ocmV0dXJuZWRKc29uKSB7XG4gICAgICB2YXIgZ2VvSlNPTmRhdGEgPSBbXTtcbiAgICAgIC8vIGNsZWFuIGhlYWRpbmdzXG4gICAgICB2YXIgaGVhZGluZ3MgPSByZXR1cm5lZEpzb24uaGVhZC52YXJzO1xuICAgICAgdmFyIHRoZXJlX2lzX3BvaW50ID0gaGVhZGluZ3MuaW5kZXhPZigncG9pbnQnKTtcbiAgICAgIGhlYWRpbmdzLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgaWYgKGl0ZW0gPT0gKCdsYXQnKSB8fCBpdGVtID09ICgnbG9uZycpIHx8IGl0ZW0gPT0gKCdwb2ludCcpKSB7XG4gICAgICAgICAgICBoZWFkaW5ncy5zcGxpY2UoaSwgMSk7IGktLTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cblxuICAgICAgLy8gY3JlYXRlIGdlb0pTT04gb2JqZWN0XG4gICAgICByZXR1cm5lZEpzb24ucmVzdWx0cy5iaW5kaW5ncy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICAgIGxldCBwb2ludE9iaiA9IHt9O1xuICAgICAgICBwb2ludE9iai50eXBlID0gXCJGZWF0dXJlXCI7XG4gICAgICAgIHBvaW50T2JqLnByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgcG9pbnRPYmoucHJvcGVydGllcy5wb3B1cENvbnRlbnQgPSB7fTtcblxuICAgICAgICBoZWFkaW5ncy5mb3JFYWNoKChoZWFkLCBpKSA9PiB7XG4gICAgICAgICAgcG9pbnRPYmoucHJvcGVydGllcy5wb3B1cENvbnRlbnRbaGVhZF0gPSBpdGVtW2hlYWRdLnZhbHVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGVyZV9pc19wb2ludCAhPSAtMSkge1xuICAgICAgICAgICAgcG9pbnRPYmoucHJvcGVydGllcy51cmkgPSBpdGVtWydwb2ludCddLnZhbHVlO1xuICAgICAgICAgICAgcG9pbnRPYmoucHJvcGVydGllcy5wb3B1cENvbnRlbnQucG9pbnQgPSBpdGVtLnBvaW50LnZhbHVlXG5cbiAgICAgICAgfTtcbiAgICAgICAgcG9pbnRPYmouZ2VvbWV0cnkgPSB7fTtcbiAgICAgICAgcG9pbnRPYmouZ2VvbWV0cnkudHlwZSA9IFwiUG9pbnRcIjtcbiAgICAgICAgLy8gY2hlY2sgZmlyc3RcbiAgICAgICAgcG9pbnRPYmouZ2VvbWV0cnkuY29vcmRpbmF0ZXMgPSBbaXRlbS5sb25nLnZhbHVlLCBpdGVtLmxhdC52YWx1ZV07XG4gICAgICAgIGdlb0pTT05kYXRhLnB1c2gocG9pbnRPYmopO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBnZW9KU09OZGF0YVxuICB9O1xuXG4gIGNvbnN0IGZpbHRlclF1ZXJpZXNCb3ggPSBbXVxuICBjb25zdCBmaWx0ZXJDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgc2V0RmlsdGVyKHByZXZFeHRyYXMgPT4gW1xuICAgICAgLi4ucHJldkV4dHJhcywge21hcF9maWx0ZXJfcXVlcnk6JycsbWFwX2ZpbHRlcl90aXRsZTonJ31cbiAgICBdKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVGaWx0ZXJCb3ggPSAoaW5kZXhGaWx0ZXIpID0+IHtcbiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RpZnlzdG9yeV9mb3JtJyk7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi50b1N0cmluZygpXG4gICAgdXJsID0gdXJsLnJlcGxhY2UoL21vZGlmeVxcLy8sICdtb2RpZnlfYmtnXFwvJyk7XG4gICAgZmV0Y2godXJsLCB7IG1ldGhvZDogJ1BPU1QnLCBib2R5OiBmb3JtRGF0YX0pXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKVxuICAgIC50aGVuKChkYXRhKSA9PiB7IGlmIChkYXRhKSB7XG4gICAgICAgIGRhdGFzdG9yeV9kYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcblxuICAgICAgICBzZXRGaWx0ZXIob2xkX2ZpbHRlcnMgPT4ge1xuICAgICAgICAgIGxldCBuZXdfZmlsdGVycyA9IFtdXG4gICAgICAgICAgZGF0YXN0b3J5X2RhdGEuZHluYW1pY19lbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PSAnbWFwJyAmJiBlbGVtZW50LnBvc2l0aW9uID09IGluZGV4KSB7XG4gICAgICAgICAgICAgIGlmIChlbGVtZW50Lm1hcF9maWx0ZXJzICYmIGVsZW1lbnQubWFwX2ZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5tYXBfZmlsdGVycy5mb3JFYWNoKChlbGVtLGkpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlbGVtLnBvc2l0aW9uICE9IGluZGV4RmlsdGVyKSB7bmV3X2ZpbHRlcnMucHVzaChlbGVtKTt9XG4gICAgICAgICAgICAgICAgfSkgfSB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICByZXR1cm4gbmV3X2ZpbHRlcnN9IClcbiAgICAgICAgfSB9KVxuICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtjb25zb2xlLmxvZyhlcnJvcik7fSk7XG4gIH07XG5cbiAgaWYgKGZpbHRlcnMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZpbHRlclF1ZXJpZXNCb3gucHVzaCg8RmlsdGVyTWFwXG4gICAgICAgICAgaW5kZXhGaWx0ZXI9e2l9IGtleT17Z2VuZXJhdGVLZXkoZmlsdGVyc1tpXS5tYXBfZmlsdGVyX3RpdGxlKStpfVxuICAgICAgICAgIGluZGV4X3BhcmVudD17aW5kZXh9IHNldEZpbHRlckNoYW5nZT17c2V0RmlsdGVyfSBmaWx0ZXJzPXtmaWx0ZXJzfVxuICAgICAgICAgIHJlbW92ZUZpbHRlckJveD17cmVtb3ZlRmlsdGVyQm94fS8+KVxuICAgIH1cbiAgfVxuXG4gIC8vIHByZXZpZXdcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobWFwSW5zdGFuY2UgIT0gJ2luaXRpYWxpc2VkJykgeyBtYXAgPSBpbml0TWFwKCk7IH1cbiAgICBlbHNlIGlmIChtYXBJbnN0YW5jZSA9PSAnaW5pdGlhbGlzZWQnKSB7bWFwID0gbWFwUmVuZGVyZWQgO31cblxuICAgICQoXCJ0ZXh0YXJlYVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJoZWlnaHQ6XCIgKyAodGhpcy5zY3JvbGxIZWlnaHQpICsgXCJweDtvdmVyZmxvdy15OmhpZGRlbjtcIik7XG4gICAgfSkub24oXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnN0eWxlLmhlaWdodCA9IDA7XG4gICAgICB0aGlzLnN0eWxlLmhlaWdodCA9ICh0aGlzLnNjcm9sbEhlaWdodCkgKyBcInB4XCI7XG4gICAgfSk7XG5cbiAgfSwgW10pO1xuXG4gIC8vIFdZU0lXWUc6IHJlbmRlciBjb21wb25lbnQgYW5kIHByZXZpZXdcbiAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCIvbW9kaWZ5L1wiKSA+IC0xKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgPGRpdiBpZD17aW5kZXgrXCJfX2Jsb2NrX2ZpZWxkXCJ9IGNsYXNzTmFtZT1cImJsb2NrX2ZpZWxkXCI+XG4gICAgICB7c3Bpbm5lciAmJiAoPHNwYW4gaWQ9J2xvYWRlcicgY2xhc3NOYW1lPSdsZHMtZHVhbC1yaW5nIG92ZXJsYXknPjwvc3Bhbj4pfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJpYmJvblwiPjwvZGl2PlxuICAgICAgICA8aDQgY2xhc3NOYW1lPVwiYmxvY2tfdGl0bGVcIj5BZGQgYSBtYXA8L2g0PlxuICAgICAgICA8U29ydENvbXBvbmVudFxuICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICBzb3J0Q29tcG9uZW50VXA9e3NvcnRDb21wb25lbnRVcH1cbiAgICAgICAgICBzb3J0Q29tcG9uZW50RG93bj17c29ydENvbXBvbmVudERvd259XG4gICAgICAgICAga2V5PXt1bmlxdWVfa2V5fSAvPlxuICAgICAgICA8UmVtb3ZlQ29tcG9uZW50XG4gICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgIHJlbW92ZUNvbXBvbmVudD17cmVtb3ZlQ29tcG9uZW50fVxuICAgICAgICAgIGtleT17dW5pcXVlX2tleX0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Zvcm0tZ3JvdXAnIGlkPXtpbmRleCtcIl9fZm9ybV9ncm91cFwifT5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj0nbWFwX3RpdGxlJz5NYXAgdGl0bGU8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgY2xhc3NOYW1lPSdtYXBfdGl0bGUnXG4gICAgICAgICAgICBpZD17aW5kZXgrXCJfX21hcF90aXRsZVwifVxuICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17dGl0bGV9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGl0bGVDaGFuZ2V9XG4gICAgICAgICAgICBuYW1lPXtpbmRleCtcIl9fbWFwX3RpdGxlXCJ9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj0nVGhlIHRpdGxlIG9mIHRoZSBtYXAnPlxuICAgICAgICAgIDwvaW5wdXQ+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2FkZHBsYWNlaG9sZGVyX3BvaW50cyc+U1BBUlFMIHF1ZXJ5PC9sYWJlbD5cbiAgICBcdFx0XHQ8dGV4dGFyZWFcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdhZGRwbGFjZWhvbGRlcl9wb2ludHMnXG4gICAgXHRcdFx0XHRcdG5hbWU9e2luZGV4K1wiX19tYXBfcG9pbnRzX3F1ZXJ5XCJ9XG4gICAgICAgICAgICAgIHR5cGU9J3RleHQnXG4gICAgXHRcdFx0XHRcdGlkPXtpbmRleCtcIl9fbWFwX3BvaW50c19xdWVyeVwifVxuICAgICAgICAgICAgICBvbkNoYW5nZT17cXVlcnlDaGFuZ2V9XG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17cXVlcnl9XG4gICAgXHRcdFx0XHRcdHJlcXVpcmVkPlxuICAgICAgICAgIDwvdGV4dGFyZWE+XG4gICAgICAgICAgPGEgc3R5bGU9e3tjdXJzb3I6J3BvaW50ZXInfX1cbiAgICAgICAgICAgIG9uQ2xpY2s9e2luaXRNYXB9PlJ1biB0aGUgcXVlcnk8L2E+IHwgPGEgaHJlZj0nIydcbiAgICAgICAgICAgICAgICAgIHJvbGU9J2J1dHRvbicgZGF0YS10b2dnbGU9J21vZGFsJyBkYXRhLXRhcmdldD0nI21hcHNNb2RhbExvbmcnPkxlYXJuIG1vcmUgYWJvdXQgU1BBUlFMIHF1ZXJpZXMgZm9yIG1hcHM8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8aDM+e3RpdGxlfTwvaDM+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9J21hcF9wcmV2aWV3X2NvbnRhaW5lcidcbiAgICAgICAgICBpZD17aW5kZXgrJ19fbWFwX3ByZXZpZXdfY29udGFpbmVyJ30+XG4gICAgICAgICAgPE1hcFNpZGViYXJcbiAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgIGZpbHRlcnM9e2ZpbHRlcnN9XG4gICAgICAgICAgICBrZXk9e1wic2lkZWJhcl9cIit1bmlxdWVfa2V5K2luZGV4fVxuICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoKSA9PiBzZXRJc1Nob3duKHRydWUpfVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiBzZXRJc1Nob3duKGZhbHNlKX1cbiAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU9e29uRWFjaEZlYXR1cmV9XG4gICAgICAgICAgICBhbGxNYXJrZXJzPXthbGxNYXJrZXJzTWFwfVxuICAgICAgICAgICAgbWFya2Vycz17bWFya2Vyc01hcH1cbiAgICAgICAgICAgIG1hcD17bWFwUmVuZGVyZWR9IC8+XG4gICAgICAgICAgPE1hcmtlclNpZGViYXJcbiAgICAgICAgICAgIGtleT17XCJtYXJrZXJfc2lkZWJhcl9cIit1bmlxdWVfa2V5K2luZGV4fVxuICAgICAgICAgICAgbWFya2VyU2lkZWJhcj17bWFya2VyU2lkZWJhcn1cbiAgICAgICAgICAgIHNldE1hcmtlclNpZGViYXI9e3NldE1hcmtlclNpZGViYXJ9XG4gICAgICAgICAgICBzZXRNYXJrZXJTaWRlYmFyQ29udGVudD17c2V0TWFya2VyU2lkZWJhckNvbnRlbnR9XG4gICAgICAgICAgICBtYXJrZXJTaWRlYmFyQ29udGVudD17bWFya2VyU2lkZWJhckNvbnRlbnR9XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGEgaWQ9e2luZGV4K1wiX19hZGRtYXBmaWx0ZXJcIn1cbiAgICAgICAgICBjbGFzc05hbWU9J2J0biBidG4tcHJpbWFyeSBidG4tYm9yZGVyJ1xuICAgICAgICAgIG9uQ2xpY2s9e2ZpbHRlckNoYW5nZX1cbiAgICAgICAgICBleHRyYT0nVHJ1ZSdcbiAgICAgICAgICBuYW1lPXtpbmRleCtcIm1hcF9maWx0ZXJcIn0+QWRkIGEgZmlsdGVyPC9hPlxuICAgICAgICB7ZmlsdGVyUXVlcmllc0JveH1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbCBmYWRlXCJcbiAgICAgICAgICBpZD1cIm1hcHNNb2RhbExvbmdcIlxuICAgICAgICAgIHRhYkluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCJcbiAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJtYXBzTW9kYWxMb25nVGl0bGVcIlxuICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLWxnXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudCBjYXJkXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoNCBpZD1cIm1hcHNNb2RhbExvbmdUaXRsZVwiIGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICBQb3B1bGF0ZSBhIG1hcCB3aXRoIFNQQVJRTDwvaDQ+XG5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkEgU1BBUlFMIHF1ZXJ5IHRvIGNyZWF0ZSBhIG1hcCByZXF1aXJlcyB5b3UgdG8gaW5jbHVkZSB0aGUgZm9sbG93aW5nIHZhcmlhYmxlcyAobmFtZXMgYXJlIG1hbmRhdG9yeSkuPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPnBvaW50PC9zdHJvbmc+OiAoVVJJKSB0aGUgcmVzb3VyY2UgdG8gYmUgcGxvdHRlZC48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPmxhdDwvc3Ryb25nPjogKHN0cmluZykgdGhlIGxhdGl0dWRlIG9mIHRoZSBwb2ludDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+bG9uZzwvc3Ryb25nPjogKHN0cmluZykgdGhlIGxvbmdpdHVkZSBvZiB0aGUgcG9pbnQ8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPllvdSBjYW4gYWRkIGFzIG1hbnkgb3RoZXIgdmFyaWFibGVzIGFzIHlvdSBsaWtlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWVzIHdpbGwgYmUgc2hvd24gb24gdGhlIHJpZ2h0IHNpZGViYXIgd2hlbiBjbGlja2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gYSBwb2ludCBpbiB0aGUgbWFwLiBUbyBnZXQgcHJldHR5IGxhYmVscyBhc3NvY2lhdGVkIHRvIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHdoZW4gdGhlIGxhdHRlciBhcmUgVVJJcykgdXNlIHRoZSBub3RhdGlvbiA8Y29kZT4/dmFyPC9jb2RlPiBhbmQgPGNvZGU+P3ZhckxhYmVsPC9jb2RlPiB3aGVuIGRlY2xhcmluZyB2YXJpYWJsZXMgaW4gdGhlIFNFTEVDVCBjbGF1c2UuPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Rm9yIGluc3RhbmNlLCBhIHF1ZXJ5IHRvIFdpa2lkYXRhIHRvIHJldHVybiBtdXNldW1zIGluIEJyaXR0YW55IHdvdWxkIGxvb2sgbGlrZSBmb2xsb3dzOjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlIGNsYXNzTmFtZT1cInF1ZXJ5LWVnXCI+e1wiU0VMRUNUIERJU1RJTkNUID9wb2ludCA/cG9pbnRMYWJlbCA/dmlsbGVJZExhYmVsID9sYXQgP2xvbmdcIn08YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiV0hFUkUge1wifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCI/cG9pbnQgd2R0OlA1MzkgP211c2VvZmlsZTsgd2R0OlAxMzEqIHdkOlExMjEzMDsgXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIndkdDpQMTMxID92aWxsZUlkOyBwOlA2MjUgP3N0YXRlbWVudC5cIn08YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiP3N0YXRlbWVudCBwc3Y6UDYyNSA/bm9kZS4gXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCI/bm9kZSB3aWtpYmFzZTpnZW9MYXRpdHVkZSA/bGF0IDsgd2lraWJhc2U6Z2VvTG9uZ2l0dWRlID9sb25nLlwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJTRVJWSUNFIHdpa2liYXNlOmxhYmVsIHsgYmQ6c2VydmljZVBhcmFtIHdpa2liYXNlOmxhbmd1YWdlICdlbicuIH0gfSBcIn08YnIvPjwvY29kZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRoZSBtYXAgcGxvdHMgcG9pbnRzIGFzIGNsdXN0ZXJzLCBzaG93aW5nIHRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHBlciBhcmVhLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV2hlbiBtb3ZpbmcgdGhlIG1vdXNlIG92ZXIgYSBjbHVzdGVyLCB0aGUgZWRnZXMgb2YgdGhlIGFyZWEgaXMgc2hvd24uPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UGxlYXNlIG5vdGUgdGhhdCB0byBzZWUgdGhlIHByZXZpZXcgb24gdGhlIG1hcCB5b3UgbXVzdCBjbGlja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gPGNvZGU+UnVuIHRoZSBxdWVyeTwvY29kZT4sIHRvIGF2b2lkIGV4cGVuc2l2ZSB1bm5lY2Vzc2FyeSBxdWVyaWVzLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJibG9ja190aXRsZVwiPkZpbHRlcnM8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+WW91IGNhbiBhZGQgZmlsdGVycyB0byB0aGUgbWFwLCB3aGljaCB3aWxsIGFwcGVhciBpbiB0aGUgbGVmdCBzaWRlYmFyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG8gYWRkIGEgZmlsdGVyIHRvIHRoZSBtYXAgeW91IG5lZWQgYSBTUEFSUUwgcXVlcnkgd2hlcmUgdG8gc3BlY2lmeSB0aHJlZSB2YXJpYWJsZXMgKG5hbWVzIGFyZSBtYW5kYXRvcnkpOjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+cG9pbnQ8L3N0cm9uZz46IGEgdmFyaWFibGUgaWRlbnRpZnlpbmcgdGhlIGRhdGEgcG9pbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybmVkIGJ5IHRoZSBwcmV2aW91cyBxdWVyeS4gV2Ugd2lsbCByZXBsYWNlIHRoaXMgdmFyaWFibGUgd2l0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbGlzdCBvZiBkYXRhIHBvaW50cyByZXR1cm5lZCBieSB0aGUgcHJldmlvdXMgcXVlcnksIHNvIHlvdSBkb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3QgbmVlZCB0byByZXBlYXQgdGhlIHBhdHRlcm5zIHRvIGlkZW50aWZ5IHdoYXQgYSBwb2ludCBpcy48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PHN0cm9uZz5maWx0ZXI8L3N0cm9uZz46ICB0aGUgdmFyaWFibGUgdG8gYmUgdXNlZCBhcyBhIGZpbHRlci4gQ2FuIGJlIGEgVVJJIG9yIGEgTGl0ZXJhbC48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PHN0cm9uZz5maWx0ZXJMYWJlbDwvc3Ryb25nPjogdGhlIGxhYmVsIG9mIHRoZSBmaWx0ZXIgaW4gY2FzZSB0aGUgZmlsdGVyIGlzIGEgVVJJLjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Rm9yIGluc3RhbmNlLCBhIHF1ZXJ5IG9uIFdpa2lkYXRhIHRvIHJldHVybiBtdXNldW1zJyB0eXBlcyBhcyBmaWx0ZXJzIHdvdWxkIGxvb2sgbGlrZSBmb2xsb3dzOjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlIGNsYXNzTmFtZT1cInF1ZXJ5LWVnXCI+e1wiU0VMRUNUIERJU1RJTkNUID9wb2ludCA/ZmlsdGVyID9maWx0ZXJMYWJlbFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJXSEVSRSB7XCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIj9wb2ludCB3ZHQ6UDUzOSA/bXVzZW9maWxlOyB3ZHQ6UDEzMSogd2Q6UTEyMTMwLiBcIn08YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiP3BvaW50IHdkdDpQMTMxID9maWx0ZXIuID9maWx0ZXIgcmRmczpsYWJlbCA/ZmlsdGVyTGFiZWwgLlwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJGSUxURVIoTEFORyg/ZmlsdGVyTGFiZWwpID0gJycgfHwgTEFOR01BVENIRVMoTEFORyg/ZmlsdGVyTGFiZWwpLCAnZW4nKSkuIH1cIn08YnIvPjwvY29kZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kYW5nZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPkNsb3NlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPC8+XG5cbiAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IHJldHVybiA8RXJyb3JIYW5kbGVyIGVycm9yPXtlcnJvcn0gLz4gfVxuICB9IGVsc2Uge1xuICAgIC8vIEZpbmFsIHN0b3J5OiByZW5kZXIgcHJldmlld1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cImJsb2NrX3RpdGxlIGZsb2F0X25vbmVcIj57dGl0bGV9PC9oMz5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT0nbWFwX3ByZXZpZXdfY29udGFpbmVyJ1xuICAgICAgICAgIGlkPXtpbmRleCsnX19tYXBfcHJldmlld19jb250YWluZXInfT5cbiAgICAgICAgICA8TWFwU2lkZWJhclxuICAgICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgZmlsdGVycz17ZmlsdGVyc31cbiAgICAgICAgICAgIGtleT17XCJzaWRlYmFyX1wiK3VuaXF1ZV9rZXkraW5kZXh9XG4gICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHNldElzU2hvd24odHJ1ZSl9XG4gICAgICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHNldElzU2hvd24oZmFsc2UpfVxuICAgICAgICAgICAgb25FYWNoRmVhdHVyZT17b25FYWNoRmVhdHVyZX1cbiAgICAgICAgICAgIGFsbE1hcmtlcnM9e2FsbE1hcmtlcnNNYXB9XG4gICAgICAgICAgICBtYXJrZXJzPXttYXJrZXJzTWFwfVxuICAgICAgICAgICAgbWFwPXttYXBSZW5kZXJlZH0gLz5cbiAgICAgICAgICA8TWFya2VyU2lkZWJhclxuICAgICAgICAgICAga2V5PXtcIm1hcmtlcl9zaWRlYmFyX1wiK3VuaXF1ZV9rZXkraW5kZXh9XG4gICAgICAgICAgICBtYXJrZXJTaWRlYmFyPXttYXJrZXJTaWRlYmFyfVxuICAgICAgICAgICAgc2V0TWFya2VyU2lkZWJhcj17c2V0TWFya2VyU2lkZWJhcn1cbiAgICAgICAgICAgIHNldE1hcmtlclNpZGViYXJDb250ZW50PXtzZXRNYXJrZXJTaWRlYmFyQ29udGVudH1cbiAgICAgICAgICAgIG1hcmtlclNpZGViYXJDb250ZW50PXttYXJrZXJTaWRlYmFyQ29udGVudH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC8+XG4gICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikgeyByZXR1cm4gPEVycm9ySGFuZGxlciBlcnJvcj17ZXJyb3J9IC8+IH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsSUFBTUEsV0FBVyxHQUFHLFNBQWRBLFdBQVdBLENBQUlDLEdBQUcsRUFBSztFQUN6QixVQUFBQyxNQUFBLENBQVdELEdBQUcsT0FBQUMsTUFBQSxDQUFNLElBQUlDLElBQUksQ0FBQyxDQUFDLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0FBQzVDLENBQUM7QUFFRCxJQUFNQyxjQUFjLEdBQUcsU0FBakJBLGNBQWNBLENBQUFDLElBQUEsRUFDK0I7RUFBQSxJQUR6QkMsU0FBUyxHQUFBRCxJQUFBLENBQVRDLFNBQVM7SUFBRUMsV0FBVyxHQUFBRixJQUFBLENBQVhFLFdBQVc7SUFBR0MsVUFBVSxHQUFBSCxJQUFBLENBQVZHLFVBQVU7SUFDdkRDLFlBQVksR0FBQUosSUFBQSxDQUFaSSxZQUFZO0lBQUdDLE9BQU8sR0FBQUwsSUFBQSxDQUFQSyxPQUFPO0lBQUVDLFVBQVUsR0FBQU4sSUFBQSxDQUFWTSxVQUFVO0lBQUVDLEdBQUcsR0FBQVAsSUFBQSxDQUFITyxHQUFHO0VBRTNDLElBQUlDLGVBQWU7RUFDbkIsSUFBQUMsZUFBQSxHQUE0QkMsS0FBSyxDQUFDQyxRQUFRLENBQUMsYUFBYSxDQUFDO0lBQUFDLGdCQUFBLEdBQUFDLGNBQUEsQ0FBQUosZUFBQTtJQUFsREssT0FBTyxHQUFBRixnQkFBQTtJQUFFRyxRQUFRLEdBQUFILGdCQUFBO0VBRXhCLFNBQVNJLGdCQUFnQkEsQ0FBQSxFQUFHO0lBQzFCUixlQUFlLEdBQUdTLEtBQUssQ0FBQ0MsSUFBSSxDQUFDQyxRQUFRLENBQUNDLGdCQUFnQixDQUFDLHFDQUFxQyxDQUFDLENBQUM7SUFDOUYsSUFBSWYsT0FBTyxJQUFJZ0IsU0FBUyxFQUFFO01BQ3RCaEIsT0FB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</script><script>"use strict";

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
// table component box
var Table = function Table(_ref) {
  var unique_key = _ref.unique_key,
    index = _ref.index,
    removeComponent = _ref.removeComponent,
    componentList = _ref.componentList,
    setComponent = _ref.setComponent,
    sortComponentUp = _ref.sortComponentUp,
    sortComponentDown = _ref.sortComponentDown;
  var title = '',
    query = '',
    tabletoappend;
  if (datastory_data.dynamic_elements && datastory_data.dynamic_elements.length) {
    datastory_data.dynamic_elements.forEach(function (element) {
      if (element.type == 'table' && element.position == index) {
        query = element.table_query;
        title = element.table_title;
      }
    });
  }
  var _React$useState = React.useState(title),
    _React$useState2 = _slicedToArray(_React$useState, 2),
    tableTitle = _React$useState2[0],
    setTitle = _React$useState2[1];
  var changeTitle = function changeTitle(event) {
    setTitle(event.target.value);
  };
  var _React$useState3 = React.useState(query),
    _React$useState4 = _slicedToArray(_React$useState3, 2),
    tableQuery = _React$useState4[0],
    setQuery = _React$useState4[1];
  var changeQuery = function changeQuery(event) {
    setQuery(event.target.value);
  };
  var _React$useState5 = React.useState(false),
    _React$useState6 = _slicedToArray(_React$useState5, 2),
    spinner = _React$useState6[0],
    setSpinner = _React$useState6[1];

  // retrieve data and build results table
  var fetchQuery = function fetchQuery(event) {
    if (tableQuery.length > 1) {
      setSpinner(true);
      $("#" + index + "__table").innerHTML = "&nbsp;";
      fetch(datastory_data.sparql_endpoint + '?query=' + encodeURIComponent(tableQuery), {
        method: 'GET',
        headers: {
          'Accept': 'application/sparql-results+json'
        }
      }).then(function (res) {
        return res.json();
      }).then(function (data) {
        setSpinner(false);
        tabletoappend = '<thead><tr>';
        var headings = data.head.vars;
        headings.forEach(function (item, inde) {
          if (!item.includes('Label')) {
            tabletoappend += "<th>" + item + "</th>";
          }
        });
        headings.forEach(function (item, inde) {
          if (item.includes('Label')) {
            headings.splice(inde, 1);
            inde--;
          }
        });

        // format table
        tabletoappend += "</tr></thead><tbody>";
        //if (returnedJson.length >= 1) {
        data.results.bindings.forEach(function (item, i) {
          tabletoappend += "<tr>";
          headings.forEach(function (head, inde) {
            var res_value = "";
            if (item[headings[inde]] !== undefined) {
              res_value = item[headings[inde]].value;
            }
            ;
            if (item[headings[inde] + 'Label'] != undefined) {
              var res_label = "";
              if (item[headings[inde] + 'Label'].value.length) {
                res_label = item[headings[inde] + 'Label'].value;
              }
              tabletoappend += "<td>";

              // audio
              if (res_value.endsWith('.mp3') || res_value.endsWith('.flac')) {
                tabletoappend += "<span>" + res_label + "</span><audio class='table_result'><source src='" + res_value + "'></source></audio>";
              }
              // img
              else if (res_value.endsWith('.jpg') || res_value.endsWith('.png') || res_value.endsWith('.JPEG') || res_value.endsWith('.JPG')) {
                tabletoappend += "<span>" + res_label + "</span><img class='img_table' src='" + res_value + "'/>";
              }
              // video
              else if (res_value.endsWith('.mp4') || res_value.endsWith('.ogg')) {
                tabletoappend += "<span>" + res_label + "</span><video controls class='table_result'><source src='" + res_value + "'></source></video>";
              }
              // youtube
              else if (res_value.includes("youtube.com/embed/")) {
                tabletoappend += '<span>' + res_label + '</span><div id=embed-google-map style="height:100%; width:100%;max-width:100%;"><iframe allowFullScreen="allowFullScreen" src="' + res_value + '?ecver=1&amp;iv_load_policy=1&amp;rel=0&amp;yt:stretch=16:9&amp;autohide=1&amp;color=red&amp;width=186&amp;width=186" width="186" height="105" allowtransparency="true" frameborder="0"></iframe>';
              }
              // URL
              else {
                tabletoappend += "<a class='table_result' href='" + res_value + "'>" + res_label + "</a>";
              }

              // var buttons = addActionButton(actions, headings[j], pos, res_value, res_label);
              tabletoappend += "</td>";
            } else {
              tabletoappend += "<td>";
              if (res_value.endsWith('.mp3') || res_value.endsWith('.flac')) {
                tabletoappend += "<audio controls src='" + res_value + "' class='table_result'><a href='" + res_value + "'></a></audio>";
              } else if (res_value.endsWith('.jpg') || res_value.endsWith('.png') || res_value.endsWith('.JPEG') || res_value.endsWith('.JPG')) {
                tabletoappend += "<img class='img_table' src='" + res_value + "'/>";
              } else if (res_value.endsWith('.mp4') || res_value.endsWith('.ogg')) {
                tabletoappend += "<video controls class='table_result'><source src='" + res_value + "'></source></video>";
              } else if (res_value.includes("youtube.com/embed/")) {
                tabletoappend += '<div id=embed-google-map style="height:100%; width:100%;max-width:100%;"><iframe allowFullScreen="allowFullScreen" src="' + res_value + '?ecver=1&amp;iv_load_policy=1&amp;rel=0&amp;yt:stretch=16:9&amp;autohide=1&amp;color=red&amp;width=186&amp;width=186" width="186" height="105" allowtransparency="true" frameborder="0"></iframe>';
              } else {
                tabletoappend += "<span class='table_result'>" + res_value + "</span>";
              }
              //tabletoappend += "<span class='table_result'>" + res_value + "</span>";
              // var buttons = addActionButton(actions, headings[j], pos, res_value, res_value);
              tabletoappend += "</td>";
            }
          });
          tabletoappend += "</tr>";
        });
        tabletoappend += '</tbody>';
        document.getElementById(index + "__table").innerHTML = '&nbsp;';
        $("#" + index + "__table").append(tabletoappend);
        // if (type.length > 0) {
        //     exportTableHtml(pos, type);
        //     exportTableCsv(pos, type, table_title);
        // }
      })["catch"](function (error) {
        console.error('Error:', error);
        alert("Table: there is an error in the query");
        setSpinner(false);
      })["finally"](function () {});
    }
  };

  // export table as html
  function exportTableHtml(position, type) {
    var export_btn;
    var tableHtml;
    if (type && type.includes('table')) {
      export_btn = document.getElementById('export_' + position);
      var table = document.getElementById(position + '__table');
      var cloneTable = table.cloneNode(true);
      tableHtml = cloneTable.innerHTML;
    }
    window.prompt("Copy to clipboard: Ctrl+C, Enter", '<table>' + tableHtml + '</table>');
  }
  // export table as csv
  function exportTableCsv(position, type) {
    var table = document.getElementById(index + '__table');
    var export_btn = document.getElementById("csv_" + index);
    var cloneTable = table.cloneNode(true);
    var tableCSV = createCsv(cloneTable);
    var csv_string = tableCSV.join('\n');
    export_btn.setAttribute('href', 'data:text/csv;charset=utf-8,' + encodeURIComponent(csv_string));
  }

  // construct csv
  function createCsv(table) {
    var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';
    // Select rows from table_id
    var rows = table.rows;
    // Construct csv
    var csv = [];
    for (var i = 0; i < rows.length; i++) {
      var row = [],
        cols = rows[i].querySelectorAll('td, th');
      for (var j = 0; j < cols.length; j++) {
        // Clean innertext to remove multiple spaces and jumpline (break csv)
        //var data = cols[j].innerText.replace(/(\r\n|\n|\r)/gm, '').replace(/(\s\s)/gm, ' ').trim();
        if (cols[j].querySelector("input") != null) {
          var input_val = cols[j].querySelector("input");
          var data = input_val.value.replace(/(\r\n|\n|\r)/gm, '').replace(/(\s\s)/gm, ' ').trim();
        } else if (cols[j].querySelector("audio") != null) {
          var data = cols[j].querySelector("audio").getAttribute('src');
        } else if (cols[j].querySelector("img") != null) {
          var data = cols[j].querySelector("img").getAttribute('src');
        } else {
          var data = cols[j].innerText.replace(/(\r\n|\n|\r)/gm, '').replace(/(\s\s)/gm, ' ').trim();
        }
        // Escape double-quote with double-double-quote (see https://stackoverflow.com/questions/17808511/properly-escape-a-double-quote-in-csv)
        data = data.replace(/"/g, '""');
        // Push escaped string
        row.push('"' + data + '"');
      }
      csv.push(row.join(separator));
    }
    return csv;
  }

  // allow column editing, only in final preview
  var edit_table = function edit_table() {
    var table = document.getElementById(index + "__table");
    var thead = table.querySelectorAll("thead tr")[0];
    var tbody = table.querySelectorAll("tbody tr");
    var th = document.createElement('th');
    th.textContent = 'Notes';
    thead.appendChild(th);
    var _iterator = _createForOfIteratorHelper(tbody),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var tr = _step.value;
        var td = document.createElement('td');
        var input_note = document.createElement('input');
        td.appendChild(input_note);
        tr.appendChild(td);
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
  };

  // preview counter
  React.useEffect(function () {
    try {
      fetchQuery();
      $("textarea").each(function () {
        this.setAttribute("style", "height:" + this.scrollHeight + "px;overflow-y:hidden;");
      }).on("input", function () {
        this.style.height = 0;
        this.style.height = this.scrollHeight + "px";
      });
    } catch (error) {
      /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  }, []);
  if (window.location.href.indexOf("/modify/") > -1) {
    try {
      return /*#__PURE__*/React.createElement("div", {
        id: index + "__block_field",
        className: "block_field"
      }, spinner && /*#__PURE__*/React.createElement("span", {
        id: "loader",
        className: "lds-dual-ring overlay"
      }), /*#__PURE__*/React.createElement("div", {
        className: "ribbon"
      }), /*#__PURE__*/React.createElement("h4", {
        className: "block_title"
      }, "Add a table"), /*#__PURE__*/React.createElement(SortComponent, {
        index: index,
        sortComponentUp: sortComponentUp,
        sortComponentDown: sortComponentDown,
        key: unique_key
      }), /*#__PURE__*/React.createElement(RemoveComponent, {
        index: index,
        removeComponent: removeComponent,
        key: unique_key
      }), /*#__PURE__*/React.createElement("h3", {
        className: "block_title"
      }, tableTitle), /*#__PURE__*/React.createElement("table", {
        className: "col-12",
        id: index + '__table'
      }), /*#__PURE__*/React.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/React.createElement("label", {
        htmlFor: index + '__table_title'
      }, "Table title"), /*#__PURE__*/React.createElement("input", {
        name: index + '__table_title',
        type: "text",
        onChange: changeTitle,
        defaultValue: tableTitle,
        id: index + '__table_title',
        placeholder: "The title of the table",
        required: true
      })), /*#__PURE__*/React.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/React.createElement("label", {
        htmlFor: index + '__table_query'
      }, "SPARQL query"), /*#__PURE__*/React.createElement("textarea", {
        spellCheck: "false",
        name: index + '__table_query',
        type: "text",
        defaultValue: tableQuery,
        onChange: changeQuery,
        onMouseLeave: fetchQuery,
        id: index + '__table_query',
        placeholder: "A SPARQL returning any value",
        required: true
      })));
    } catch (error) {
      return /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  } else {
    var createMarkup = function createMarkup() {
      return {
        __html: tableQuery
      };
    };
    try {
      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("h3", {
        className: "block_title"
      }, tableTitle), /*#__PURE__*/React.createElement("table", {
        className: "col-12",
        id: index + '__table'
      }, tabletoappend), /*#__PURE__*/React.createElement("div", {
        className: "exportchart card-tools col-md-12 col-sm-12"
      }, /*#__PURE__*/React.createElement("a", {
        id: "export_" + index,
        className: "btn btn-info btn-border btn-round btn-sm mr-2",
        onClick: function onClick() {
          return exportTableHtml(index, 'table');
        }
      }, "Embed"), /*#__PURE__*/React.createElement("a", {
        id: "csv_" + index,
        target: "_blank",
        download: 'export_' + index + '.csv',
        className: "btn btn-info btn-border btn-round btn-sm mr-2",
        onClick: function onClick() {
          return exportTableCsv(index, 'table');
        }
      }, "CSV"), /*#__PURE__*/React.createElement("a", {
        id: index + "__edit_table",
        className: "btn btn-info btn-border btn-round btn-sm mr-2",
        onClick: edit_table
      }, "Edit"), /*#__PURE__*/React.createElement("a", {
        href: "#",
        id: index + "_query_tooltip",
        role: "button",
        "data-toggle": "modal",
        "data-target": '#' + index + '_query',
        className: "btn btn-info btn-border btn-round btn-sm"
      }, "Query"), /*#__PURE__*/React.createElement("div", {
        className: "modal fade",
        id: index + '_query',
        tabIndex: "-1",
        role: "dialog",
        "aria-labelledby": index + '_querytitle',
        "aria-hidden": "true"
      }, /*#__PURE__*/React.createElement("div", {
        className: "modal-dialog modal-lg",
        role: "document"
      }, /*#__PURE__*/React.createElement("div", {
        className: "modal-content card"
      }, /*#__PURE__*/React.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/React.createElement("h4", {
        id: '#' + index + '_querytitle',
        className: "card-title"
      }, "SPARQL query")), /*#__PURE__*/React.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/React.createElement("div", {
        className: "container",
        dangerouslySetInnerHTML: createMarkup()
      })), /*#__PURE__*/React.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/React.createElement("button", {
        type: "button",
        className: "btn btn-danger",
        "data-dismiss": "modal"
      }, "Close")))))));
    } catch (error) {
      return /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUYWJsZSIsIl9yZWYiLCJ1bmlxdWVfa2V5IiwiaW5kZXgiLCJyZW1vdmVDb21wb25lbnQiLCJjb21wb25lbnRMaXN0Iiwic2V0Q29tcG9uZW50Iiwic29ydENvbXBvbmVudFVwIiwic29ydENvbXBvbmVudERvd24iLCJ0aXRsZSIsInF1ZXJ5IiwidGFibGV0b2FwcGVuZCIsImRhdGFzdG9yeV9kYXRhIiwiZHluYW1pY19lbGVtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJlbGVtZW50IiwidHlwZSIsInBvc2l0aW9uIiwidGFibGVfcXVlcnkiLCJ0YWJsZV90aXRsZSIsIl9SZWFjdCR1c2VTdGF0ZSIsIlJlYWN0IiwidXNlU3RhdGUiLCJfUmVhY3QkdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkiLCJ0YWJsZVRpdGxlIiwic2V0VGl0bGUiLCJjaGFuZ2VUaXRsZSIsImV2ZW50IiwidGFyZ2V0IiwidmFsdWUiLCJfUmVhY3QkdXNlU3RhdGUzIiwiX1JlYWN0JHVzZVN0YXRlNCIsInRhYmxlUXVlcnkiLCJzZXRRdWVyeSIsImNoYW5nZVF1ZXJ5IiwiX1JlYWN0JHVzZVN0YXRlNSIsIl9SZWFjdCR1c2VTdGF0ZTYiLCJzcGlubmVyIiwic2V0U3Bpbm5lciIsImZldGNoUXVlcnkiLCIkIiwiaW5uZXJIVE1MIiwiZmV0Y2giLCJzcGFycWxfZW5kcG9pbnQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJtZXRob2QiLCJoZWFkZXJzIiwidGhlbiIsInJlcyIsImpzb24iLCJkYXRhIiwiaGVhZGluZ3MiLCJoZWFkIiwidmFycyIsIml0ZW0iLCJpbmRlIiwiaW5jbHVkZXMiLCJzcGxpY2UiLCJyZXN1bHRzIiwiYmluZGluZ3MiLCJpIiwicmVzX3ZhbHVlIiwidW5kZWZpbmVkIiwicmVzX2xhYmVsIiwiZW5kc1dpdGgiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYXBwZW5kIiwiZXJyb3IiLCJjb25zb2xlIiwiYWxlcnQiLCJleHBvcnRUYWJsZUh0bWwiLCJleHBvcnRfYnRuIiwidGFibGVIdG1sIiwidGFibGUiLCJjbG9uZVRhYmxlIiwiY2xvbmVOb2RlIiwid2luZG93IiwicHJvbXB0IiwiZXhwb3J0VGFibGVDc3YiLCJ0YWJsZUNTViIsImNyZWF0ZUNzdiIsImNzdl9zdHJpbmciLCJqb2luIiwic2V0QXR0cmlidXRlIiwic2VwYXJhdG9yIiwiYXJndW1lbnRzIiwicm93cyIsImNzdiIsInJvdyIsImNvbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaiIsInF1ZXJ5U2VsZWN0b3IiLCJpbnB1dF92YWwiLCJyZXBsYWNlIiwidHJpbSIsImdldEF0dHJpYnV0ZSIsImlubmVyVGV4dCIsInB1c2giLCJlZGl0X3RhYmxlIiwidGhlYWQiLCJ0Ym9keSIsInRoIiwiY3JlYXRlRWxlbWVudCIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsIl9zdGVwIiwicyIsIm4iLCJkb25lIiwidHIiLCJ0ZCIsImlucHV0X25vdGUiLCJlcnIiLCJlIiwiZiIsInVzZUVmZmVjdCIsImVhY2giLCJzY3JvbGxIZWlnaHQiLCJvbiIsInN0eWxlIiwiaGVpZ2h0IiwiRXJyb3JIYW5kbGVyIiwibG9jYXRpb24iLCJocmVmIiwiaW5kZXhPZiIsImlkIiwiY2xhc3NOYW1lIiwiU29ydENvbXBvbmVudCIsImtleSIsIlJlbW92ZUNvbXBvbmVudCIsImh0bWxGb3IiLCJuYW1lIiwib25DaGFuZ2UiLCJkZWZhdWx0VmFsdWUiLCJwbGFjZWhvbGRlciIsInJlcXVpcmVkIiwic3BlbGxDaGVjayIsIm9uTW91c2VMZWF2ZSIsImNyZWF0ZU1hcmt1cCIsIl9faHRtbCIsIkZyYWdtZW50Iiwib25DbGljayIsImRvd25sb2FkIiwicm9sZSIsInRhYkluZGV4IiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiXSwic291cmNlcyI6WyJodHRwczovL3Byb2plY3RzLmRoYXJjLnVuaWJvLml0L21lbG9keS9zdGF0aWMvanMvcmVhY3QvVGFibGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdGFibGUgY29tcG9uZW50IGJveFxuY29uc3QgVGFibGUgPSAoe3VuaXF1ZV9rZXksIGluZGV4ICxcbiAgICAgICAgICAgICAgICByZW1vdmVDb21wb25lbnQgLCBjb21wb25lbnRMaXN0LCBzZXRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgc29ydENvbXBvbmVudFVwICwgc29ydENvbXBvbmVudERvd259KSA9PiB7XG5cbiAgICBsZXQgdGl0bGUgPSAnJyAsIHF1ZXJ5ID0gJycsIHRhYmxldG9hcHBlbmQ7XG4gICAgaWYgKGRhdGFzdG9yeV9kYXRhLmR5bmFtaWNfZWxlbWVudHMgJiYgZGF0YXN0b3J5X2RhdGEuZHluYW1pY19lbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIGRhdGFzdG9yeV9kYXRhLmR5bmFtaWNfZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PSAndGFibGUnICYmIGVsZW1lbnQucG9zaXRpb24gPT0gaW5kZXgpIHtcbiAgICAgICAgICBxdWVyeSA9IGVsZW1lbnQudGFibGVfcXVlcnkgO1xuICAgICAgICAgIHRpdGxlID0gZWxlbWVudC50YWJsZV90aXRsZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBbdGFibGVUaXRsZSwgc2V0VGl0bGVdID0gUmVhY3QudXNlU3RhdGUodGl0bGUpO1xuICAgIGNvbnN0IGNoYW5nZVRpdGxlID0gZXZlbnQgPT4geyBzZXRUaXRsZShldmVudC50YXJnZXQudmFsdWUpfVxuXG4gICAgY29uc3QgW3RhYmxlUXVlcnksIHNldFF1ZXJ5XSA9IFJlYWN0LnVzZVN0YXRlKHF1ZXJ5KTtcbiAgICBjb25zdCBjaGFuZ2VRdWVyeSA9IGV2ZW50ID0+IHsgc2V0UXVlcnkoZXZlbnQudGFyZ2V0LnZhbHVlKX1cblxuICAgIGNvbnN0IFtzcGlubmVyLCBzZXRTcGlubmVyXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICAgIC8vIHJldHJpZXZlIGRhdGEgYW5kIGJ1aWxkIHJlc3VsdHMgdGFibGVcbiAgICBjb25zdCBmZXRjaFF1ZXJ5ID0gZXZlbnQgPT4ge1xuICAgICAgaWYgKHRhYmxlUXVlcnkubGVuZ3RoID4gMSkge1xuICAgICAgICBzZXRTcGlubmVyKHRydWUpXG4gICAgICAgICQoXCIjXCIgKyBpbmRleCArIFwiX190YWJsZVwiKS5pbm5lckhUTUwgPSBcIiZuYnNwO1wiO1xuICAgICAgICBmZXRjaChkYXRhc3RvcnlfZGF0YS5zcGFycWxfZW5kcG9pbnQrJz9xdWVyeT0nK2VuY29kZVVSSUNvbXBvbmVudCh0YWJsZVF1ZXJ5KSxcbiAgICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdBY2NlcHQnOiAnYXBwbGljYXRpb24vc3BhcnFsLXJlc3VsdHMranNvbicgfVxuICAgICAgICAgIH1cbiAgICAgICAgKS50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICBzZXRTcGlubmVyKGZhbHNlKTtcbiAgICAgICAgICAgdGFibGV0b2FwcGVuZCA9ICc8dGhlYWQ+PHRyPic7XG5cbiAgICAgICAgICAgdmFyIGhlYWRpbmdzID0gZGF0YS5oZWFkLnZhcnM7XG4gICAgICAgICAgIGhlYWRpbmdzLmZvckVhY2goKGl0ZW0sIGluZGUpID0+IHtcbiAgICAgICAgICAgICBpZiAoIWl0ZW0uaW5jbHVkZXMoJ0xhYmVsJykpIHsgdGFibGV0b2FwcGVuZCArPSBcIjx0aD5cIitpdGVtK1wiPC90aD5cIjt9XG5cbiAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgaGVhZGluZ3MuZm9yRWFjaCgoaXRlbSwgaW5kZSkgPT4ge1xuICAgICAgICAgICAgIGlmIChpdGVtLmluY2x1ZGVzKCdMYWJlbCcpKSB7XG4gICAgICAgICAgICAgICBoZWFkaW5ncy5zcGxpY2UoaW5kZSwgMSk7XG4gICAgICAgICAgICAgICBpbmRlLS07fVxuICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgIC8vIGZvcm1hdCB0YWJsZVxuICAgICAgICAgICB0YWJsZXRvYXBwZW5kICs9IFwiPC90cj48L3RoZWFkPjx0Ym9keT5cIjtcbiAgICAgICAgICAgLy9pZiAocmV0dXJuZWRKc29uLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgIGRhdGEucmVzdWx0cy5iaW5kaW5ncy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgdGFibGV0b2FwcGVuZCArPSBcIjx0cj5cIjtcbiAgICAgICAgICAgICBoZWFkaW5ncy5mb3JFYWNoKChoZWFkLCBpbmRlKSA9PiB7XG4gICAgICAgICAgICAgICB2YXIgcmVzX3ZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgIGlmIChpdGVtW2hlYWRpbmdzW2luZGVdXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgcmVzX3ZhbHVlID0gaXRlbVtoZWFkaW5nc1tpbmRlXV0udmFsdWU7XG4gICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICBpZiAoaXRlbVtoZWFkaW5nc1tpbmRlXSArICdMYWJlbCddICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICB2YXIgcmVzX2xhYmVsID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICBpZiAoaXRlbVtoZWFkaW5nc1tpbmRlXSArICdMYWJlbCddLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgcmVzX2xhYmVsID0gaXRlbVtoZWFkaW5nc1tpbmRlXSArICdMYWJlbCddLnZhbHVlO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIHRhYmxldG9hcHBlbmQgKz0gXCI8dGQ+XCI7XG5cbiAgICAgICAgICAgICAgICAgLy8gYXVkaW9cbiAgICAgICAgICAgICAgICAgaWYgKHJlc192YWx1ZS5lbmRzV2l0aCgnLm1wMycpIHx8IHJlc192YWx1ZS5lbmRzV2l0aCgnLmZsYWMnKSkge1xuICAgICAgICAgICAgICAgICAgIHRhYmxldG9hcHBlbmQgKz0gXCI8c3Bhbj5cIityZXNfbGFiZWwrXCI8L3NwYW4+PGF1ZGlvIGNsYXNzPSd0YWJsZV9yZXN1bHQnPjxzb3VyY2Ugc3JjPSdcIiArIHJlc192YWx1ZSArIFwiJz48L3NvdXJjZT48L2F1ZGlvPlwiO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIC8vIGltZ1xuICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNfdmFsdWUuZW5kc1dpdGgoJy5qcGcnKSB8fCByZXNfdmFsdWUuZW5kc1dpdGgoJy5wbmcnKSB8fCByZXNfdmFsdWUuZW5kc1dpdGgoJy5KUEVHJykgfHwgcmVzX3ZhbHVlLmVuZHNXaXRoKCcuSlBHJykpIHtcbiAgICAgICAgICAgICAgICAgICB0YWJsZXRvYXBwZW5kICs9IFwiPHNwYW4+XCIrcmVzX2xhYmVsK1wiPC9zcGFuPjxpbWcgY2xhc3M9J2ltZ190YWJsZScgc3JjPSdcIiArIHJlc192YWx1ZSArIFwiJy8+XCI7XG4gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgLy8gdmlkZW9cbiAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzX3ZhbHVlLmVuZHNXaXRoKCcubXA0JykgfHwgcmVzX3ZhbHVlLmVuZHNXaXRoKCcub2dnJykpIHtcbiAgICAgICAgICAgICAgICAgICB0YWJsZXRvYXBwZW5kICs9IFwiPHNwYW4+XCIrcmVzX2xhYmVsK1wiPC9zcGFuPjx2aWRlbyBjb250cm9scyBjbGFzcz0ndGFibGVfcmVzdWx0Jz48c291cmNlIHNyYz0nXCIgKyByZXNfdmFsdWUgKyBcIic+PC9zb3VyY2U+PC92aWRlbz5cIjtcbiAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAvLyB5b3V0dWJlXG4gICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc192YWx1ZS5pbmNsdWRlcyhcInlvdXR1YmUuY29tL2VtYmVkL1wiKSkge1xuICAgICAgICAgICAgICAgICAgIHRhYmxldG9hcHBlbmQgKz0gJzxzcGFuPicrcmVzX2xhYmVsKyc8L3NwYW4+PGRpdiBpZD1lbWJlZC1nb29nbGUtbWFwIHN0eWxlPVwiaGVpZ2h0OjEwMCU7IHdpZHRoOjEwMCU7bWF4LXdpZHRoOjEwMCU7XCI+PGlmcmFtZSBhbGxvd0Z1bGxTY3JlZW49XCJhbGxvd0Z1bGxTY3JlZW5cIiBzcmM9XCInK3Jlc192YWx1ZSsnP2VjdmVyPTEmYW1wO2l2X2xvYWRfcG9saWN5PTEmYW1wO3JlbD0wJmFtcDt5dDpzdHJldGNoPTE2OjkmYW1wO2F1dG9oaWRlPTEmYW1wO2NvbG9yPXJlZCZhbXA7d2lkdGg9MTg2JmFtcDt3aWR0aD0xODZcIiB3aWR0aD1cIjE4NlwiIGhlaWdodD1cIjEwNVwiIGFsbG93dHJhbnNwYXJlbmN5PVwidHJ1ZVwiIGZyYW1lYm9yZGVyPVwiMFwiPjwvaWZyYW1lPic7XG4gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgLy8gVVJMXG4gICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgIHRhYmxldG9hcHBlbmQgKz0gXCI8YSBjbGFzcz0ndGFibGVfcmVzdWx0JyBocmVmPSdcIiArIHJlc192YWx1ZSArIFwiJz5cIiArIHJlc19sYWJlbCArIFwiPC9hPlwiO1xuICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgLy8gdmFyIGJ1dHRvbnMgPSBhZGRBY3Rpb25CdXR0b24oYWN0aW9ucywgaGVhZGluZ3Nbal0sIHBvcywgcmVzX3ZhbHVlLCByZXNfbGFiZWwpO1xuICAgICAgICAgICAgICAgICB0YWJsZXRvYXBwZW5kICs9IFwiPC90ZD5cIjtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgIHRhYmxldG9hcHBlbmQgKz0gXCI8dGQ+XCI7XG4gICAgICAgICAgICAgICAgICAgaWYgKHJlc192YWx1ZS5lbmRzV2l0aCgnLm1wMycpIHx8IHJlc192YWx1ZS5lbmRzV2l0aCgnLmZsYWMnKSkge1xuICAgICAgICAgICAgICAgICAgICAgdGFibGV0b2FwcGVuZCArPSBcIjxhdWRpbyBjb250cm9scyBzcmM9J1wiICsgcmVzX3ZhbHVlICsgXCInIGNsYXNzPSd0YWJsZV9yZXN1bHQnPjxhIGhyZWY9J1wiICsgcmVzX3ZhbHVlICsgXCInPjwvYT48L2F1ZGlvPlwiO1xuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNfdmFsdWUuZW5kc1dpdGgoJy5qcGcnKSB8fCByZXNfdmFsdWUuZW5kc1dpdGgoJy5wbmcnKSB8fCByZXNfdmFsdWUuZW5kc1dpdGgoJy5KUEVHJykgfHwgcmVzX3ZhbHVlLmVuZHNXaXRoKCcuSlBHJykpIHtcbiAgICAgICAgICAgICAgICAgICAgIHRhYmxldG9hcHBlbmQgKz0gXCI8aW1nIGNsYXNzPSdpbWdfdGFibGUnIHNyYz0nXCIgKyByZXNfdmFsdWUgKyBcIicvPlwiO1xuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNfdmFsdWUuZW5kc1dpdGgoJy5tcDQnKSB8fCByZXNfdmFsdWUuZW5kc1dpdGgoJy5vZ2cnKSkge1xuICAgICAgICAgICAgICAgICAgICAgdGFibGV0b2FwcGVuZCArPSBcIjx2aWRlbyBjb250cm9scyBjbGFzcz0ndGFibGVfcmVzdWx0Jz48c291cmNlIHNyYz0nXCIgKyByZXNfdmFsdWUgKyBcIic+PC9zb3VyY2U+PC92aWRlbz5cIjtcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzX3ZhbHVlLmluY2x1ZGVzKFwieW91dHViZS5jb20vZW1iZWQvXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICB0YWJsZXRvYXBwZW5kICs9ICc8ZGl2IGlkPWVtYmVkLWdvb2dsZS1tYXAgc3R5bGU9XCJoZWlnaHQ6MTAwJTsgd2lkdGg6MTAwJTttYXgtd2lkdGg6MTAwJTtcIj48aWZyYW1lIGFsbG93RnVsbFNjcmVlbj1cImFsbG93RnVsbFNjcmVlblwiIHNyYz1cIicrcmVzX3ZhbHVlKyc/ZWN2ZXI9MSZhbXA7aXZfbG9hZF9wb2xpY3k9MSZhbXA7cmVsPTAmYW1wO3l0OnN0cmV0Y2g9MTY6OSZhbXA7YXV0b2hpZGU9MSZhbXA7Y29sb3I9cmVkJmFtcDt3aWR0aD0xODYmYW1wO3dpZHRoPTE4NlwiIHdpZHRoPVwiMTg2XCIgaGVpZ2h0PVwiMTA1XCIgYWxsb3d0cmFuc3BhcmVuY3k9XCJ0cnVlXCIgZnJhbWVib3JkZXI9XCIwXCI+PC9pZnJhbWU+JztcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICB0YWJsZXRvYXBwZW5kICs9IFwiPHNwYW4gY2xhc3M9J3RhYmxlX3Jlc3VsdCc+XCIgKyByZXNfdmFsdWUgKyBcIjwvc3Bhbj5cIjtcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgLy90YWJsZXRvYXBwZW5kICs9IFwiPHNwYW4gY2xhc3M9J3RhYmxlX3Jlc3VsdCc+XCIgKyByZXNfdmFsdWUgKyBcIjwvc3Bhbj5cIjtcbiAgICAgICAgICAgICAgICAgICAvLyB2YXIgYnV0dG9ucyA9IGFkZEFjdGlvbkJ1dHRvbihhY3Rpb25zLCBoZWFkaW5nc1tqXSwgcG9zLCByZXNfdmFsdWUsIHJlc192YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgdGFibGV0b2FwcGVuZCArPSBcIjwvdGQ+XCI7XG4gICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgIHRhYmxldG9hcHBlbmQgKz0gXCI8L3RyPlwiO1xuICAgICAgICAgICB9KTtcbiAgICAgICAgICAgdGFibGV0b2FwcGVuZCArPSAnPC90Ym9keT4nXG4gICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGluZGV4ICsgXCJfX3RhYmxlXCIpLmlubmVySFRNTCA9ICcmbmJzcDsnO1xuICAgICAgICAgICAkKFwiI1wiICsgaW5kZXggKyBcIl9fdGFibGVcIikuYXBwZW5kKHRhYmxldG9hcHBlbmQpO1xuICAgICAgICAgICAvLyBpZiAodHlwZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgIC8vICAgICBleHBvcnRUYWJsZUh0bWwocG9zLCB0eXBlKTtcbiAgICAgICAgICAgLy8gICAgIGV4cG9ydFRhYmxlQ3N2KHBvcywgdHlwZSwgdGFibGVfdGl0bGUpO1xuICAgICAgICAgICAvLyB9XG5cblxuICAgICAgICAgIH0pXG4gICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgICBhbGVydChcIlRhYmxlOiB0aGVyZSBpcyBhbiBlcnJvciBpbiB0aGUgcXVlcnlcIik7XG4gICAgICAgICAgICBzZXRTcGlubmVyKGZhbHNlKTtcbiAgICAgICAgIH0pXG4gICAgICAgICAuZmluYWxseSggKCkgPT4geyB9KTtcblxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGV4cG9ydCB0YWJsZSBhcyBodG1sXG4gICAgZnVuY3Rpb24gZXhwb3J0VGFibGVIdG1sKHBvc2l0aW9uLCB0eXBlKSB7XG4gICAgICAgIHZhciBleHBvcnRfYnRuO1xuICAgICAgICB2YXIgdGFibGVIdG1sO1xuICAgICAgICBpZiAodHlwZSAmJiB0eXBlLmluY2x1ZGVzKCd0YWJsZScpKSB7XG4gICAgICAgICAgICBleHBvcnRfYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4cG9ydF8nICsgcG9zaXRpb24pO1xuICAgICAgICAgICAgdmFyIHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb24gKyAnX190YWJsZScpO1xuICAgICAgICAgICAgdmFyIGNsb25lVGFibGUgPSB0YWJsZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICB0YWJsZUh0bWwgPSBjbG9uZVRhYmxlLmlubmVySFRNTDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5wcm9tcHQoXCJDb3B5IHRvIGNsaXBib2FyZDogQ3RybCtDLCBFbnRlclwiLCAnPHRhYmxlPicgKyB0YWJsZUh0bWwgKyAnPC90YWJsZT4nKTtcblxuICAgIH1cbiAgICAvLyBleHBvcnQgdGFibGUgYXMgY3N2XG4gICAgZnVuY3Rpb24gZXhwb3J0VGFibGVDc3YocG9zaXRpb24sIHR5cGUpIHtcblxuICAgICAgICBsZXQgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbmRleCArICdfX3RhYmxlJyk7XG4gICAgICAgIGxldCBleHBvcnRfYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjc3ZfXCIraW5kZXgpO1xuICAgICAgICBsZXQgY2xvbmVUYWJsZSA9IHRhYmxlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgbGV0IHRhYmxlQ1NWID0gY3JlYXRlQ3N2KGNsb25lVGFibGUpO1xuICAgICAgICB2YXIgY3N2X3N0cmluZyA9IHRhYmxlQ1NWLmpvaW4oJ1xcbicpO1xuICAgICAgICBleHBvcnRfYnRuLnNldEF0dHJpYnV0ZSgnaHJlZicsICdkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsJyArIGVuY29kZVVSSUNvbXBvbmVudChjc3Zfc3RyaW5nKSk7XG5cbiAgICB9XG5cbiAgICAvLyBjb25zdHJ1Y3QgY3N2XG4gICAgZnVuY3Rpb24gY3JlYXRlQ3N2KHRhYmxlLCBzZXBhcmF0b3IgPSAnLCcpIHtcbiAgICAgICAgLy8gU2VsZWN0IHJvd3MgZnJvbSB0YWJsZV9pZFxuICAgICAgICB2YXIgcm93cyA9IHRhYmxlLnJvd3M7XG4gICAgICAgIC8vIENvbnN0cnVjdCBjc3ZcbiAgICAgICAgdmFyIGNzdiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByb3cgPSBbXSwgY29scyA9IHJvd3NbaV0ucXVlcnlTZWxlY3RvckFsbCgndGQsIHRoJyk7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAvLyBDbGVhbiBpbm5lcnRleHQgdG8gcmVtb3ZlIG11bHRpcGxlIHNwYWNlcyBhbmQganVtcGxpbmUgKGJyZWFrIGNzdilcbiAgICAgICAgICAgICAgICAvL3ZhciBkYXRhID0gY29sc1tqXS5pbm5lclRleHQucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgJycpLnJlcGxhY2UoLyhcXHNcXHMpL2dtLCAnICcpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoY29sc1tqXS5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgbGV0IGlucHV0X3ZhbCA9IGNvbHNbal0ucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBpbnB1dF92YWwudmFsdWUucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgJycpLnJlcGxhY2UoLyhcXHNcXHMpL2dtLCAnICcpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBjb2xzW2pdLnF1ZXJ5U2VsZWN0b3IoXCJhdWRpb1wiKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGNvbHNbal0ucXVlcnlTZWxlY3RvcihcImF1ZGlvXCIpLmdldEF0dHJpYnV0ZSgnc3JjJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIGNvbHNbal0ucXVlcnlTZWxlY3RvcihcImltZ1wiKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGNvbHNbal0ucXVlcnlTZWxlY3RvcihcImltZ1wiKS5nZXRBdHRyaWJ1dGUoJ3NyYycpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBjb2xzW2pdLmlubmVyVGV4dC5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLCAnJykucmVwbGFjZSgvKFxcc1xccykvZ20sICcgJykudHJpbSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBFc2NhcGUgZG91YmxlLXF1b3RlIHdpdGggZG91YmxlLWRvdWJsZS1xdW90ZSAoc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE3ODA4NTExL3Byb3Blcmx5LWVzY2FwZS1hLWRvdWJsZS1xdW90ZS1pbi1jc3YpXG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgvXCIvZywgJ1wiXCInKTtcbiAgICAgICAgICAgICAgICAvLyBQdXNoIGVzY2FwZWQgc3RyaW5nXG4gICAgICAgICAgICAgICAgcm93LnB1c2goJ1wiJyArIGRhdGEgKyAnXCInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNzdi5wdXNoKHJvdy5qb2luKHNlcGFyYXRvcikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjc3Y7XG4gICAgfVxuXG4gICAgLy8gYWxsb3cgY29sdW1uIGVkaXRpbmcsIG9ubHkgaW4gZmluYWwgcHJldmlld1xuICAgIGNvbnN0IGVkaXRfdGFibGUgPSAoKSA9PiB7XG4gICAgICBsZXQgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbmRleCtcIl9fdGFibGVcIik7XG4gICAgICBsZXQgdGhlYWQgPSB0YWJsZS5xdWVyeVNlbGVjdG9yQWxsKFwidGhlYWQgdHJcIilbMF1cbiAgICAgIGxldCB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0Ym9keSB0clwiKVxuICAgICAgbGV0IHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTtcbiAgICAgIHRoLnRleHRDb250ZW50ID0gJ05vdGVzJztcbiAgICAgIHRoZWFkLmFwcGVuZENoaWxkKHRoKTtcblxuICAgICAgZm9yIChsZXQgdHIgb2YgdGJvZHkpIHtcbiAgICAgIFx0bGV0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgbGV0IGlucHV0X25vdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICB0ZC5hcHBlbmRDaGlsZChpbnB1dF9ub3RlKTtcbiAgICAgIFx0dHIuYXBwZW5kQ2hpbGQodGQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBwcmV2aWV3IGNvdW50ZXJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICBmZXRjaFF1ZXJ5KCk7XG5cbiAgICAgICAkKFwidGV4dGFyZWFcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiaGVpZ2h0OlwiICsgKHRoaXMuc2Nyb2xsSGVpZ2h0KSArIFwicHg7b3ZlcmZsb3cteTpoaWRkZW47XCIpO1xuICAgICAgIH0pLm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSAwO1xuICAgICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSAodGhpcy5zY3JvbGxIZWlnaHQpICsgXCJweFwiO1xuICAgICAgIH0pO1xuICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7IDxFcnJvckhhbmRsZXIgZXJyb3I9e2Vycm9yfSAvPiB9XG4gICAgfSwgW10pO1xuXG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCIvbW9kaWZ5L1wiKSA+IC0xKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgPGRpdiBpZD17aW5kZXgrXCJfX2Jsb2NrX2ZpZWxkXCJ9IGNsYXNzTmFtZT1cImJsb2NrX2ZpZWxkXCI+XG4gICAgICB7c3Bpbm5lciAmJiAoPHNwYW4gaWQ9J2xvYWRlcicgY2xhc3NOYW1lPSdsZHMtZHVhbC1yaW5nIG92ZXJsYXknPjwvc3Bhbj4pfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJpYmJvblwiPjwvZGl2PlxuICAgICAgICA8aDQgY2xhc3NOYW1lPVwiYmxvY2tfdGl0bGVcIj5BZGQgYSB0YWJsZTwvaDQ+XG4gICAgICAgIDxTb3J0Q29tcG9uZW50XG4gICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgIHNvcnRDb21wb25lbnRVcD17c29ydENvbXBvbmVudFVwfVxuICAgICAgICAgIHNvcnRDb21wb25lbnREb3duPXtzb3J0Q29tcG9uZW50RG93bn1cbiAgICAgICAgICBrZXk9e3VuaXF1ZV9rZXl9IC8+XG4gICAgICAgIDxSZW1vdmVDb21wb25lbnRcbiAgICAgICAgICBpbmRleD17aW5kZXh9XG4gICAgICAgICAgcmVtb3ZlQ29tcG9uZW50PXtyZW1vdmVDb21wb25lbnR9XG4gICAgICAgICAga2V5PXt1bmlxdWVfa2V5fSAvPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwiYmxvY2tfdGl0bGVcIj57dGFibGVUaXRsZX08L2gzPlxuICAgICAgICA8dGFibGUgY2xhc3NOYW1lPSdjb2wtMTInIGlkPXtpbmRleCsnX190YWJsZSd9PjwvdGFibGU+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmb3JtLWdyb3VwJz5cbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtpbmRleCsnX190YWJsZV90aXRsZSd9PlRhYmxlIHRpdGxlPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCBuYW1lPXtpbmRleCsnX190YWJsZV90aXRsZSd9XG4gICAgICAgICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2NoYW5nZVRpdGxlfVxuICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXt0YWJsZVRpdGxlfVxuICAgICAgICAgICAgICAgICAgaWQ9e2luZGV4KydfX3RhYmxlX3RpdGxlJ31cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdUaGUgdGl0bGUgb2YgdGhlIHRhYmxlJyByZXF1aXJlZD48L2lucHV0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Zvcm0tZ3JvdXAnPlxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9e2luZGV4KydfX3RhYmxlX3F1ZXJ5J30+U1BBUlFMIHF1ZXJ5PC9sYWJlbD5cbiAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICBzcGVsbENoZWNrPSdmYWxzZSdcbiAgICAgICAgICAgICAgbmFtZT17aW5kZXgrJ19fdGFibGVfcXVlcnknfVxuICAgICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3RhYmxlUXVlcnl9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtjaGFuZ2VRdWVyeX1cbiAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtmZXRjaFF1ZXJ5fVxuICAgICAgICAgICAgICBpZD17aW5kZXgrJ19fdGFibGVfcXVlcnknfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nQSBTUEFSUUwgcmV0dXJuaW5nIGFueSB2YWx1ZScgcmVxdWlyZWQ+PC90ZXh0YXJlYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gPEVycm9ySGFuZGxlciBlcnJvcj17ZXJyb3J9IC8+XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZU1hcmt1cCgpIHsgcmV0dXJuIHtfX2h0bWw6IHRhYmxlUXVlcnl9O31cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImJsb2NrX3RpdGxlXCI+e3RhYmxlVGl0bGV9PC9oMz5cbiAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPSdjb2wtMTInIGlkPXtpbmRleCsnX190YWJsZSd9Pnt0YWJsZXRvYXBwZW5kfTwvdGFibGU+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJleHBvcnRjaGFydCBjYXJkLXRvb2xzIGNvbC1tZC0xMiBjb2wtc20tMTJcIj5cbiAgICAgICAgICAgIDxhIGlkPXtcImV4cG9ydF9cIitpbmRleH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1pbmZvIGJ0bi1ib3JkZXIgYnRuLXJvdW5kIGJ0bi1zbSBtci0yXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZXhwb3J0VGFibGVIdG1sKGluZGV4LCAndGFibGUnKX0+XG4gICAgICAgICAgICAgIEVtYmVkXG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8YSBpZD17XCJjc3ZfXCIraW5kZXh9XG4gICAgICAgICAgICAgIHRhcmdldD0nX2JsYW5rJ1xuICAgICAgICAgICAgICBkb3dubG9hZD17J2V4cG9ydF8nK2luZGV4KycuY3N2J31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1pbmZvIGJ0bi1ib3JkZXIgYnRuLXJvdW5kIGJ0bi1zbSBtci0yXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZXhwb3J0VGFibGVDc3YoaW5kZXgsICd0YWJsZScpfT5cbiAgICAgICAgICAgICAgQ1NWXG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8YSBpZD17aW5kZXgrXCJfX2VkaXRfdGFibGVcIn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1pbmZvIGJ0bi1ib3JkZXIgYnRuLXJvdW5kIGJ0bi1zbSBtci0yXCJcbiAgICAgICAgICAgICAgb25DbGljaz17ZWRpdF90YWJsZX0+RWRpdDwvYT5cbiAgICAgICAgICAgIDxhIGhyZWY9JyMnIGlkPXtpbmRleCtcIl9xdWVyeV90b29sdGlwXCJ9XG4gICAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT0nbW9kYWwnXG4gICAgICAgICAgICAgIGRhdGEtdGFyZ2V0PXsnIycraW5kZXgrJ19xdWVyeSd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4taW5mbyBidG4tYm9yZGVyIGJ0bi1yb3VuZCBidG4tc21cIj5cbiAgICAgICAgICAgICAgUXVlcnlcbiAgICAgICAgICAgIDwvYT5cblxuXG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwgZmFkZVwiXG4gICAgICAgICAgICAgICAgaWQ9e2luZGV4KydfcXVlcnknfVxuICAgICAgICAgICAgICAgIHRhYkluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCJcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9e2luZGV4KydfcXVlcnl0aXRsZSd9XG4gICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbGdcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50IGNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGlkPXsnIycraW5kZXgrJ19xdWVyeXRpdGxlJ30gY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQQVJRTCBxdWVyeTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNvbnRhaW5lclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17Y3JlYXRlTWFya3VwKCl9PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kYW5nZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPkNsb3NlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC8+XG4gICAgICApXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gPEVycm9ySGFuZGxlciBlcnJvcj17ZXJyb3J9IC8+XG4gICAgICB9XG4gICAgfVxuXG5cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQSxJQUFNQSxLQUFLLEdBQUcsU0FBUkEsS0FBS0EsQ0FBQUMsSUFBQSxFQUU4QztFQUFBLElBRnpDQyxVQUFVLEdBQUFELElBQUEsQ0FBVkMsVUFBVTtJQUFFQyxLQUFLLEdBQUFGLElBQUEsQ0FBTEUsS0FBSztJQUNqQkMsZUFBZSxHQUFBSCxJQUFBLENBQWZHLGVBQWU7SUFBR0MsYUFBYSxHQUFBSixJQUFBLENBQWJJLGFBQWE7SUFBRUMsWUFBWSxHQUFBTCxJQUFBLENBQVpLLFlBQVk7SUFDN0NDLGVBQWUsR0FBQU4sSUFBQSxDQUFmTSxlQUFlO0lBQUdDLGlCQUFpQixHQUFBUCxJQUFBLENBQWpCTyxpQkFBaUI7RUFFL0MsSUFBSUMsS0FBSyxHQUFHLEVBQUU7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</script><script>"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
var ExtraSeries = function ExtraSeries(_ref) {
  var indexExtra = _ref.indexExtra,
    index_parent = _ref.index_parent,
    extras = _ref.extras,
    setExtras = _ref.setExtras;
  // get Extra queries from datastory_data
  var defaultExtraQuery = '',
    defaultExtraLabel = '';
  if (datastory_data.dynamic_elements && datastory_data.dynamic_elements.length) {
    datastory_data.dynamic_elements.forEach(function (element) {
      if (element.type == 'chart' && element.position == index_parent) {
        if (element.extra_queries.length > indexExtra) {
          defaultExtraQuery = element.extra_queries[indexExtra].extra_query;
          defaultExtraLabel = element.extra_queries[indexExtra].extra_series;
        }
      }
    });
  }
  var _React$useState = React.useState(defaultExtraQuery),
    _React$useState2 = _slicedToArray(_React$useState, 2),
    extraQuery = _React$useState2[0],
    setExtraQuery = _React$useState2[1];
  var extraQueryChange = function extraQueryChange(index) {
    return function (event) {
      setExtraQuery(event.target.value);
      var newArr = _toConsumableArray(extras);
      newArr[index].extra_query = event.target.value;
      setExtras(newArr);
    };
  };
  var _React$useState3 = React.useState(defaultExtraLabel),
    _React$useState4 = _slicedToArray(_React$useState3, 2),
    extraLabel = _React$useState4[0],
    setExtraLabel = _React$useState4[1];
  var extraLabelChange = function extraLabelChange(index) {
    return function (event) {
      setExtraLabel(event.target.value);
      var newArr = _toConsumableArray(extras);
      newArr[index].extra_series = event.target.value;
      setExtras(newArr);
    };
  };

  // fetchExtraQuery
  var fetchExtraQuery = function fetchExtraQuery(index_parent) {
    return function (event) {
      if (extraQuery.length > 1) {
        var labels = [],
          queries = [],
          title = "",
          x = '',
          y = '';
        datastory_data.dynamic_elements.forEach(function (element) {
          if (element.type == 'chart' && element.position == index_parent) {
            queries.push(element.chart_query);
            labels.push(element.chart_series);
            title = element.chart_title;
            y = element.chart_legend.y;
            x = element.chart_legend.x;
            element.extra_queries.forEach(function (el) {
              queries.push(el.extra_query);
              labels.push(el.extra_series);
            });
          }
        });
        var colors = d3.quantize(d3.interpolateHcl(datastory_data.color_code[0], datastory_data.color_code[1]), queries.length);
        var ch_type = 'scatter';
        var promises = [];
        queries.forEach(function (q, i) {
          promises.push(fetch(datastory_data.sparql_endpoint + '?query=' + encodeURIComponent(q), {
            method: 'GET',
            headers: {
              'Accept': 'application/sparql-results+json'
            }
          }));
        });
        Promise.all(promises).then(function (responses) {
          return Promise.all(responses.map(function (response) {
            return response.json();
          }));
        }).then(function (resultdata) {
          var datasets = [];
          resultdata.forEach(function (data, i) {
            var dataset = {},
              seriesData = [],
              seriesLabels = [];
            if (data.head.vars.includes('x') && data.head.vars.includes('y')) {
              data.results.bindings.forEach(function (element) {
                var xValue = parseInt(element.x.value);
                var yValue = parseInt(element.y.value);
                var entryObj = {
                  x: xValue,
                  y: yValue
                };
                seriesLabels.push(xValue);
                seriesData.push(entryObj);
              });
              dataset.label = labels[i];
              dataset.data = seriesData;
              dataset.backgroundColor = colors[i];
              datasets.push(dataset);
            }
          });
          return datasets;
        }).then(function (datasets) {
          var chartId = document.getElementById(index_parent + '__chartid').getContext('2d');
          var scatterChart = new Chart(chartId, {
            type: ch_type,
            data: {
              datasets: datasets
            },
            options: {
              responsive: true,
              plugins: {
                legend: {
                  position: 'top'
                },
                title: {
                  display: true,
                  text: title
                }
              },
              scales: {
                yAxes: [{
                  scaleLabel: {
                    display: true,
                    labelString: y
                  },
                  beginAtZero: true
                }],
                xAxes: [{
                  scaleLabel: {
                    display: true,
                    labelString: x
                  },
                  ticks: {
                    autoSkip: false
                  }
                }]
              }
            }
          });
        })["catch"](function (error) {
          console.log(error);
        });
      }
    };
  };
  React.useEffect(function () {
    fetchExtraQuery(index_parent);
  }, []);
  var extra_id = new Date().getTime();
  try {
    return /*#__PURE__*/React.createElement("div", {
      className: "query-div"
    }, /*#__PURE__*/React.createElement("hr", null), /*#__PURE__*/React.createElement("h4", {
      style: {
        color: 'white'
      }
    }, "Add a series"), /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("label", {
      htmlFor: "largeInput"
    }, "SPARQL query"), /*#__PURE__*/React.createElement("textarea", {
      onMouseLeave: fetchExtraQuery(index_parent),
      onChange: function onChange() {
        return extraQueryChange(indexExtra);
      },
      id: index_parent + "__extra_query_" + extra_id,
      name: index_parent + "__extra_query_" + extra_id,
      defaultValue: extraQuery,
      placeholder: "A SPARQL query that returns two variables",
      required: true
    }), /*#__PURE__*/React.createElement("input", {
      onChange: function onChange() {
        return extraLabelChange(indexExtra);
      },
      type: "text",
      id: index_parent + "__extra_series_" + extra_id,
      name: index_parent + "__extra_series_" + extra_id,
      defaultValue: extraLabel,
      placeholder: "The label of the data series"
    }));
  } catch (error) {
    return /*#__PURE__*/React.createElement(ErrorHandler, {
      error: error
    });
  }
};
var ChartViz = function ChartViz(_ref2) {
  var unique_key = _ref2.unique_key,
    index = _ref2.index,
    removeComponent = _ref2.removeComponent,
    componentList = _ref2.componentList,
    setComponent = _ref2.setComponent,
    sortComponentUp = _ref2.sortComponentUp,
    sortComponentDown = _ref2.sortComponentDown;
  var basicChart,
    chart_type = '',
    chart_query = '',
    chart_series_1 = '',
    chart_series_1_x = '',
    chart_series_1_y = '',
    chart_title = '',
    chart_count = '',
    extra_queries = [],
    image,
    chartData = [],
    chartLabels = [],
    labels,
    datasets = [],
    data_scatter;

  // WYSIWYG: get content if any
  if (datastory_data.dynamic_elements && datastory_data.dynamic_elements.length) {
    datastory_data.dynamic_elements.forEach(function (element) {
      if (element.type == 'chart' && element.position == index) {
        chart_type = element.chart_type;
        chart_query = element.chart_query;
        chart_series_1 = element.chart_series;
        chart_series_1_x = element.chart_legend.x;
        chart_series_1_y = element.chart_legend.y;
        chart_title = element.chart_title;
        if (element.operations.length) {
          chart_count = element.operations[0];
        }
        if (element.extra_queries.length) {
          element.extra_queries.forEach(function (element) {
            extra_queries.push(element);
          });
        }
      }
    });
  }
  function add_series_btn(index, ch_type) {
    var queryButton = document.getElementById(index + '__query-btn');
    var countCheckbox = document.getElementById(index + '__operation1');
    if (ch_type == 'scatterplot') {
      queryButton.style.display = "block";
      countCheckbox.style.display = "none";
    } else {
      queryButton.style.display = "none";
      countCheckbox.style.display = "block";
    }
  }
  function doughnut_fields(index, ch_type) {
    var seriesButton = document.getElementById(index + '__series_label');
    var axesButton = document.getElementById(index + '__axes_label');
    if (ch_type == 'doughnutchart') {
      seriesButton.style.display = "none";
      axesButton.style.display = "none";
    } else {
      seriesButton.style.display = "block";
      axesButton.style.display = "block";
    }
  }
  var _React$useState5 = React.useState(chart_type),
    _React$useState6 = _slicedToArray(_React$useState5, 2),
    chart = _React$useState6[0],
    setChart = _React$useState6[1];
  var chartChange = function chartChange(event) {
    setChart(event.target.value);
    add_series_btn(index, event.target.value);
    doughnut_fields(index, event.target.value);
  };
  var _React$useState7 = React.useState(chart_query),
    _React$useState8 = _slicedToArray(_React$useState7, 2),
    query = _React$useState8[0],
    setQuery = _React$useState8[1];
  var queryChange = function queryChange(event) {
    setQuery(event.target.value);
  };
  var _React$useState9 = React.useState(chart_series_1),
    _React$useState10 = _slicedToArray(_React$useState9, 2),
    series = _React$useState10[0],
    setSeries = _React$useState10[1];
  var seriesChange = function seriesChange(event) {
    setSeries(event.target.value);
  };
  var _React$useState11 = React.useState(extra_queries),
    _React$useState12 = _slicedToArray(_React$useState11, 2),
    extras = _React$useState12[0],
    setExtras = _React$useState12[1];
  var extraQueriesBox = [];
  var extrasChange = function extrasChange(event) {
    setExtras(function (prevExtras) {
      return [].concat(_toConsumableArray(prevExtras), [{
        extra_query: '',
        extra_series: ''
      }]);
    });
  };
  var _React$useState13 = React.useState(),
    _React$useState14 = _slicedToArray(_React$useState13, 2),
    datasetArray = _React$useState14[0],
    setDataArray = _React$useState14[1];
  var _React$useState15 = React.useState(chart_series_1_x),
    _React$useState16 = _slicedToArray(_React$useState15, 2),
    seriesX = _React$useState16[0],
    setSeriesX = _React$useState16[1];
  var seriesXChange = function seriesXChange(event) {
    setSeriesX(event.target.value);
  };
  var _React$useState17 = React.useState(chart_series_1_y),
    _React$useState18 = _slicedToArray(_React$useState17, 2),
    seriesY = _React$useState18[0],
    setSeriesY = _React$useState18[1];
  var seriesYChange = function seriesYChange(event) {
    setSeriesY(event.target.value);
  };
  var _React$useState19 = React.useState(chart_title),
    _React$useState20 = _slicedToArray(_React$useState19, 2),
    title = _React$useState20[0],
    setTitle = _React$useState20[1];
  var titleChange = function titleChange(event) {
    setTitle(event.target.value);
  };
  var _React$useState21 = React.useState(chart_count),
    _React$useState22 = _slicedToArray(_React$useState21, 2),
    count = _React$useState22[0],
    setCount = _React$useState22[1];
  var countChange = function countChange(event) {
    setCount('count');
  };
  var _React$useState23 = React.useState(false),
    _React$useState24 = _slicedToArray(_React$useState23, 2),
    spinner = _React$useState24[0],
    setSpinner = _React$useState24[1];
  var generateKey = function generateKey(pre) {
    return "".concat(pre, "_").concat(new Date().getTime());
  };
  function alertError(data, count, chart) {
    if (data.head.vars.length === 1 && !data.head.vars.includes('label') && count != 'count' && (chart == 'barchart' || chart == 'linechart')) {
      alert("The query must return two variables, or you should tick the box 'count'");
    }
    if (data.head.vars.length === 1 && chart == 'scatterplot') {
      alert("The query must return two series of numeric values, called ?x and ?y");
    }
    if (data.head.vars.length > 2) {
      alert("The query must return two variables");
    }

    // if ((!data.head.vars.includes('label') || !data.head.vars.includes('count'))
    //   && (chart == 'barchart' || chart == 'linechart')) {
    //   alert("The query must return two variables, called ?label and ?count")
    // }

    if ((!data.head.vars.includes('x') || !data.head.vars.includes('y')) && chart == 'scatterplot') {
      alert("The query must return two series of numeric values, called ?x and ?y");
    }
  }
  function count_grouping(arr) {
    var elCount = {};
    var _iterator = _createForOfIteratorHelper(arr),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var item = _step.value;
        if (elCount[item]) {
          elCount[item] += 1;
        } else {
          elCount[item] = 1;
        }
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
    return elCount;
  }
  function arrayToString(labelsArray) {
    var labelsString = '';
    labelsArray.forEach(function (el) {
      var newString = '"' + el + '",';
      labelsString = labelsString + newString;
    });
    return labelsString;
  }
  var getCircularReplacer = function getCircularReplacer() {
    var seen = new WeakSet();
    return function (key, value) {
      if (_typeof(value) === "object" && value !== null) {
        if (seen.has(value)) {
          return;
        }
        seen.add(value);
      }
      return value;
    };
  };
  function exportChart(position) {
    var export_btn = document.getElementById('export_' + position);
    var type,
      label = 'data';
    if (chart == 'barchart') {
      type = 'bar';
    } else if (chart == 'linechart') {
      type = 'line';
    } else if (chart == 'doughnutchart') {
      type = 'doughnut';
    } else if (chart == 'scatterplot') {
      type = 'scatter';
    }
    // basic chart
    if (!extras || !extras.length) {
      var chartURL = 'https://quickchart.io/chart?c={type:"' + type + '", data:{labels:[' + labels + '],datasets:[{label:"' + label + '", data:[' + chartData + ']}]}}';
    }
    // multi-series scatterplot
    else {
      var chartURL = 'https://quickchart.io/chart?c={type:"' + type + '", data:{ datasets: ' + JSON.stringify(data_scatter, getCircularReplacer()) + '}}';
    }
    window.prompt("Copy to clipboard: Ctrl+C, Enter", '<embed type="image/jpg" src="' + encodeURI(chartURL) + '">');
  }
  function basic_chart(el_id, ch_type, series, color, chartData, chartLabels) {
    var x = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : undefined;
    var y = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : undefined;
    var extras = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : undefined;
    var chartId = document.getElementById(el_id).getContext('2d');
    var options = {};
    if (ch_type == 'barchart') {
      ch_type = 'bar';
      datasets = [{
        label: series,
        backgroundColor: color,
        borderColor: color,
        data: chartData
      }];
      options = {
        responsive: true,
        maintainAspectRatio: true,
        scaleShowValues: true,
        scales: {
          yAxes: [{
            scaleLabel: {
              display: true,
              labelString: y
            },
            beginAtZero: true
          }],
          xAxes: [{
            scaleLabel: {
              display: true,
              labelString: x
            },
            ticks: {
              autoSkip: false
            }
          }]
        },
        legend: {
          labels: {
            boxWidth: 20,
            padding: 10
          }
        }
      };
    } else if (ch_type == 'linechart') {
      ch_type = 'line';
      datasets = [{
        label: series,
        borderColor: color,
        pointBorderColor: "#FFF",
        pointBackgroundColor: color,
        pointBorderWidth: 2,
        pointHoverRadius: 4,
        pointHoverBorderWidth: 1,
        pointRadius: 4,
        backgroundColor: 'transparent',
        fill: true,
        borderWidth: 2,
        data: chartData
      }];
      options = {
        responsive: true,
        maintainAspectRatio: true,
        spanGaps: true,
        legend: {
          labels: {
            boxWidth: 20,
            padding: 10
          }
        },
        scaleShowValues: true,
        scales: {
          yAxes: [{
            scaleLabel: {
              display: true,
              labelString: y
            },
            beginAtZero: true
          }],
          xAxes: [{
            scaleLabel: {
              display: true,
              labelString: x
            },
            ticks: {
              autoSkip: false
            }
          }]
        },
        tooltips: {
          bodySpacing: 4,
          mode: "nearest",
          intersect: 0,
          position: "nearest",
          xPadding: 10,
          yPadding: 10,
          caretPadding: 10
        },
        layout: {
          padding: {
            left: 15,
            right: 15,
            top: 15,
            bottom: 15
          }
        }
      };
    } else if (ch_type == 'doughnutchart') {
      var colors;
      if (chartLabels.length == 1) {
        colors = datastory_data.color_code[0];
      } else {
        colors = d3.quantize(d3.interpolateHcl(datastory_data.color_code[0], datastory_data.color_code[1]), chartLabels.length);
      }
      ch_type = 'doughnut';
      datasets = [{
        data: chartData,
        backgroundColor: colors
      }];
      options = {
        responsive: true,
        maintainAspectRatio: true,
        legend: {
          position: 'right'
        },
        layout: {
          padding: {
            left: 20,
            right: 20,
            top: 20,
            bottom: 20
          }
        }
      };
    } else if (ch_type == 'scatterplot' && !extras.length) {
      ch_type = 'scatter';
      datasets = [{
        label: series,
        data: chartData,
        backgroundColor: datastory_data.color_code[0]
      }];
      options = {
        responsive: true,
        legend: {
          position: 'top'
        },
        scales: {
          yAxes: [{
            scaleLabel: {
              display: true,
              labelString: y
            },
            beginAtZero: true
          }],
          xAxes: [{
            scaleLabel: {
              display: true,
              labelString: x
            },
            ticks: {
              autoSkip: false
            }
          }]
        }
      };
    }
    if (!extras || !extras.length) {
      basicChart = new Chart(chartId, {
        type: ch_type,
        data: {
          labels: chartLabels,
          datasets: datasets
        },
        options: options
      });
      options = Object.assign(options, {
        animation: {
          onComplete: function onComplete() {
            image = basicChart.toBase64Image();
            labels = arrayToString(chartLabels);
          }
        }
      });
      basicChart.options = options;
      basicChart.update();
      console.log(basicChart);
    } else {
      var _labels = [],
        queries = [],
        _title = "",
        _x2 = '',
        _y = '';
      var _datasets = [];
      var scatterChart;
      datastory_data.dynamic_elements.forEach(function (element) {
        if (element.type == 'chart' && element.position == index) {
          queries.push(element.chart_query);
          _labels.push(element.chart_series);
          _title = element.chart_title;
          _y = element.chart_legend.y;
          _x2 = element.chart_legend.x;
          element.extra_queries.forEach(function (el) {
            queries.push(el.extra_query);
            _labels.push(el.extra_series);
          });
        }
      });
      var _colors = d3.quantize(d3.interpolateHcl(datastory_data.color_code[0], datastory_data.color_code[1]), queries.length);
      var _ch_type = 'scatter';
      var promises = [];
      queries.forEach(function (q, i) {
        if (q.length) {
          promises.push(fetch(datastory_data.sparql_endpoint + '?query=' + encodeURIComponent(q), {
            method: 'GET',
            headers: {
              'Accept': 'application/sparql-results+json'
            }
          }));
        }
      });
      Promise.all(promises).then(function (responses) {
        return Promise.all(responses.map(function (response) {
          return response.json();
        }));
      }).then(function (resultdata) {
        if (resultdata) {
          resultdata.forEach(function (data, i) {
            var dataset = {},
              seriesData = [],
              seriesLabels = [];
            if (data.head.vars.includes('x') && data.head.vars.includes('y')) {
              data.results.bindings.forEach(function (element) {
                var xValue = parseInt(element.x.value);
                var yValue = parseInt(element.y.value);
                var entryObj = {
                  x: xValue,
                  y: yValue
                };
                seriesLabels.push(xValue);
                seriesData.push(entryObj);
              });
              dataset.label = _labels[i];
              dataset.data = seriesData;
              dataset.backgroundColor = _colors[i];
              _datasets.push(dataset);
            }
          });
        }
        data_scatter = _datasets;
        return _datasets;
      }).then(function (datasets) {
        var chartId = document.getElementById(index + '__chartid').getContext('2d');
        scatterChart = new Chart(chartId, {
          type: _ch_type,
          data: {
            datasets: datasets
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                position: 'top'
              },
              title: {
                display: true,
                text: _title
              }
            },
            scales: {
              yAxes: [{
                scaleLabel: {
                  display: true,
                  labelString: _y
                },
                beginAtZero: true
              }],
              xAxes: [{
                scaleLabel: {
                  display: true,
                  labelString: _x2
                },
                ticks: {
                  autoSkip: false
                }
              }]
            },
            animation: {
              onComplete: function onComplete() {
                image = scatterChart.toBase64Image();
              }
            }
          }
        });
      })["catch"](function (error) {
        console.log(error);
      })["finally"](function () {});
      // end cp
    }
  }

  function printChart(position) {
    var print_btn = document.getElementById('print_' + position);
    print_btn.href = image;
    print_btn.download = 'chart.png';
  }
  var fetchQuery = function fetchQuery(event) {
    if (query.length > 1) {
      setSpinner(true);
      chartData = [], chartLabels = [];
      // empty the chart container
      document.getElementById(index + "__chartcontainer").innerHTML = '&nbsp;';
      document.getElementById(index + "__chartcontainer").innerHTML = '<canvas id="' + index + '__chartid"></canvas>';
      fetch(datastory_data.sparql_endpoint + '?query=' + encodeURIComponent(query), {
        method: 'GET',
        headers: {
          'Accept': 'application/sparql-results+json'
        }
      }).then(function (res) {
        return res.json();
      }).then(function (data) {
        setSpinner(false);
        if (window.location.href.indexOf("/modify/") > -1) {
          alertError(data, count, chart);
        }
        if (chart == 'barchart' || chart == 'linechart' || chart == 'doughnutchart' || chart == 'scatterplot') {
          if (data.head.vars.length === 1 && data.head.vars.includes('label')) {
            var _labels2 = [];
            data.results.bindings.forEach(function (element) {
              var lab = element.label.value === '' ? 'Unknown' : element.label.value;
              _labels2.push(lab);
            });
            var elCount = count_grouping(_labels2);
            chartData = Object.values(elCount);
            chartLabels = Object.keys(elCount);
          } else {
            if (data.head.vars.includes('count') && data.head.vars.includes('label') && (chart == 'barchart' || chart == 'linechart' || chart == 'doughnutchart')) {
              data.results.bindings.forEach(function (element) {
                chartData.push(element.count.value);
                chartLabels.push(element.label.value);
              });
            }
            // scatterplot, one series
            if (data.head.vars.includes('x') && data.head.vars.includes('y') && chart == 'scatterplot') {
              data.results.bindings.forEach(function (element) {
                var xValue = parseInt(element.x.value);
                var yValue = parseInt(element.y.value);
                var entryObj = {
                  x: xValue,
                  y: yValue
                };
                chartLabels.push(xValue);
                chartData.push(entryObj);
              });
            }
          }
          if (chartData.length && chartLabels.length) {
            console.log("and here", index);
            var el_id = index + '__chartid',
              ch_type = chart,
              ch_series = series,
              color = datastory_data.color_code[0],
              x = seriesX,
              y = seriesY;
            basic_chart(el_id, ch_type, ch_series, color, chartData, chartLabels, x, y, extras);
          }
        }
      })["catch"](function (error) {
        console.error('Error:', error);
        alert("Chart: there is an error in the query");
        setSpinner(false);
      })["finally"](function () {});
    }
  };

  // preview
  React.useEffect(function () {
    fetchQuery();
    $("textarea").each(function () {
      this.setAttribute("style", "height:" + this.scrollHeight + "px;overflow-y:hidden;");
    }).on("input", function () {
      this.style.height = 0;
      this.style.height = this.scrollHeight + "px";
    });
    if (window.location.href.indexOf("/modify/") > -1) {
      var ch_type = document.getElementById(index + '__chart_type').value;
      add_series_btn(index, ch_type);
      doughnut_fields(index, ch_type);
    }
  }, []);
  if (extras) {
    for (var i = 0; i < extras.length; i++) {
      extraQueriesBox.push( /*#__PURE__*/React.createElement(ExtraSeries, {
        indexExtra: i,
        key: generateKey(extras[i].extra_query) + i,
        index_parent: index,
        setExtras: setExtras,
        extras: extras
      }));
    }
  }
  // modal examples

  // WYSIWYG: render component and preview
  if (window.location.href.indexOf("/modify/") > -1) {
    try {
      return /*#__PURE__*/React.createElement("div", {
        id: index + "__block_field",
        className: "block_field"
      }, spinner && /*#__PURE__*/React.createElement("span", {
        id: "loader",
        className: "lds-dual-ring overlay"
      }), /*#__PURE__*/React.createElement("div", {
        className: "ribbon"
      }), /*#__PURE__*/React.createElement("h4", {
        className: "block_title"
      }, "Add a chart"), /*#__PURE__*/React.createElement(SortComponent, {
        index: index,
        sortComponentUp: sortComponentUp,
        sortComponentDown: sortComponentDown,
        key: unique_key
      }), /*#__PURE__*/React.createElement(RemoveComponent, {
        index: index,
        removeComponent: removeComponent,
        key: unique_key
      }), /*#__PURE__*/React.createElement("h3", {
        className: "block_title"
      }, title), /*#__PURE__*/React.createElement("div", {
        id: index + "__chartcontainer",
        className: "chart-container"
      }, /*#__PURE__*/React.createElement("canvas", {
        id: index + "__chartid"
      })), /*#__PURE__*/React.createElement("div", {
        className: "form-group",
        id: index + "__form_group"
      }, /*#__PURE__*/React.createElement("label", {
        htmlFor: "exampleFormControlSelect2"
      }, "Chart Type"), /*#__PURE__*/React.createElement("select", {
        value: chart,
        name: index + "__chart_type",
        className: "form-control",
        id: index + "__chart_type",
        onChange: chartChange
      }, /*#__PURE__*/React.createElement("option", {
        value: "linechart",
        name: index + "__linechart",
        id: index + "__linechart"
      }, "linechart"), /*#__PURE__*/React.createElement("option", {
        value: "barchart",
        name: index + "__barchart",
        id: index + "__barchart"
      }, "barchart"), /*#__PURE__*/React.createElement("option", {
        value: "doughnutchart",
        name: index + "__doughnutchart",
        id: index + "__doughnutchart"
      }, "doughnutchart"), /*#__PURE__*/React.createElement("option", {
        value: "scatterplot",
        name: index + "__scatterplot",
        id: index + "__scatterplot"
      }, "scatterplot")), /*#__PURE__*/React.createElement("a", {
        href: "#",
        className: "form-text",
        role: "button",
        "data-toggle": "modal",
        "data-target": "#chartsModalLong"
      }, "Learn more about queries and charts"), /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("label", {
        htmlFor: "largeInput"
      }, "Chart Title"), /*#__PURE__*/React.createElement("input", {
        name: index + "__chart_title",
        type: "text",
        id: index + "__chart_title",
        onChange: titleChange,
        defaultValue: title,
        placeholder: "The title of the cart",
        required: true
      }), /*#__PURE__*/React.createElement("label", {
        htmlFor: "largeInput"
      }, "SPARQL query"), /*#__PURE__*/React.createElement("textarea", {
        name: index + "__chart_query",
        rows: "1",
        onChange: queryChange,
        defaultValue: query,
        type: "text",
        id: index + "__chart_query",
        onMouseLeave: fetchQuery,
        placeholder: "A SPARQL query that returns two variables",
        required: true
      }), /*#__PURE__*/React.createElement("div", {
        id: index + "__series_label",
        className: "form-group",
        style: {
          display: 'flex'
        }
      }, /*#__PURE__*/React.createElement("label", null, "Series label"), /*#__PURE__*/React.createElement("input", {
        style: {
          display: 'block'
        },
        onChange: seriesChange,
        defaultValue: series,
        type: "text",
        name: index + "__chart_series",
        id: index + "__chart_series",
        placeholder: "The label of the data series"
      })), /*#__PURE__*/React.createElement("div", {
        className: "form-group row",
        id: index + "__axes_label",
        style: {
          display: 'flex'
        }
      }, /*#__PURE__*/React.createElement("div", {
        className: "col-6"
      }, /*#__PURE__*/React.createElement("label", null, "x label"), /*#__PURE__*/React.createElement("input", {
        name: index + "__chart_label_x",
        type: "text",
        id: index + "__chart_label_x",
        onChange: seriesXChange,
        defaultValue: seriesX,
        placeholder: "The label of the x axis"
      })), /*#__PURE__*/React.createElement("div", {
        className: "col-6"
      }, /*#__PURE__*/React.createElement("label", null, "y label"), /*#__PURE__*/React.createElement("input", {
        name: index + "__chart_label_y",
        type: "text",
        id: index + "__chart_label_y",
        onChange: seriesYChange,
        defaultValue: seriesY,
        placeholder: "The label of the y axis"
      }))), /*#__PURE__*/React.createElement("div", {
        id: index + "__operation1"
      }, /*#__PURE__*/React.createElement("label", null, "Operations"), /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("input", {
        type: "checkbox",
        id: "count",
        name: index + "__operation1",
        onChange: countChange,
        defaultValue: count
      }), /*#__PURE__*/React.createElement("label", {
        htmlFor: "count"
      }, "Count")), /*#__PURE__*/React.createElement("a", {
        id: index + "__query-btn",
        style: {
          display: 'none'
        },
        className: "btn btn-primary btn-border",
        onClick: extrasChange,
        extra: "True",
        name: index + "__query-btn"
      }, "Add a series"), extraQueriesBox), /*#__PURE__*/React.createElement("div", {
        className: "modal fade",
        id: "chartsModalLong",
        tabIndex: "-1",
        role: "dialog",
        "aria-labelledby": "chartsModalLongTitle",
        "aria-hidden": "true"
      }, /*#__PURE__*/React.createElement("div", {
        className: "modal-dialog modal-lg",
        role: "document"
      }, /*#__PURE__*/React.createElement("div", {
        className: "modal-content card"
      }, /*#__PURE__*/React.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/React.createElement("h4", {
        id: "chartsModalLongTitle",
        className: "card-title"
      }, "Choose the right chart for your query")), /*#__PURE__*/React.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/React.createElement("div", {
        className: "container"
      }, /*#__PURE__*/React.createElement("div", {
        className: "row"
      }, /*#__PURE__*/React.createElement("p", null, "Check the description of the charts to see which one fits the data you want to show. Pay particular attention to the naming conventions of the variables. To see the preview of the chart (or to receive an alert of mistakes in the query, but this is hopefully not your case!) move the mouse out of the text area."))), /*#__PURE__*/React.createElement("div", {
        className: "container"
      }, /*#__PURE__*/React.createElement("div", {
        className: "row"
      }, /*#__PURE__*/React.createElement("h4", {
        className: "block_title"
      }, /*#__PURE__*/React.createElement("i", {
        className: "fas fa-signal"
      }), " Bar Chart")), /*#__PURE__*/React.createElement("div", {
        className: "row"
      }, /*#__PURE__*/React.createElement("p", null, "A bar chart is useful to make comparisons. The horizontal (x) axis may represent categories or numbers/ordinals. The vertical (y) axis represents a numeric value (e.g. a counting). To build a bar chart, you can perform two types of queries:"), /*#__PURE__*/React.createElement("p", null, "1. a ", /*#__PURE__*/React.createElement("strong", null, "non-aggregating"), " query that returns a variable called ", /*#__PURE__*/React.createElement("code", null, "?label"), " and flag the \"", /*#__PURE__*/React.createElement("strong", null, "Count"), "\" checkbox. ", /*#__PURE__*/React.createElement("code", null, "?label"), " can be categorical or numeric and will be shown on the x axis."), /*#__PURE__*/React.createElement("code", {
        className: "query-eg"
      }, "SELECT ?label", /*#__PURE__*/React.createElement("br", null), "WHERE {", /*#__PURE__*/React.createElement("br", null), "?entry ?p <https://w3id.org/musow/vocab/repository> .", /*#__PURE__*/React.createElement("br", null), "?entry <https://schema.org/audience> ?audience .", /*#__PURE__*/React.createElement("br", null), "?audience rdfs:label ?label .  }"), /*#__PURE__*/React.createElement("p", null, "2. an ", /*#__PURE__*/React.createElement("strong", null, "aggregating"), " query that returns two variables: ", /*#__PURE__*/React.createElement("code", null, "?label"), " (categorical or numerical values on the x axis) and ", /*#__PURE__*/React.createElement("code", null, "?count"), " (numerical values on the y axis)."), /*#__PURE__*/React.createElement("code", {
        className: "query-eg"
      }, "PREFIX musow: <https://w3id.org/musow/vocab/>", /*#__PURE__*/React.createElement("br", null), "SELECT ?label (COUNT(?content) AS ?count) ", /*#__PURE__*/React.createElement("br", null), "WHERE { ", /*#__PURE__*/React.createElement("br", null), "  {?content ?p musow:repository . ", /*#__PURE__*/React.createElement("br", null), "  musow:repository rdfs:label ?label .} ", /*#__PURE__*/React.createElement("br", null), "  UNION {?content ?p musow:catalogue . ", /*#__PURE__*/React.createElement("br", null), "  musow:catalogue rdfs:label ?label .} ", /*#__PURE__*/React.createElement("br", null), "  UNION {?content ?p musow:dataset . ", /*#__PURE__*/React.createElement("br", null), "  musow:dataset rdfs:label ?label .}  ", /*#__PURE__*/React.createElement("br", null), "} GROUP BY ?label"))), /*#__PURE__*/React.createElement("div", {
        className: "container"
      }, /*#__PURE__*/React.createElement("div", {
        className: "row"
      }, /*#__PURE__*/React.createElement("h4", {
        className: "block_title"
      }, /*#__PURE__*/React.createElement("i", {
        className: "fas fa-chart-line"
      }), " Line Chart")), /*#__PURE__*/React.createElement("div", {
        className: "row"
      }, /*#__PURE__*/React.createElement("p", null, "Line charts help to visualise trends. Similarly to bar charts, the horizontal (x) axis includes numeric or ordinal values. The vertical (y) axis includes numeric values. To build a line chart, you can perform two types of queries:"), /*#__PURE__*/React.createElement("p", null, "1. a ", /*#__PURE__*/React.createElement("strong", null, "non-aggregating"), " query that returns a variable called ", /*#__PURE__*/React.createElement("code", null, "?label"), " (that can include categorical, numeric or ordinal values) and flag the \"", /*#__PURE__*/React.createElement("strong", null, "Count"), "\" checkbox. For instance:"), /*#__PURE__*/React.createElement("code", {
        className: "query-eg"
      }, "SELECT ?label ", /*#__PURE__*/React.createElement("br", null), "WHERE { ", /*#__PURE__*/React.createElement("br", null), "{ SELECT ?time (DAY(?time) AS ?label) ", /*#__PURE__*/React.createElement("br", null), "WHERE { ?entry <http://www.w3.org/ns/prov#generatedAtTime> ?time . ", /*#__PURE__*/React.createElement("br", null), "} } }"), /*#__PURE__*/React.createElement("p", null, "2. an ", /*#__PURE__*/React.createElement("strong", null, "aggregating"), " query that returns two variables: ", /*#__PURE__*/React.createElement("code", null, "?label"), " (numerical or ordinal values on the x axis) and ", /*#__PURE__*/React.createElement("code", null, "?count"), " (numerical values on the y axis). For instance:"), /*#__PURE__*/React.createElement("code", {
        className: "query-eg"
      }, "SELECT ?label (COUNT(?label) AS ?count) ", /*#__PURE__*/React.createElement("br", null), "WHERE { ", /*#__PURE__*/React.createElement("br", null), "{ SELECT ?time (DAY(?time) AS ?label) ", /*#__PURE__*/React.createElement("br", null), "WHERE { ?entry <http://www.w3.org/ns/prov#generatedAtTime> ?time . ", /*#__PURE__*/React.createElement("br", null), "} } } ", /*#__PURE__*/React.createElement("br", null), "GROUP BY ?label ", /*#__PURE__*/React.createElement("br", null), "ORDER BY ?label"))), /*#__PURE__*/React.createElement("div", {
        className: "container"
      }, /*#__PURE__*/React.createElement("div", {
        className: "row"
      }, /*#__PURE__*/React.createElement("h4", {
        className: "block_title"
      }, /*#__PURE__*/React.createElement("i", {
        className: "fas fa-chart-pie"
      }), " Doughnut Chart")), /*#__PURE__*/React.createElement("div", {
        className: "row"
      }, /*#__PURE__*/React.createElement("p", null, "Doughnut charts are used to express a \"part-to-whole\" relation, where all together slices of the pie represent 100%. To build a doughnut chart, you can perform two types of queries:"), /*#__PURE__*/React.createElement("p", null, "1. a ", /*#__PURE__*/React.createElement("strong", null, "non-aggregating"), " query that returns a variable called ", /*#__PURE__*/React.createElement("code", null, "?label"), " (the categories) and flag the \"", /*#__PURE__*/React.createElement("strong", null, "Count"), "\" checkbox. For instance:"), /*#__PURE__*/React.createElement("code", {
        className: "query-eg"
      }, "SELECT ?label ", /*#__PURE__*/React.createElement("br", null), "WHERE { ", /*#__PURE__*/React.createElement("br", null), "?entry ?p <https://w3id.org/musow/vocab/repository> . ", /*#__PURE__*/React.createElement("br", null), "?entry <https://schema.org/audience> ?audience . ", /*#__PURE__*/React.createElement("br", null), "?audience rdfs:label ?label . }"), /*#__PURE__*/React.createElement("p", null, "2. an ", /*#__PURE__*/React.createElement("strong", null, "aggregating"), " query that returns two variables: ", /*#__PURE__*/React.createElement("code", null, "?label"), "(categorical/numerical values that represents categories) and", /*#__PURE__*/React.createElement("code", null, "?count"), " (a numerical value for each slice). For instance:"), /*#__PURE__*/React.createElement("code", {
        className: "query-eg"
      }, "SELECT ?label (COUNT(?label) AS ?count) ", /*#__PURE__*/React.createElement("br", null), "WHERE { ", /*#__PURE__*/React.createElement("br", null), "?entry ?p <https://w3id.org/musow/vocab/repository> . ", /*#__PURE__*/React.createElement("br", null), "?entry <https://schema.org/audience> ?audience . ", /*#__PURE__*/React.createElement("br", null), "?audience rdfs:label ?label . } ", /*#__PURE__*/React.createElement("br", null), "GROUP BY ?label ORDER BY ?label"))), /*#__PURE__*/React.createElement("div", {
        className: "container"
      }, /*#__PURE__*/React.createElement("div", {
        className: "row"
      }, /*#__PURE__*/React.createElement("h4", {
        className: "block_title"
      }, /*#__PURE__*/React.createElement("i", {
        className: "far fa-chart-scatter"
      }), " Scatter Plot")), /*#__PURE__*/React.createElement("div", {
        className: "row"
      }, /*#__PURE__*/React.createElement("p", null, "Scatter plots help to understand whether there is a correlation between two variables. Data points have two variables determining their position on the axes (x, y). To build a scatterplot, you can perform a query that returns two numerical variables called ", /*#__PURE__*/React.createElement("code", null, "?x"), " and ", /*#__PURE__*/React.createElement("code", null, "?y"), "."), /*#__PURE__*/React.createElement("p", null, "For instance, the following query to Wikidata retrieve U.S. box office revenue of movies (x-axis) and their review score in Rotten Tomatoes (y-axis):"), /*#__PURE__*/React.createElement("code", {
        className: "query-eg"
      }, "PREFIX wdt: <http://www.wikidata.org/prop/direct/> ", /*#__PURE__*/React.createElement("br", null), "PREFIX wd: <http://www.wikidata.org/entity/> ", /*#__PURE__*/React.createElement("br", null), "PREFIX p: <http://www.wikidata.org/prop/> ", /*#__PURE__*/React.createElement("br", null), "PREFIX ps: <http://www.wikidata.org/prop/statement/> ", /*#__PURE__*/React.createElement("br", null), "PREFIX pq: <http://www.wikidata.org/prop/qualifier/> ", /*#__PURE__*/React.createElement("br", null), "SELECT DISTINCT ?y ?x ", /*#__PURE__*/React.createElement("br", null), "WHERE {  ?item wdt:P31 wd:Q11424.  ", /*#__PURE__*/React.createElement("br", null), "?item p:P444 ?review_statement .  ", /*#__PURE__*/React.createElement("br", null), "?review_statement ps:P444 ?y .  ", /*#__PURE__*/React.createElement("br", null), "?review_statement pq:P447 wd:Q105584 .  ", /*#__PURE__*/React.createElement("br", null), "?review_statement pq:P459 wd:Q108403393 . ", /*#__PURE__*/React.createElement("br", null), " ?item p:P2142 ?box_office_statement . ", /*#__PURE__*/React.createElement("br", null), " ?box_office_statement ps:P2142 ?x . ", /*#__PURE__*/React.createElement("br", null), " ?box_office_statement pq:P3005 wd:Q30 .}"), /*#__PURE__*/React.createElement("p", null, "To visualise multiple data series, click on ", /*#__PURE__*/React.createElement("code", null, "Add a series"), " and add more SPARQL queries each returning two lists of numerical values called ", /*#__PURE__*/React.createElement("code", null, "?x"), " and", /*#__PURE__*/React.createElement("code", null, "?y"), ". Datasets are distinguished by color.")))), /*#__PURE__*/React.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/React.createElement("button", {
        type: "button",
        className: "btn btn-danger",
        "data-dismiss": "modal"
      }, "Close"))))));
    } catch (error) {
      return /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  } else {
    // Final story: render preview
    try {
      var createMarkup = function createMarkup() {
        return {
          __html: q
        };
      };
      var q = '';
      if (!extras || !extras.length) {
        q = '<p>' + query + '</p>';
      } else {
        q += '<p>' + query + '</p><br/>';
        extras.forEach(function (element) {
          q += '<p>' + element.extra_query + '</p><br/><br/>';
        });
      }
      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("h3", {
        className: "block_title"
      }, title), /*#__PURE__*/React.createElement("input", {
        id: index + "__chart_type",
        type: "hidden",
        value: chart
      }), /*#__PURE__*/React.createElement("div", {
        id: index + "__chartcontainer",
        className: "chart-container"
      }, /*#__PURE__*/React.createElement("canvas", {
        id: index + "__chartid"
      })), /*#__PURE__*/React.createElement("div", {
        className: "exportchart card-tools col-md-12 col-sm-12"
      }, /*#__PURE__*/React.createElement("a", {
        id: "export_" + index,
        className: "btn btn-info btn-border btn-round btn-sm mr-2",
        onClick: function onClick() {
          return exportChart(index);
        }
      }, "Embed"), /*#__PURE__*/React.createElement("a", {
        id: "print_" + index,
        className: "btn btn-info btn-border btn-round btn-sm mr-2",
        onClick: function onClick() {
          return printChart(index);
        }
      }, "Save"), /*#__PURE__*/React.createElement("a", {
        href: "#",
        id: index + "_query_tooltip",
        role: "button",
        "data-toggle": "modal",
        "data-target": '#' + index + '_query',
        className: "btn btn-info btn-border btn-round btn-sm"
      }, "Query"), /*#__PURE__*/React.createElement("div", {
        className: "modal fade",
        id: index + '_query',
        tabIndex: "-1",
        role: "dialog",
        "aria-labelledby": index + '_querytitle',
        "aria-hidden": "true"
      }, /*#__PURE__*/React.createElement("div", {
        className: "modal-dialog modal-lg",
        role: "document"
      }, /*#__PURE__*/React.createElement("div", {
        className: "modal-content card"
      }, /*#__PURE__*/React.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/React.createElement("h4", {
        id: '#' + index + '_querytitle',
        className: "card-title"
      }, "SPARQL query")), /*#__PURE__*/React.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/React.createElement("div", {
        className: "container",
        dangerouslySetInnerHTML: createMarkup()
      })), /*#__PURE__*/React.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/React.createElement("button", {
        type: "button",
        className: "btn btn-danger",
        "data-dismiss": "modal"
      }, "Close")))))));
    } catch (error) {
      return /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFeHRyYVNlcmllcyIsIl9yZWYiLCJpbmRleEV4dHJhIiwiaW5kZXhfcGFyZW50IiwiZXh0cmFzIiwic2V0RXh0cmFzIiwiZGVmYXVsdEV4dHJhUXVlcnkiLCJkZWZhdWx0RXh0cmFMYWJlbCIsImRhdGFzdG9yeV9kYXRhIiwiZHluYW1pY19lbGVtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJlbGVtZW50IiwidHlwZSIsInBvc2l0aW9uIiwiZXh0cmFfcXVlcmllcyIsImV4dHJhX3F1ZXJ5IiwiZXh0cmFfc2VyaWVzIiwiX1JlYWN0JHVzZVN0YXRlIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsIl9SZWFjdCR1c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheSIsImV4dHJhUXVlcnkiLCJzZXRFeHRyYVF1ZXJ5IiwiZXh0cmFRdWVyeUNoYW5nZSIsImluZGV4IiwiZXZlbnQiLCJ0YXJnZXQiLCJ2YWx1ZSIsIm5ld0FyciIsIl90b0NvbnN1bWFibGVBcnJheSIsIl9SZWFjdCR1c2VTdGF0ZTMiLCJfUmVhY3QkdXNlU3RhdGU0IiwiZXh0cmFMYWJlbCIsInNldEV4dHJhTGFiZWwiLCJleHRyYUxhYmVsQ2hhbmdlIiwiZmV0Y2hFeHRyYVF1ZXJ5IiwibGFiZWxzIiwicXVlcmllcyIsInRpdGxlIiwieCIsInkiLCJwdXNoIiwiY2hhcnRfcXVlcnkiLCJjaGFydF9zZXJpZXMiLCJjaGFydF90aXRsZSIsImNoYXJ0X2xlZ2VuZCIsImVsIiwiY29sb3JzIiwiZDMiLCJxdWFudGl6ZSIsImludGVycG9sYXRlSGNsIiwiY29sb3JfY29kZSIsImNoX3R5cGUiLCJwcm9taXNlcyIsInEiLCJpIiwiZmV0Y2giLCJzcGFycWxfZW5kcG9pbnQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJtZXRob2QiLCJoZWFkZXJzIiwiUHJvbWlzZSIsImFsbCIsInRoZW4iLCJyZXNwb25zZXMiLCJtYXAiLCJyZXNwb25zZSIsImpzb24iLCJyZXN1bHRkYXRhIiwiZGF0YXNldHMiLCJkYXRhIiwiZGF0YXNldCIsInNlcmllc0RhdGEiLCJzZXJpZXNMYWJlbHMiLCJoZWFkIiwidmFycyIsImluY2x1ZGVzIiwicmVzdWx0cyIsImJpbmRpbmdzIiwieFZhbHVlIiwicGFyc2VJbnQiLCJ5VmFsdWUiLCJlbnRyeU9iaiIsImxhYmVsIiwiYmFja2dyb3VuZENvbG9yIiwiY2hhcnRJZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0Iiwic2NhdHRlckNoYXJ0IiwiQ2hhcnQiLCJvcHRpb25zIiwicmVzcG9uc2l2ZSIsInBsdWdpbnMiLCJsZWdlbmQiLCJkaXNwbGF5IiwidGV4dCIsInNjYWxlcyIsInlBeGVzIiwic2NhbGVMYWJlbCIsImxhYmVsU3RyaW5nIiwiYmVnaW5BdFplcm8iLCJ4QXhlcyIsInRpY2tzIiwiYXV0b1NraXAiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJ1c2VFZmZlY3QiLCJleHRyYV9pZCIsIkRhdGUiLCJnZXRUaW1lIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInN0eWxlIiwiY29sb3IiLCJodG1sRm9yIiwib25Nb3VzZUxlYXZlIiwib25DaGFuZ2UiLCJpZCIsIm5hbWUiLCJkZWZhdWx0VmFsdWUiLCJwbGFjZWhvbGRlciIsInJlcXVpcmVkIiwiRXJyb3JIYW5kbGVyIiwiQ2hhcnRWaXoiLCJfcmVmMiIsInVuaXF1ZV9rZXkiLCJyZW1vdmVDb21wb25lbnQiLCJjb21wb25lbnRMaXN0Iiwic2V0Q29tcG9uZW50Iiwic29ydENvbXBvbmVudFVwIiwic29ydENvbXBvbmVudERvd24iLCJiYXNpY0NoYXJ0IiwiY2hhcnRfdHlwZSIsImNoYXJ0X3Nlcmllc18xIiwiY2hhcnRfc2VyaWVzXzFfeCIsImNoYXJ0X3Nlcmllc18xX3kiLCJjaGFydF9jb3VudCIsImltYWdlIiwiY2hhcnREYXRhIiwiY2hhcnRMYWJlbHMiLCJkYXRhX3NjYXR0ZXIiLCJvcGVyYXRpb25zIiwiYWRkX3Nlcmllc19idG4iLCJxdWVyeUJ1dHRvbiIsImNvdW50Q2hlY2tib3giLCJkb3VnaG51dF9maWVsZHMiLCJzZXJpZXNCdXR0b24iLCJheGVzQnV0dG9uIiwiX1JlYWN0JHVzZVN0YXRlNSIsIl9SZWFjdCR1c2VTdGF0ZTYiLCJjaGFydCIsInNldENoYXJ0IiwiY2hhcnRDaGFuZ2UiLCJfUmVhY3QkdXNlU3RhdGU3IiwiX1JlYWN0JHVzZVN0YXRlOCIsInF1ZXJ5Iiwic2V0UXVlcnkiLCJxdWVyeUNoYW5nZSIsIl9SZWFjdCR1c2VTdGF0ZTkiLCJfUmVhY3QkdXNlU3RhdGUxMCIsInNlcmllcyIsInNldFNlcmllcyIsInNlcmllc0NoYW5nZSIsIl9SZWFjdCR1c2VTdGF0ZTExIiwiX1JlYWN0JHVzZVN0YXRlMTIiLCJleHRyYVF1ZXJpZXNCb3giLCJleHRyYXNDaGFuZ2UiLCJwcmV2RXh0cmFzIiwiY29uY2F0IiwiX1JlYWN0JHVzZVN0YXRlMTMiLCJfUmVhY3QkdXNlU3RhdGUxNCIsImRhdGFzZXRBcnJheSIsInNldERhdGFBcnJheSIsIl9SZWFjdCR1c2VTdGF0ZTE1IiwiX1JlYWN0JHVzZVN0YXRlMTYiLCJzZXJpZXNYIiwic2V0U2VyaWVzWCIsInNlcmllc1hDaGFuZ2UiLCJfUmVhY3QkdXNlU3RhdGUxNyIsIl9SZWFjdCR1c2VTdGF0ZTE4Iiwic2VyaWVzWSIsInNldFNlcmllc1kiLCJzZXJpZXNZQ2hhbmdlIiwiX1JlYWN0JHVzZVN0YXRlMTkiLCJfUmVhY3QkdXNlU3RhdGUyMCIsInNldFRpdGxlIiwidGl0bGVDaGFuZ2UiLCJfUmVhY3QkdXNlU3RhdGUyMSIsIl9SZWFjdCR1c2VTdGF0ZTIyIiwiY291bnQiLCJzZXRDb3VudCIsImNvdW50Q2hhbmdlIiwiX1JlYWN0JHVzZVN0YXRlMjMiLCJfUmVhY3QkdXNlU3RhdGUyNCIsInNwaW5uZXIiLCJzZXRTcGlubmVyIiwiZ2VuZXJhdGVLZXkiLCJwcmUiLCJhbGVydEVycm9yIiwiYWxlcnQiLCJjb3VudF9ncm91cGluZyIsImFyciIsImVsQ291bnQiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsIl9zdGVwIiwicyIsIm4iLCJkb25lIiwiaXRlbSIsImVyciIsImUiLCJmIiwiYXJyYXlUb1N0cmluZyIsImxhYmVsc0FycmF5IiwibGFiZWxzU3RyaW5nIiwibmV3U3RyaW5nIiwiZ2V0Q2lyY3VsYXJSZXBsYWNlciIsInNlZW4iLCJXZWFrU2V0Iiwia2V5IiwiX3R5cGVvZiIsImhhcyIsImFkZCIsImV4cG9ydENoYXJ0IiwiZXhwb3J0X2J0biIsImNoYXJ0VVJMIiwiSlNPTiIsInN0cmluZ2lmeSIsIndpbmRvdyIsInByb21wdCIsImVuY29kZVVSSSIsImJhc2ljX2NoYXJ0IiwiZWxfaWQiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJib3JkZXJDb2xvciIsIm1haW50YWluQXNwZWN0UmF0aW8iLCJzY2FsZVNob3dWYWx1ZXMiLCJib3hXaWR0aCIsInBhZGRpbmciLCJwb2ludEJvcmRlckNvbG9yIiwicG9pbnRCYWNrZ3JvdW5kQ29sb3IiLCJwb2ludEJvcmRlcldpZHRoIiwicG9pbnRIb3ZlclJhZGl1cyIsInBvaW50SG92ZXJCb3JkZXJXaWR0aCIsInBvaW50UmFkaXVzIiwiZmlsbCIsImJvcmRlcldpZHRoIiwic3BhbkdhcHMiLCJ0b29sdGlwcyIsImJvZHlTcGFjaW5nIiwibW9kZSIsImludGVyc2VjdCIsInhQYWRkaW5nIiwieVBhZGRpbmciLCJjYXJldFBhZGRpbmciLCJsYXlvdXQiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJPYmplY3QiLCJhc3NpZ24iLCJhbmltYXRpb24iLCJvbkNvbXBsZXRlIiwidG9CYXNlNjRJbWFnZSIsInVwZGF0ZSIsInByaW50Q2hhcnQiLCJwcmludF9idG4iLCJocmVmIiwiZG93bmxvYWQiLCJmZXRjaFF1ZXJ5IiwiaW5uZXJIVE1MIiwicmVzIiwibG9jYXRpb24iLCJpbmRleE9mIiwibGFiIiwidmFsdWVzIiwia2V5cyIsImNoX3NlcmllcyIsIiQiLCJlYWNoIiwic2V0QXR0cmlidXRlIiwic2Nyb2xsSGVpZ2h0Iiwib24iLCJoZWlnaHQiLCJTb3J0Q29tcG9uZW50IiwiUmVtb3ZlQ29tcG9uZW50Iiwicm9sZSIsInJvd3MiLCJvbkNsaWNrIiwiZXh0cmEiLCJ0YWJJbmRleCIsImNyZWF0ZU1hcmt1cCIsIl9faHRtbCIsIkZyYWdtZW50IiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiXSwic291cmNlcyI6WyJodHRwczovL3Byb2plY3RzLmRoYXJjLnVuaWJvLml0L21lbG9keS9zdGF0aWMvanMvcmVhY3QvQ2hhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRXh0cmFTZXJpZXMgPSAoeyBpbmRleEV4dHJhLCBpbmRleF9wYXJlbnQgLFxuICAgICAgICAgICAgICAgICAgICAgIGV4dHJhcywgc2V0RXh0cmFzIH0pID0+IHtcblxuICAvLyBnZXQgRXh0cmEgcXVlcmllcyBmcm9tIGRhdGFzdG9yeV9kYXRhXG4gIGxldCBkZWZhdWx0RXh0cmFRdWVyeSA9ICcnLCBkZWZhdWx0RXh0cmFMYWJlbCA9ICcnXG4gIGlmIChkYXRhc3RvcnlfZGF0YS5keW5hbWljX2VsZW1lbnRzICYmIGRhdGFzdG9yeV9kYXRhLmR5bmFtaWNfZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgZGF0YXN0b3J5X2RhdGEuZHluYW1pY19lbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PSAnY2hhcnQnICYmIGVsZW1lbnQucG9zaXRpb24gPT0gaW5kZXhfcGFyZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50LmV4dHJhX3F1ZXJpZXMubGVuZ3RoID4gaW5kZXhFeHRyYSkge1xuICAgICAgICAgIGRlZmF1bHRFeHRyYVF1ZXJ5ID0gZWxlbWVudC5leHRyYV9xdWVyaWVzW2luZGV4RXh0cmFdLmV4dHJhX3F1ZXJ5O1xuICAgICAgICAgIGRlZmF1bHRFeHRyYUxhYmVsID0gZWxlbWVudC5leHRyYV9xdWVyaWVzW2luZGV4RXh0cmFdLmV4dHJhX3NlcmllcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBbZXh0cmFRdWVyeSwgc2V0RXh0cmFRdWVyeV0gPSBSZWFjdC51c2VTdGF0ZShkZWZhdWx0RXh0cmFRdWVyeSk7XG4gIGNvbnN0IGV4dHJhUXVlcnlDaGFuZ2UgPSBpbmRleCA9PiBldmVudCA9PiB7XG4gICAgc2V0RXh0cmFRdWVyeShldmVudC50YXJnZXQudmFsdWUpO1xuICAgIGxldCBuZXdBcnIgPSBbLi4uZXh0cmFzXTtcbiAgICBuZXdBcnJbaW5kZXhdLmV4dHJhX3F1ZXJ5ID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIHNldEV4dHJhcyhuZXdBcnIpO1xuICB9O1xuXG4gIGNvbnN0IFtleHRyYUxhYmVsLCBzZXRFeHRyYUxhYmVsXSA9IFJlYWN0LnVzZVN0YXRlKGRlZmF1bHRFeHRyYUxhYmVsKTtcbiAgY29uc3QgZXh0cmFMYWJlbENoYW5nZSA9IGluZGV4ID0+IGV2ZW50ID0+IHtcbiAgICBzZXRFeHRyYUxhYmVsKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgbGV0IG5ld0FyciA9IFsuLi5leHRyYXNdO1xuICAgIG5ld0FycltpbmRleF0uZXh0cmFfc2VyaWVzID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIHNldEV4dHJhcyhuZXdBcnIpO1xuICB9O1xuXG4gIC8vIGZldGNoRXh0cmFRdWVyeVxuICBjb25zdCBmZXRjaEV4dHJhUXVlcnkgPSBpbmRleF9wYXJlbnQgPT4gZXZlbnQgPT4ge1xuICAgIGlmIChleHRyYVF1ZXJ5Lmxlbmd0aCA+IDEpIHtcblxuICAgICAgbGV0IGxhYmVscyA9IFtdICwgcXVlcmllcyA9IFtdICwgdGl0bGUgPSBcIlwiLCB4ID0nJywgeT0nJztcblxuICAgICAgZGF0YXN0b3J5X2RhdGEuZHluYW1pY19lbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudC50eXBlID09ICdjaGFydCcgJiYgZWxlbWVudC5wb3NpdGlvbiA9PSBpbmRleF9wYXJlbnQpIHtcbiAgICAgICAgICBxdWVyaWVzLnB1c2goZWxlbWVudC5jaGFydF9xdWVyeSlcbiAgICAgICAgICBsYWJlbHMucHVzaChlbGVtZW50LmNoYXJ0X3NlcmllcylcbiAgICAgICAgICB0aXRsZSA9IGVsZW1lbnQuY2hhcnRfdGl0bGU7XG4gICAgICAgICAgeSA9IGVsZW1lbnQuY2hhcnRfbGVnZW5kLnk7XG4gICAgICAgICAgeCA9IGVsZW1lbnQuY2hhcnRfbGVnZW5kLng7XG4gICAgICAgICAgZWxlbWVudC5leHRyYV9xdWVyaWVzLmZvckVhY2goZWwgPT4ge1xuICAgICAgICAgICAgcXVlcmllcy5wdXNoKGVsLmV4dHJhX3F1ZXJ5KVxuICAgICAgICAgICAgbGFiZWxzLnB1c2goZWwuZXh0cmFfc2VyaWVzKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsZXQgY29sb3JzID0gZDMucXVhbnRpemUoZDMuaW50ZXJwb2xhdGVIY2woZGF0YXN0b3J5X2RhdGEuY29sb3JfY29kZVswXSwgZGF0YXN0b3J5X2RhdGEuY29sb3JfY29kZVsxXSksIHF1ZXJpZXMubGVuZ3RoKTtcblxuICAgICAgbGV0IGNoX3R5cGUgPSAnc2NhdHRlcic7XG4gICAgICBsZXQgcHJvbWlzZXMgPSBbXTtcbiAgICAgIHF1ZXJpZXMuZm9yRWFjaCgocSwgaSkgPT4ge1xuICAgICAgICBwcm9taXNlcy5wdXNoKGZldGNoKGRhdGFzdG9yeV9kYXRhLnNwYXJxbF9lbmRwb2ludCsnP3F1ZXJ5PScrZW5jb2RlVVJJQ29tcG9uZW50KHEpLFxuICAgICAgICAgIHsgbWV0aG9kOiAnR0VUJywgaGVhZGVyczogeyAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL3NwYXJxbC1yZXN1bHRzK2pzb24nIH19XG4gICAgICAgICkpXG4gICAgICB9KVxuXG4gICAgICBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZXMpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZXNwb25zZXMubWFwKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIFx0XHRyZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIFx0fSkpO30pXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0ZGF0YSkge1xuICAgICAgICBsZXQgZGF0YXNldHMgPSBbXTtcbiAgICAgICAgcmVzdWx0ZGF0YS5mb3JFYWNoKChkYXRhLGkpID0+IHtcbiAgICAgICAgICBsZXQgZGF0YXNldCA9IHt9LCBzZXJpZXNEYXRhID0gW10sIHNlcmllc0xhYmVscyA9IFtdO1xuICAgICAgICAgIGlmIChkYXRhLmhlYWQudmFycy5pbmNsdWRlcygneCcpXG4gICAgICAgICAgICYmIGRhdGEuaGVhZC52YXJzLmluY2x1ZGVzKCd5JykpIHtcbiAgICAgICAgICAgIGRhdGEucmVzdWx0cy5iaW5kaW5ncy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB4VmFsdWUgPSBwYXJzZUludChlbGVtZW50LngudmFsdWUpO1xuICAgICAgICAgICAgICBjb25zdCB5VmFsdWUgPSBwYXJzZUludChlbGVtZW50LnkudmFsdWUpO1xuICAgICAgICAgICAgICBjb25zdCBlbnRyeU9iaiA9IHsgeDogeFZhbHVlLCB5OiB5VmFsdWUgfVxuICAgICAgICAgICAgICBzZXJpZXNMYWJlbHMucHVzaCh4VmFsdWUpO1xuICAgICAgICAgICAgICBzZXJpZXNEYXRhLnB1c2goZW50cnlPYmopO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkYXRhc2V0LmxhYmVsID0gbGFiZWxzW2ldO1xuICAgICAgICAgICAgZGF0YXNldC5kYXRhID0gc2VyaWVzRGF0YTtcbiAgICAgICAgICAgIGRhdGFzZXQuYmFja2dyb3VuZENvbG9yID0gY29sb3JzW2ldO1xuICAgICAgICAgICAgZGF0YXNldHMucHVzaChkYXRhc2V0KTtcbiAgICAgICAgIH1cbiAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRhdGFzZXRzXG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YXNldHMpIHtcbiAgICAgICAgbGV0IGNoYXJ0SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbmRleF9wYXJlbnQrJ19fY2hhcnRpZCcpLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgbGV0IHNjYXR0ZXJDaGFydCA9IG5ldyBDaGFydChjaGFydElkLCB7XG4gICAgICAgICAgICB0eXBlOiBjaF90eXBlLFxuICAgICAgICAgICAgZGF0YToge2RhdGFzZXRzOiBkYXRhc2V0c30sXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwbHVnaW5zOiB7XG4gICAgICAgICAgICAgICAgICAgIGxlZ2VuZDogeyBwb3NpdGlvbjogJ3RvcCcsfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHsgZGlzcGxheTogdHJ1ZSwgdGV4dDogdGl0bGUgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHlBeGVzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVMYWJlbDogeyBkaXNwbGF5OiB0cnVlLCBsYWJlbFN0cmluZzogeX0sXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWdpbkF0WmVybzogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICAgICAgeEF4ZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZUxhYmVsOiB7IGRpc3BsYXk6IHRydWUsIGxhYmVsU3RyaW5nOiB4fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7IGF1dG9Ta2lwOiBmYWxzZSB9XG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtjb25zb2xlLmxvZyhlcnJvcik7fSlcblxuICAgIH1cbiAgfTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICBmZXRjaEV4dHJhUXVlcnkoaW5kZXhfcGFyZW50KTtcbiAgfSwgW10pO1xuXG4gIGxldCBleHRyYV9pZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB0cnkge1xuICAgIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJxdWVyeS1kaXZcIj5cbiAgICA8aHIvPlxuICAgICAgPGg0IHN0eWxlPXt7IGNvbG9yOiAnd2hpdGUnfX0+QWRkIGEgc2VyaWVzPC9oND48YnIvPlxuICAgICAgey8qIGFkZCByZW1vdmUgY29tcG9uZW50IG5ldyovfVxuICAgICAgPGxhYmVsIGh0bWxGb3I9J2xhcmdlSW5wdXQnPlNQQVJRTCBxdWVyeTwvbGFiZWw+XG4gICAgICA8dGV4dGFyZWFcbiAgICAgICAgICBvbk1vdXNlTGVhdmU9e2ZldGNoRXh0cmFRdWVyeShpbmRleF9wYXJlbnQpfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBleHRyYVF1ZXJ5Q2hhbmdlKGluZGV4RXh0cmEpfVxuICAgICAgICAgIGlkPXtpbmRleF9wYXJlbnQrXCJfX2V4dHJhX3F1ZXJ5X1wiK2V4dHJhX2lkfVxuICAgICAgICAgIG5hbWU9e2luZGV4X3BhcmVudCtcIl9fZXh0cmFfcXVlcnlfXCIrZXh0cmFfaWR9XG4gICAgICAgICAgZGVmYXVsdFZhbHVlPXtleHRyYVF1ZXJ5fVxuICAgICAgICAgIHBsYWNlaG9sZGVyPSdBIFNQQVJRTCBxdWVyeSB0aGF0IHJldHVybnMgdHdvIHZhcmlhYmxlcycgcmVxdWlyZWQ+XG4gICAgICA8L3RleHRhcmVhPlxuICBcdFx0PGlucHV0XG4gICAgICAgICAgb25DaGFuZ2U9eygpID0+IGV4dHJhTGFiZWxDaGFuZ2UoaW5kZXhFeHRyYSl9XG4gICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICBpZD17aW5kZXhfcGFyZW50K1wiX19leHRyYV9zZXJpZXNfXCIrZXh0cmFfaWR9XG4gICAgICAgICAgbmFtZT17aW5kZXhfcGFyZW50K1wiX19leHRyYV9zZXJpZXNfXCIrZXh0cmFfaWR9XG4gICAgICAgICAgZGVmYXVsdFZhbHVlPXtleHRyYUxhYmVsfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPSdUaGUgbGFiZWwgb2YgdGhlIGRhdGEgc2VyaWVzJz5cbiAgICAgIDwvaW5wdXQ+XG4gICAgPC9kaXY+XG4gICk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IHJldHVybiA8RXJyb3JIYW5kbGVyIGVycm9yPXtlcnJvcn0gLz4gfVxufVxuXG5jb25zdCBDaGFydFZpeiA9ICh7IHVuaXF1ZV9rZXksIGluZGV4ICxcbiAgICAgICAgICAgICAgICByZW1vdmVDb21wb25lbnQgLCBjb21wb25lbnRMaXN0LCBzZXRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgc29ydENvbXBvbmVudFVwICwgc29ydENvbXBvbmVudERvd24gfSkgPT4ge1xuXG4gIGxldCBiYXNpY0NoYXJ0LCBjaGFydF90eXBlID0gJycsIGNoYXJ0X3F1ZXJ5ID0gJycsIGNoYXJ0X3Nlcmllc18xID0gJycsXG4gICAgICBjaGFydF9zZXJpZXNfMV94ID0gJycsIGNoYXJ0X3Nlcmllc18xX3kgPSAnJywgY2hhcnRfdGl0bGUgPSAnJyAsXG4gICAgICBjaGFydF9jb3VudCA9ICcnLCBleHRyYV9xdWVyaWVzID0gW10gLCBpbWFnZSAsIGNoYXJ0RGF0YSA9IFtdLCBjaGFydExhYmVscyA9IFtdLCBsYWJlbHMgLCBkYXRhc2V0cyA9IFtdLCBkYXRhX3NjYXR0ZXIgO1xuXG4gIC8vIFdZU0lXWUc6IGdldCBjb250ZW50IGlmIGFueVxuICBpZiAoZGF0YXN0b3J5X2RhdGEuZHluYW1pY19lbGVtZW50cyAmJiBkYXRhc3RvcnlfZGF0YS5keW5hbWljX2VsZW1lbnRzLmxlbmd0aCkge1xuICAgIGRhdGFzdG9yeV9kYXRhLmR5bmFtaWNfZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGlmIChlbGVtZW50LnR5cGUgPT0gJ2NoYXJ0JyAmJiBlbGVtZW50LnBvc2l0aW9uID09IGluZGV4KSB7XG4gICAgICAgIGNoYXJ0X3R5cGUgPSBlbGVtZW50LmNoYXJ0X3R5cGUgO1xuICAgICAgICBjaGFydF9xdWVyeSA9IGVsZW1lbnQuY2hhcnRfcXVlcnkgO1xuICAgICAgICBjaGFydF9zZXJpZXNfMSA9IGVsZW1lbnQuY2hhcnRfc2VyaWVzIDtcbiAgICAgICAgY2hhcnRfc2VyaWVzXzFfeCA9IGVsZW1lbnQuY2hhcnRfbGVnZW5kLnggO1xuICAgICAgICBjaGFydF9zZXJpZXNfMV95ID0gZWxlbWVudC5jaGFydF9sZWdlbmQueSA7XG4gICAgICAgIGNoYXJ0X3RpdGxlID0gZWxlbWVudC5jaGFydF90aXRsZSA7XG4gICAgICAgIGlmIChlbGVtZW50Lm9wZXJhdGlvbnMubGVuZ3RoKSB7Y2hhcnRfY291bnQgPSBlbGVtZW50Lm9wZXJhdGlvbnNbMF19XG4gICAgICAgIGlmIChlbGVtZW50LmV4dHJhX3F1ZXJpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgZWxlbWVudC5leHRyYV9xdWVyaWVzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBleHRyYV9xdWVyaWVzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgfSkgO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZF9zZXJpZXNfYnRuKGluZGV4LGNoX3R5cGUpIHtcbiAgICB2YXIgcXVlcnlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbmRleCsnX19xdWVyeS1idG4nKTtcbiAgICB2YXIgY291bnRDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGluZGV4KydfX29wZXJhdGlvbjEnKTtcbiAgICBpZiAoY2hfdHlwZSA9PSAnc2NhdHRlcnBsb3QnKSB7XG4gICAgICBxdWVyeUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgY291bnRDaGVja2JveC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXJ5QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIGNvdW50Q2hlY2tib3guc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkb3VnaG51dF9maWVsZHMoaW5kZXgsY2hfdHlwZSkge1xuICAgIHZhciBzZXJpZXNCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbmRleCsnX19zZXJpZXNfbGFiZWwnKTtcbiAgICB2YXIgYXhlc0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGluZGV4KydfX2F4ZXNfbGFiZWwnKTtcbiAgICBpZiAoY2hfdHlwZSA9PSAnZG91Z2hudXRjaGFydCcpIHtcbiAgICAgIHNlcmllc0J1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICBheGVzQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VyaWVzQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBheGVzQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgW2NoYXJ0LCBzZXRDaGFydF0gPSBSZWFjdC51c2VTdGF0ZShjaGFydF90eXBlKTtcbiAgY29uc3QgY2hhcnRDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgc2V0Q2hhcnQoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICBhZGRfc2VyaWVzX2J0bihpbmRleCxldmVudC50YXJnZXQudmFsdWUpO1xuICAgIGRvdWdobnV0X2ZpZWxkcyhpbmRleCxldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIGNvbnN0IFtxdWVyeSwgc2V0UXVlcnldID0gUmVhY3QudXNlU3RhdGUoY2hhcnRfcXVlcnkpO1xuICBjb25zdCBxdWVyeUNoYW5nZSA9IGV2ZW50ID0+IHsgc2V0UXVlcnkoZXZlbnQudGFyZ2V0LnZhbHVlKTsgfTtcblxuICBjb25zdCBbc2VyaWVzLCBzZXRTZXJpZXNdID0gUmVhY3QudXNlU3RhdGUoY2hhcnRfc2VyaWVzXzEpO1xuICBjb25zdCBzZXJpZXNDaGFuZ2UgPSBldmVudCA9PiB7IHNldFNlcmllcyhldmVudC50YXJnZXQudmFsdWUpOyB9O1xuXG4gIGNvbnN0IFtleHRyYXMsIHNldEV4dHJhc10gPSBSZWFjdC51c2VTdGF0ZShleHRyYV9xdWVyaWVzKTtcbiAgY29uc3QgZXh0cmFRdWVyaWVzQm94ID0gW107XG4gIGNvbnN0IGV4dHJhc0NoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICBzZXRFeHRyYXMocHJldkV4dHJhcyA9PiBbXG4gICAgICAuLi5wcmV2RXh0cmFzLCB7ZXh0cmFfcXVlcnk6JycsZXh0cmFfc2VyaWVzOicnfVxuICAgIF0pXG4gIH07XG5cbiAgY29uc3QgW2RhdGFzZXRBcnJheSwgc2V0RGF0YUFycmF5XSA9IFJlYWN0LnVzZVN0YXRlKCk7XG5cbiAgY29uc3QgW3Nlcmllc1gsIHNldFNlcmllc1hdID0gUmVhY3QudXNlU3RhdGUoY2hhcnRfc2VyaWVzXzFfeCk7XG4gIGNvbnN0IHNlcmllc1hDaGFuZ2UgPSBldmVudCA9PiB7IHNldFNlcmllc1goZXZlbnQudGFyZ2V0LnZhbHVlKTsgfTtcblxuICBjb25zdCBbc2VyaWVzWSwgc2V0U2VyaWVzWV0gPSBSZWFjdC51c2VTdGF0ZShjaGFydF9zZXJpZXNfMV95KTtcbiAgY29uc3Qgc2VyaWVzWUNoYW5nZSA9IGV2ZW50ID0+IHsgc2V0U2VyaWVzWShldmVudC50YXJnZXQudmFsdWUpOyB9O1xuXG4gIGNvbnN0IFt0aXRsZSwgc2V0VGl0bGVdID0gUmVhY3QudXNlU3RhdGUoY2hhcnRfdGl0bGUpO1xuICBjb25zdCB0aXRsZUNoYW5nZSA9IGV2ZW50ID0+IHsgc2V0VGl0bGUoZXZlbnQudGFyZ2V0LnZhbHVlKTsgfTtcblxuICBjb25zdCBbY291bnQsIHNldENvdW50XSA9IFJlYWN0LnVzZVN0YXRlKGNoYXJ0X2NvdW50KTtcbiAgY29uc3QgY291bnRDaGFuZ2UgPSBldmVudCA9PiB7IHNldENvdW50KCdjb3VudCcpOyB9O1xuICBjb25zdCBbc3Bpbm5lciwgc2V0U3Bpbm5lcl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGdlbmVyYXRlS2V5ID0gKHByZSkgPT4ge1xuICAgICAgcmV0dXJuIGAkeyBwcmUgfV8keyBuZXcgRGF0ZSgpLmdldFRpbWUoKSB9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFsZXJ0RXJyb3IoZGF0YSxjb3VudCxjaGFydCkge1xuICAgIGlmIChkYXRhLmhlYWQudmFycy5sZW5ndGggPT09IDEgJiYgIWRhdGEuaGVhZC52YXJzLmluY2x1ZGVzKCdsYWJlbCcpICYmIGNvdW50ICE9ICdjb3VudCdcbiAgICAgICYmIChjaGFydCA9PSAnYmFyY2hhcnQnIHx8IGNoYXJ0ID09ICdsaW5lY2hhcnQnKSkge1xuICAgICAgYWxlcnQoXCJUaGUgcXVlcnkgbXVzdCByZXR1cm4gdHdvIHZhcmlhYmxlcywgb3IgeW91IHNob3VsZCB0aWNrIHRoZSBib3ggJ2NvdW50J1wiKVxuICAgIH1cblxuICAgIGlmIChkYXRhLmhlYWQudmFycy5sZW5ndGggPT09IDEgJiYgY2hhcnQgPT0gJ3NjYXR0ZXJwbG90Jykge1xuICAgICAgYWxlcnQoXCJUaGUgcXVlcnkgbXVzdCByZXR1cm4gdHdvIHNlcmllcyBvZiBudW1lcmljIHZhbHVlcywgY2FsbGVkID94IGFuZCA/eVwiKVxuICAgIH1cblxuICAgIGlmIChkYXRhLmhlYWQudmFycy5sZW5ndGggPiAyKSB7XG4gICAgICBhbGVydChcIlRoZSBxdWVyeSBtdXN0IHJldHVybiB0d28gdmFyaWFibGVzXCIpXG4gICAgfVxuXG4gICAgLy8gaWYgKCghZGF0YS5oZWFkLnZhcnMuaW5jbHVkZXMoJ2xhYmVsJykgfHwgIWRhdGEuaGVhZC52YXJzLmluY2x1ZGVzKCdjb3VudCcpKVxuICAgIC8vICAgJiYgKGNoYXJ0ID09ICdiYXJjaGFydCcgfHwgY2hhcnQgPT0gJ2xpbmVjaGFydCcpKSB7XG4gICAgLy8gICBhbGVydChcIlRoZSBxdWVyeSBtdXN0IHJldHVybiB0d28gdmFyaWFibGVzLCBjYWxsZWQgP2xhYmVsIGFuZCA/Y291bnRcIilcbiAgICAvLyB9XG5cbiAgICBpZiAoKCFkYXRhLmhlYWQudmFycy5pbmNsdWRlcygneCcpIHx8ICFkYXRhLmhlYWQudmFycy5pbmNsdWRlcygneScpKVxuICAgICAgJiYgY2hhcnQgPT0gJ3NjYXR0ZXJwbG90Jykge1xuICAgICAgYWxlcnQoXCJUaGUgcXVlcnkgbXVzdCByZXR1cm4gdHdvIHNlcmllcyBvZiBudW1lcmljIHZhbHVlcywgY2FsbGVkID94IGFuZCA/eVwiKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvdW50X2dyb3VwaW5nKGFycikge1xuICAgICAgbGV0IGVsQ291bnQgPSB7fTtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnIpIHtcbiAgICAgICAgaWYgKGVsQ291bnRbaXRlbV0pIHsgZWxDb3VudFtpdGVtXSArPSAxO31cbiAgICAgICAgZWxzZSB7IGVsQ291bnRbaXRlbV0gPSAxOyB9XG4gICAgICB9IHJldHVybiBlbENvdW50O1xuICB9XG5cbiAgZnVuY3Rpb24gYXJyYXlUb1N0cmluZyhsYWJlbHNBcnJheSkge1xuICAgICAgdmFyIGxhYmVsc1N0cmluZyA9ICcnO1xuICAgICAgbGFiZWxzQXJyYXkuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgdmFyIG5ld1N0cmluZyA9ICdcIicgKyBlbCArICdcIiwnO1xuICAgICAgICAgIGxhYmVsc1N0cmluZyA9IGxhYmVsc1N0cmluZyArIG5ld1N0cmluZztcbiAgICAgIH0pOyByZXR1cm4gbGFiZWxzU3RyaW5nXG4gIH1cblxuICBjb25zdCBnZXRDaXJjdWxhclJlcGxhY2VyID0gKCkgPT4ge1xuICAgIGNvbnN0IHNlZW4gPSBuZXcgV2Vha1NldCgpO1xuICAgIHJldHVybiAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHNlZW4uaGFzKHZhbHVlKSkgeyByZXR1cm47IH1cbiAgICAgICAgc2Vlbi5hZGQodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbn07XG5cbiAgZnVuY3Rpb24gZXhwb3J0Q2hhcnQocG9zaXRpb24pIHtcbiAgICAgIHZhciBleHBvcnRfYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4cG9ydF8nICsgcG9zaXRpb24pO1xuICAgICAgbGV0IHR5cGUsIGxhYmVsID0gJ2RhdGEnO1xuICAgICAgaWYgKGNoYXJ0ID09ICdiYXJjaGFydCcpIHsgdHlwZSA9ICdiYXInfVxuICAgICAgZWxzZSBpZiAoY2hhcnQgPT0gJ2xpbmVjaGFydCcpIHt0eXBlID0gJ2xpbmUnfVxuICAgICAgZWxzZSBpZiAoY2hhcnQgPT0gJ2RvdWdobnV0Y2hhcnQnKSB7IHR5cGUgPSAnZG91Z2hudXQnfVxuICAgICAgZWxzZSBpZiAoY2hhcnQgPT0gJ3NjYXR0ZXJwbG90JykgeyB0eXBlID0gJ3NjYXR0ZXInfVxuICAgICAgLy8gYmFzaWMgY2hhcnRcbiAgICAgIGlmICghZXh0cmFzIHx8ICFleHRyYXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBjaGFydFVSTCA9ICdodHRwczovL3F1aWNrY2hhcnQuaW8vY2hhcnQ/Yz17dHlwZTpcIicgKyB0eXBlICsgJ1wiLCBkYXRhOntsYWJlbHM6WycgKyBsYWJlbHMgKyAnXSxkYXRhc2V0czpbe2xhYmVsOlwiJyArIGxhYmVsICsgJ1wiLCBkYXRhOlsnICsgY2hhcnREYXRhICsgJ119XX19J1xuICAgICAgfVxuICAgICAgLy8gbXVsdGktc2VyaWVzIHNjYXR0ZXJwbG90XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGNoYXJ0VVJMID0gJ2h0dHBzOi8vcXVpY2tjaGFydC5pby9jaGFydD9jPXt0eXBlOlwiJyArIHR5cGUgKyAnXCIsIGRhdGE6eyBkYXRhc2V0czogJyArIEpTT04uc3RyaW5naWZ5KGRhdGFfc2NhdHRlcixnZXRDaXJjdWxhclJlcGxhY2VyKCkgKSArICd9fSdcbiAgICAgIH1cblxuICAgICAgd2luZG93LnByb21wdChcIkNvcHkgdG8gY2xpcGJvYXJkOiBDdHJsK0MsIEVudGVyXCIsICc8ZW1iZWQgdHlwZT1cImltYWdlL2pwZ1wiIHNyYz1cIicgKyBlbmNvZGVVUkkoY2hhcnRVUkwpICsgJ1wiPicpO1xuICB9XG5cbiAgZnVuY3Rpb24gYmFzaWNfY2hhcnQoZWxfaWQsIGNoX3R5cGUsIHNlcmllcywgY29sb3IsIGNoYXJ0RGF0YSwgY2hhcnRMYWJlbHMsIHg9dW5kZWZpbmVkLCB5PXVuZGVmaW5lZCwgZXh0cmFzPXVuZGVmaW5lZCkge1xuICAgIGxldCBjaGFydElkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxfaWQpLmdldENvbnRleHQoJzJkJyk7XG4gICAgdmFyIG9wdGlvbnMgPSB7fTtcbiAgICBpZiAoY2hfdHlwZSA9PSAnYmFyY2hhcnQnKSB7XG4gICAgICBjaF90eXBlID0gJ2Jhcic7XG4gICAgICBkYXRhc2V0cyA9IFt7XG4gICAgICAgICAgbGFiZWw6IHNlcmllcyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLFxuICAgICAgICAgIGJvcmRlckNvbG9yOiBjb2xvcixcbiAgICAgICAgICBkYXRhOiBjaGFydERhdGEsXG4gICAgICB9XTtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcbiAgICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiB0cnVlLFxuICAgICAgICAgIHNjYWxlU2hvd1ZhbHVlczogdHJ1ZSxcbiAgICAgICAgICBzY2FsZXM6IHtcbiAgICAgICAgICAgICAgeUF4ZXM6IFt7XG4gICAgICAgICAgICAgICAgICBzY2FsZUxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbFN0cmluZzogeVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlXG4gICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICB4QXhlczogW3tcbiAgICAgICAgICAgICAgICAgIHNjYWxlTGFiZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nOiB4XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICBhdXRvU2tpcDogZmFsc2VcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICAgIGJveFdpZHRoOiAyMCxcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2hfdHlwZSA9PSAnbGluZWNoYXJ0Jykge1xuICAgICAgY2hfdHlwZSA9ICdsaW5lJztcbiAgICAgIGRhdGFzZXRzID0gIFt7XG4gICAgICAgICAgbGFiZWw6IHNlcmllcyxcbiAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3IsXG4gICAgICAgICAgcG9pbnRCb3JkZXJDb2xvcjogXCIjRkZGXCIsXG4gICAgICAgICAgcG9pbnRCYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLFxuICAgICAgICAgIHBvaW50Qm9yZGVyV2lkdGg6IDIsXG4gICAgICAgICAgcG9pbnRIb3ZlclJhZGl1czogNCxcbiAgICAgICAgICBwb2ludEhvdmVyQm9yZGVyV2lkdGg6IDEsXG4gICAgICAgICAgcG9pbnRSYWRpdXM6IDQsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgIGZpbGw6IHRydWUsXG4gICAgICAgICAgYm9yZGVyV2lkdGg6IDIsXG4gICAgICAgICAgZGF0YTogY2hhcnREYXRhXG4gICAgICB9XTtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcbiAgICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiB0cnVlLFxuICAgICAgICAgIHNwYW5HYXBzOiB0cnVlLFxuICAgICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICAgIGJveFdpZHRoOiAyMCxcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzY2FsZVNob3dWYWx1ZXM6IHRydWUsXG4gICAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgICAgIHlBeGVzOiBbe1xuICAgICAgICAgICAgICAgICAgc2NhbGVMYWJlbDoge1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWxTdHJpbmc6IHlcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBiZWdpbkF0WmVybzogdHJ1ZVxuICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgeEF4ZXM6IFt7XG4gICAgICAgICAgICAgICAgICBzY2FsZUxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbFN0cmluZzogeFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgYXV0b1NraXA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1dXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0b29sdGlwczoge1xuICAgICAgICAgICAgICBib2R5U3BhY2luZzogNCxcbiAgICAgICAgICAgICAgbW9kZTogXCJuZWFyZXN0XCIsXG4gICAgICAgICAgICAgIGludGVyc2VjdDogMCxcbiAgICAgICAgICAgICAgcG9zaXRpb246IFwibmVhcmVzdFwiLFxuICAgICAgICAgICAgICB4UGFkZGluZzogMTAsXG4gICAgICAgICAgICAgIHlQYWRkaW5nOiAxMCxcbiAgICAgICAgICAgICAgY2FyZXRQYWRkaW5nOiAxMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IHsgbGVmdDogMTUsIHJpZ2h0OiAxNSwgdG9wOiAxNSwgYm90dG9tOiAxNSB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChjaF90eXBlID09ICdkb3VnaG51dGNoYXJ0Jykge1xuICAgICAgdmFyIGNvbG9ycyA7XG4gICAgICBpZiAoY2hhcnRMYWJlbHMubGVuZ3RoID09IDEpIHtjb2xvcnMgPSBkYXRhc3RvcnlfZGF0YS5jb2xvcl9jb2RlWzBdIH1cbiAgICAgIGVsc2Uge2NvbG9ycyA9IGQzLnF1YW50aXplKGQzLmludGVycG9sYXRlSGNsKGRhdGFzdG9yeV9kYXRhLmNvbG9yX2NvZGVbMF0sIGRhdGFzdG9yeV9kYXRhLmNvbG9yX2NvZGVbMV0pLCBjaGFydExhYmVscy5sZW5ndGggKX1cblxuICAgICAgY2hfdHlwZSA9ICdkb3VnaG51dCc7XG4gICAgICBkYXRhc2V0cyA9IFt7XG4gICAgICAgICAgZGF0YTogY2hhcnREYXRhLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3JzXG4gICAgICB9XTtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcbiAgICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiB0cnVlLFxuICAgICAgICAgIGxlZ2VuZDogeyBwb3NpdGlvbjogJ3JpZ2h0J30sXG4gICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICAgICAgICAgIGxlZnQ6IDIwLFxuICAgICAgICAgICAgICAgICAgcmlnaHQ6IDIwLFxuICAgICAgICAgICAgICAgICAgdG9wOiAyMCxcbiAgICAgICAgICAgICAgICAgIGJvdHRvbTogMjBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoX3R5cGUgPT0gJ3NjYXR0ZXJwbG90JyAmJiAhZXh0cmFzLmxlbmd0aCkge1xuICAgICAgY2hfdHlwZSA9ICdzY2F0dGVyJztcbiAgICAgIGRhdGFzZXRzID0gW3tcbiAgICAgICAgICBsYWJlbDogc2VyaWVzLFxuICAgICAgICAgIGRhdGE6IGNoYXJ0RGF0YSxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGRhdGFzdG9yeV9kYXRhLmNvbG9yX2NvZGVbMF1cbiAgICAgIH1dO1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgICAgICAgIGxlZ2VuZDogeyBwb3NpdGlvbjogJ3RvcCcsIH0sXG4gICAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgICAgIHlBeGVzOiBbe1xuICAgICAgICAgICAgICAgICAgc2NhbGVMYWJlbDoge1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWxTdHJpbmc6IHlcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBiZWdpbkF0WmVybzogdHJ1ZVxuICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgeEF4ZXM6IFt7XG4gICAgICAgICAgICAgICAgICBzY2FsZUxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbFN0cmluZzogeFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgYXV0b1NraXA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1dXG4gICAgICAgICAgfVxuXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFleHRyYXMgfHwgIWV4dHJhcy5sZW5ndGgpIHtcbiAgICAgIGJhc2ljQ2hhcnQgPSBuZXcgQ2hhcnQoY2hhcnRJZCwge1xuICAgICAgICB0eXBlOiBjaF90eXBlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgbGFiZWxzOiBjaGFydExhYmVscyxcbiAgICAgICAgICBkYXRhc2V0czogZGF0YXNldHN9LFxuICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgICB9KTtcblxuICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24ob3B0aW9ucyxcbiAgICAgICAgeyBhbmltYXRpb246IHtcbiAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbWFnZSA9IGJhc2ljQ2hhcnQudG9CYXNlNjRJbWFnZSgpO1xuICAgICAgICAgICAgbGFiZWxzID0gYXJyYXlUb1N0cmluZyhjaGFydExhYmVscyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGJhc2ljQ2hhcnQub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICBiYXNpY0NoYXJ0LnVwZGF0ZSgpO1xuICAgICAgY29uc29sZS5sb2coYmFzaWNDaGFydCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbGV0IGxhYmVscyA9IFtdICwgcXVlcmllcyA9IFtdICwgdGl0bGUgPSBcIlwiLCB4ID0nJywgeT0nJztcbiAgICAgIGxldCBkYXRhc2V0cyA9IFtdO1xuICAgICAgbGV0IHNjYXR0ZXJDaGFydCA7XG4gICAgICBkYXRhc3RvcnlfZGF0YS5keW5hbWljX2VsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50LnR5cGUgPT0gJ2NoYXJ0JyAmJiBlbGVtZW50LnBvc2l0aW9uID09IGluZGV4KSB7XG4gICAgICAgICAgcXVlcmllcy5wdXNoKGVsZW1lbnQuY2hhcnRfcXVlcnkpXG4gICAgICAgICAgbGFiZWxzLnB1c2goZWxlbWVudC5jaGFydF9zZXJpZXMpXG4gICAgICAgICAgdGl0bGUgPSBlbGVtZW50LmNoYXJ0X3RpdGxlO1xuICAgICAgICAgIHkgPSBlbGVtZW50LmNoYXJ0X2xlZ2VuZC55O1xuICAgICAgICAgIHggPSBlbGVtZW50LmNoYXJ0X2xlZ2VuZC54O1xuICAgICAgICAgIGVsZW1lbnQuZXh0cmFfcXVlcmllcy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgIHF1ZXJpZXMucHVzaChlbC5leHRyYV9xdWVyeSlcbiAgICAgICAgICAgIGxhYmVscy5wdXNoKGVsLmV4dHJhX3NlcmllcylcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbGV0IGNvbG9ycyA9IGQzLnF1YW50aXplKGQzLmludGVycG9sYXRlSGNsKGRhdGFzdG9yeV9kYXRhLmNvbG9yX2NvZGVbMF0sIGRhdGFzdG9yeV9kYXRhLmNvbG9yX2NvZGVbMV0pLCBxdWVyaWVzLmxlbmd0aCk7XG5cbiAgICAgIGxldCBjaF90eXBlID0gJ3NjYXR0ZXInO1xuICAgICAgbGV0IHByb21pc2VzID0gW107XG4gICAgICBxdWVyaWVzLmZvckVhY2goKHEsIGkpID0+IHtcbiAgICAgICAgaWYgKHEubGVuZ3RoKSB7XG4gICAgICAgICAgcHJvbWlzZXMucHVzaChmZXRjaChkYXRhc3RvcnlfZGF0YS5zcGFycWxfZW5kcG9pbnQrJz9xdWVyeT0nK2VuY29kZVVSSUNvbXBvbmVudChxKSxcbiAgICAgICAgICAgIHsgbWV0aG9kOiAnR0VUJywgaGVhZGVyczogeyAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL3NwYXJxbC1yZXN1bHRzK2pzb24nIH19XG4gICAgICAgICAgKSlcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2VzKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVzcG9uc2VzLm1hcChmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBcdFx0cmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICBcdH0pKTt9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdGRhdGEpIHtcbiAgICAgICAgaWYgKHJlc3VsdGRhdGEpIHtcbiAgICAgICAgICByZXN1bHRkYXRhLmZvckVhY2goKGRhdGEsaSkgPT4ge1xuICAgICAgICAgICAgbGV0IGRhdGFzZXQgPSB7fSwgc2VyaWVzRGF0YSA9IFtdLCBzZXJpZXNMYWJlbHMgPSBbXTtcbiAgICAgICAgICAgIGlmIChkYXRhLmhlYWQudmFycy5pbmNsdWRlcygneCcpXG4gICAgICAgICAgICAgJiYgZGF0YS5oZWFkLnZhcnMuaW5jbHVkZXMoJ3knKSkge1xuICAgICAgICAgICAgICBkYXRhLnJlc3VsdHMuYmluZGluZ3MuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB4VmFsdWUgPSBwYXJzZUludChlbGVtZW50LngudmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHlWYWx1ZSA9IHBhcnNlSW50KGVsZW1lbnQueS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50cnlPYmogPSB7IHg6IHhWYWx1ZSwgeTogeVZhbHVlIH1cbiAgICAgICAgICAgICAgICBzZXJpZXNMYWJlbHMucHVzaCh4VmFsdWUpO1xuICAgICAgICAgICAgICAgIHNlcmllc0RhdGEucHVzaChlbnRyeU9iaik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBkYXRhc2V0LmxhYmVsID0gbGFiZWxzW2ldO1xuICAgICAgICAgICAgICBkYXRhc2V0LmRhdGEgPSBzZXJpZXNEYXRhO1xuICAgICAgICAgICAgICBkYXRhc2V0LmJhY2tncm91bmRDb2xvciA9IGNvbG9yc1tpXTtcbiAgICAgICAgICAgICAgZGF0YXNldHMucHVzaChkYXRhc2V0KTtcbiAgICAgICAgICAgfVxuICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhX3NjYXR0ZXIgPSBkYXRhc2V0c1xuICAgICAgICByZXR1cm4gZGF0YXNldHNcblxuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGFzZXRzKSB7XG5cbiAgICAgICAgbGV0IGNoYXJ0SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbmRleCsnX19jaGFydGlkJykuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICBzY2F0dGVyQ2hhcnQgPSBuZXcgQ2hhcnQoY2hhcnRJZCwge1xuICAgICAgICAgICAgdHlwZTogY2hfdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IHtkYXRhc2V0czogZGF0YXNldHN9LFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgcGx1Z2luczoge1xuICAgICAgICAgICAgICAgICAgICBsZWdlbmQ6IHsgcG9zaXRpb246ICd0b3AnLH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7IGRpc3BsYXk6IHRydWUsIHRleHQ6IHRpdGxlIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNjYWxlczoge1xuICAgICAgICAgICAgICAgICAgICB5QXhlczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlTGFiZWw6IHsgZGlzcGxheTogdHJ1ZSwgbGFiZWxTdHJpbmc6IHl9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW5BdFplcm86IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgICAgIHhBeGVzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVMYWJlbDogeyBkaXNwbGF5OiB0cnVlLCBsYWJlbFN0cmluZzogeH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrczogeyBhdXRvU2tpcDogZmFsc2UgfVxuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlID0gc2NhdHRlckNoYXJ0LnRvQmFzZTY0SW1hZ2UoKTtcblxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge2NvbnNvbGUubG9nKGVycm9yKTt9KVxuICAgICAgLmZpbmFsbHkoICgpID0+IHsgfSk7XG4gICAgICAvLyBlbmQgY3BcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHByaW50Q2hhcnQocG9zaXRpb24pIHtcbiAgICAgIGxldCBwcmludF9idG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpbnRfJyArIHBvc2l0aW9uKTtcbiAgICAgIHByaW50X2J0bi5ocmVmID0gaW1hZ2U7XG4gICAgICBwcmludF9idG4uZG93bmxvYWQgPSAnY2hhcnQucG5nJztcbiAgfVxuXG4gIGNvbnN0IGZldGNoUXVlcnkgPSBldmVudCA9PiB7XG5cbiAgICBpZiAocXVlcnkubGVuZ3RoID4gMSkge1xuICAgICAgc2V0U3Bpbm5lcih0cnVlKTtcbiAgICAgIGNoYXJ0RGF0YSA9IFtdLCBjaGFydExhYmVscyA9IFtdXG4gICAgICAvLyBlbXB0eSB0aGUgY2hhcnQgY29udGFpbmVyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbmRleCtcIl9fY2hhcnRjb250YWluZXJcIikuaW5uZXJIVE1MID0gJyZuYnNwOyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbmRleCtcIl9fY2hhcnRjb250YWluZXJcIikuaW5uZXJIVE1MID0gJzxjYW52YXMgaWQ9XCInK2luZGV4KydfX2NoYXJ0aWRcIj48L2NhbnZhcz4nO1xuXG4gICAgICBmZXRjaChkYXRhc3RvcnlfZGF0YS5zcGFycWxfZW5kcG9pbnQrJz9xdWVyeT0nK2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSksXG4gICAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL3NwYXJxbC1yZXN1bHRzK2pzb24nIH1cbiAgICAgICAgfVxuICAgICAgKS50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgIHNldFNwaW5uZXIoZmFsc2UpO1xuICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCIvbW9kaWZ5L1wiKSA+IC0xKSB7XG4gICAgICAgICAgIGFsZXJ0RXJyb3IoZGF0YSxjb3VudCxjaGFydCk7XG4gICAgICAgICB9XG4gICAgICAgICBpZiAoY2hhcnQgPT0gJ2JhcmNoYXJ0JyB8fCBjaGFydCA9PSAnbGluZWNoYXJ0JyB8fCBjaGFydCA9PSAnZG91Z2hudXRjaGFydCcgfHwgY2hhcnQgPT0gJ3NjYXR0ZXJwbG90JyApIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmhlYWQudmFycy5sZW5ndGggPT09IDEgJiYgZGF0YS5oZWFkLnZhcnMuaW5jbHVkZXMoJ2xhYmVsJykpe1xuICAgICAgICAgICAgICAgbGV0IGxhYmVscyA9IFtdO1xuICAgICAgICAgICAgICAgZGF0YS5yZXN1bHRzLmJpbmRpbmdzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgIGxldCBsYWIgPSAoZWxlbWVudC5sYWJlbC52YWx1ZSA9PT0gJycpID8gJ1Vua25vd24nOiBlbGVtZW50LmxhYmVsLnZhbHVlO1xuICAgICAgICAgICAgICAgICBsYWJlbHMucHVzaChsYWIpXG4gICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgIHZhciBlbENvdW50ID0gY291bnRfZ3JvdXBpbmcobGFiZWxzKTtcbiAgICAgICAgICAgICAgIGNoYXJ0RGF0YSA9IE9iamVjdC52YWx1ZXMoZWxDb3VudCk7XG4gICAgICAgICAgICAgICBjaGFydExhYmVscyA9IE9iamVjdC5rZXlzKGVsQ291bnQpO1xuICAgICAgICAgICAgIH1cblxuICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICBpZiAoZGF0YS5oZWFkLnZhcnMuaW5jbHVkZXMoJ2NvdW50JylcbiAgICAgICAgICAgICAgJiYgZGF0YS5oZWFkLnZhcnMuaW5jbHVkZXMoJ2xhYmVsJylcbiAgICAgICAgICAgICAgJiYgKGNoYXJ0ID09ICdiYXJjaGFydCcgfHwgY2hhcnQgPT0gJ2xpbmVjaGFydCcgfHwgY2hhcnQgPT0gJ2RvdWdobnV0Y2hhcnQnKSkge1xuICAgICAgICAgICAgICAgZGF0YS5yZXN1bHRzLmJpbmRpbmdzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgIGNoYXJ0RGF0YS5wdXNoKGVsZW1lbnQuY291bnQudmFsdWUpXG4gICAgICAgICAgICAgICAgIGNoYXJ0TGFiZWxzLnB1c2goZWxlbWVudC5sYWJlbC52YWx1ZSlcbiAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAvLyBzY2F0dGVycGxvdCwgb25lIHNlcmllc1xuICAgICAgICAgICAgIGlmIChkYXRhLmhlYWQudmFycy5pbmNsdWRlcygneCcpXG4gICAgICAgICAgICAgICYmIGRhdGEuaGVhZC52YXJzLmluY2x1ZGVzKCd5JylcbiAgICAgICAgICAgICAgJiYgY2hhcnQgPT0gJ3NjYXR0ZXJwbG90Jykge1xuICAgICAgICAgICAgICAgZGF0YS5yZXN1bHRzLmJpbmRpbmdzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgIGNvbnN0IHhWYWx1ZSA9IHBhcnNlSW50KGVsZW1lbnQueC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgIGNvbnN0IHlWYWx1ZSA9IHBhcnNlSW50KGVsZW1lbnQueS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5T2JqID0geyB4OiB4VmFsdWUsIHk6IHlWYWx1ZSB9XG4gICAgICAgICAgICAgICAgIGNoYXJ0TGFiZWxzLnB1c2goeFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgY2hhcnREYXRhLnB1c2goZW50cnlPYmopO1xuICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgfVxuXG4gICAgICAgICAgIH1cblxuICAgICAgICAgICBpZiAoY2hhcnREYXRhLmxlbmd0aCAmJiBjaGFydExhYmVscy5sZW5ndGgpIHtcbiAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFuZCBoZXJlXCIsaW5kZXgpO1xuICAgICAgICAgICAgIGxldCBlbF9pZCAgPSBpbmRleCsnX19jaGFydGlkJyAsXG4gICAgICAgICAgICAgICAgY2hfdHlwZSA9IGNoYXJ0ICxcbiAgICAgICAgICAgICAgICBjaF9zZXJpZXMgPSBzZXJpZXMsXG4gICAgICAgICAgICAgICAgY29sb3IgICA9IGRhdGFzdG9yeV9kYXRhLmNvbG9yX2NvZGVbMF0sXG4gICAgICAgICAgICAgICAgeCAgICAgICA9IHNlcmllc1ggLFxuICAgICAgICAgICAgICAgIHkgICAgICAgPSBzZXJpZXNZIDtcbiAgICAgICAgICAgICAgYmFzaWNfY2hhcnQoZWxfaWQsIGNoX3R5cGUsIGNoX3NlcmllcywgY29sb3IsIGNoYXJ0RGF0YSwgY2hhcnRMYWJlbHMsIHgsIHksIGV4dHJhcylcbiAgICAgICAgICAgfVxuICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpOyBhbGVydChcIkNoYXJ0OiB0aGVyZSBpcyBhbiBlcnJvciBpbiB0aGUgcXVlcnlcIik7IHNldFNwaW5uZXIoZmFsc2UpO30pXG4gICAgICAgLmZpbmFsbHkoICgpID0+IHsgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gcHJldmlld1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgIGZldGNoUXVlcnkoKTtcblxuICAgICAkKFwidGV4dGFyZWFcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImhlaWdodDpcIiArICh0aGlzLnNjcm9sbEhlaWdodCkgKyBcInB4O292ZXJmbG93LXk6aGlkZGVuO1wiKTtcbiAgICAgfSkub24oXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSAwO1xuICAgICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gKHRoaXMuc2Nyb2xsSGVpZ2h0KSArIFwicHhcIjtcbiAgICAgfSk7XG5cbiAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCIvbW9kaWZ5L1wiKSA+IC0xKSB7XG4gICAgICAgbGV0IGNoX3R5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbmRleCsnX19jaGFydF90eXBlJykudmFsdWU7XG4gICAgICAgYWRkX3Nlcmllc19idG4oaW5kZXgsY2hfdHlwZSk7XG4gICAgICAgZG91Z2hudXRfZmllbGRzKGluZGV4LGNoX3R5cGUpO1xuICAgICB9XG4gIH0sIFtdKTtcblxuICBpZiAoZXh0cmFzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHRyYXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGV4dHJhUXVlcmllc0JveC5wdXNoKDxFeHRyYVNlcmllc1xuICAgICAgICAgIGluZGV4RXh0cmE9e2l9IGtleT17Z2VuZXJhdGVLZXkoZXh0cmFzW2ldLmV4dHJhX3F1ZXJ5KStpfVxuICAgICAgICAgIGluZGV4X3BhcmVudD17aW5kZXh9IHNldEV4dHJhcz17c2V0RXh0cmFzfSBleHRyYXM9e2V4dHJhc30vPilcbiAgICB9XG4gIH1cbiAgLy8gbW9kYWwgZXhhbXBsZXNcblxuICAvLyBXWVNJV1lHOiByZW5kZXIgY29tcG9uZW50IGFuZCBwcmV2aWV3XG4gIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKFwiL21vZGlmeS9cIikgPiAtMSkge1xuICAgIHRyeSB7XG4gICAgcmV0dXJuIChcbiAgICA8ZGl2IGlkPXtpbmRleCtcIl9fYmxvY2tfZmllbGRcIn0gY2xhc3NOYW1lPVwiYmxvY2tfZmllbGRcIj5cbiAgICB7c3Bpbm5lciAmJiAoPHNwYW4gaWQ9J2xvYWRlcicgY2xhc3NOYW1lPSdsZHMtZHVhbC1yaW5nIG92ZXJsYXknPjwvc3Bhbj4pfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWJib25cIj48L2Rpdj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJibG9ja190aXRsZVwiPkFkZCBhIGNoYXJ0PC9oND5cbiAgICAgIDxTb3J0Q29tcG9uZW50XG4gICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgc29ydENvbXBvbmVudFVwPXtzb3J0Q29tcG9uZW50VXB9XG4gICAgICAgIHNvcnRDb21wb25lbnREb3duPXtzb3J0Q29tcG9uZW50RG93bn1cbiAgICAgICAga2V5PXt1bmlxdWVfa2V5fSAvPlxuICAgICAgPFJlbW92ZUNvbXBvbmVudFxuICAgICAgICBpbmRleD17aW5kZXh9XG4gICAgICAgIHJlbW92ZUNvbXBvbmVudD17cmVtb3ZlQ29tcG9uZW50fVxuICAgICAgICBrZXk9e3VuaXF1ZV9rZXl9IC8+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJibG9ja190aXRsZVwiPnt0aXRsZX08L2gzPlxuICAgICAgICA8ZGl2IGlkPXtpbmRleCtcIl9fY2hhcnRjb250YWluZXJcIn0gY2xhc3NOYW1lPSdjaGFydC1jb250YWluZXInPlxuICAgICAgICAgIDxjYW52YXMgaWQ9e2luZGV4K1wiX19jaGFydGlkXCJ9PjwvY2FudmFzPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZm9ybS1ncm91cCcgaWQ9e2luZGV4K1wiX19mb3JtX2dyb3VwXCJ9PlxuICAgICAgICBcdDxsYWJlbCBodG1sRm9yPSdleGFtcGxlRm9ybUNvbnRyb2xTZWxlY3QyJz5DaGFydCBUeXBlPC9sYWJlbD5cbiAgXHRcdFx0XHQ8c2VsZWN0IHZhbHVlPXtjaGFydH0gbmFtZT17aW5kZXgrXCJfX2NoYXJ0X3R5cGVcIn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT0nZm9ybS1jb250cm9sJ1xuICAgICAgICAgICAgaWQ9e2luZGV4K1wiX19jaGFydF90eXBlXCJ9XG4gICAgICAgICAgICBvbkNoYW5nZT17Y2hhcnRDaGFuZ2V9PlxuICBcdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT1cImxpbmVjaGFydFwiIG5hbWU9e2luZGV4K1wiX19saW5lY2hhcnRcIn0gaWQ9e2luZGV4K1wiX19saW5lY2hhcnRcIn0+bGluZWNoYXJ0PC9vcHRpb24+XG4gIFx0XHRcdFx0XHQ8b3B0aW9uIHZhbHVlPVwiYmFyY2hhcnRcIiBuYW1lPXtpbmRleCtcIl9fYmFyY2hhcnRcIn0gaWQ9e2luZGV4K1wiX19iYXJjaGFydFwifT5iYXJjaGFydDwvb3B0aW9uPlxuICBcdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT1cImRvdWdobnV0Y2hhcnRcIiBuYW1lPXtpbmRleCtcIl9fZG91Z2hudXRjaGFydFwifSBpZD17aW5kZXgrXCJfX2RvdWdobnV0Y2hhcnRcIn0+ZG91Z2hudXRjaGFydDwvb3B0aW9uPlxuICBcdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT1cInNjYXR0ZXJwbG90XCIgbmFtZT17aW5kZXgrXCJfX3NjYXR0ZXJwbG90XCJ9IGlkPXtpbmRleCtcIl9fc2NhdHRlcnBsb3RcIn0+c2NhdHRlcnBsb3Q8L29wdGlvbj5cbiAgXHRcdFx0XHQ8L3NlbGVjdD5cblxuICAgICAgICAgIDxhIGhyZWY9JyMnIGNsYXNzTmFtZT0nZm9ybS10ZXh0J1xuICAgICAgICAgICAgICAgIHJvbGU9J2J1dHRvbidcbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT0nbW9kYWwnXG4gICAgICAgICAgICAgICAgZGF0YS10YXJnZXQ9JyNjaGFydHNNb2RhbExvbmcnPkxlYXJuIG1vcmUgYWJvdXQgcXVlcmllcyBhbmQgY2hhcnRzPC9hPjxici8+XG5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj0nbGFyZ2VJbnB1dCc+Q2hhcnQgVGl0bGU8L2xhYmVsPlxuICAgIFx0XHRcdDxpbnB1dCBuYW1lPXtpbmRleCtcIl9fY2hhcnRfdGl0bGVcIn1cbiAgICAgICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgIGlkPXtpbmRleCtcIl9fY2hhcnRfdGl0bGVcIn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGl0bGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXt0aXRsZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nVGhlIHRpdGxlIG9mIHRoZSBjYXJ0JyByZXF1aXJlZD5cbiAgICAgICAgICA8L2lucHV0PlxuXG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2xhcmdlSW5wdXQnPlNQQVJRTCBxdWVyeTwvbGFiZWw+XG4gICAgICAgIFx0PHRleHRhcmVhIG5hbWU9e2luZGV4K1wiX19jaGFydF9xdWVyeVwifSByb3dzPVwiMVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtxdWVyeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtxdWVyeX1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgICAgICAgaWQ9e2luZGV4K1wiX19jaGFydF9xdWVyeVwifVxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e2ZldGNoUXVlcnl9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdBIFNQQVJRTCBxdWVyeSB0aGF0IHJldHVybnMgdHdvIHZhcmlhYmxlcycgcmVxdWlyZWQ+XG4gICAgICAgICAgPC90ZXh0YXJlYT5cblxuICAgICAgICAgIDxkaXYgaWQ9e2luZGV4K1wiX19zZXJpZXNfbGFiZWxcIn0gY2xhc3NOYW1lPSdmb3JtLWdyb3VwJ1xuICAgICAgICAgICAgICBzdHlsZT17e2Rpc3BsYXk6ICdmbGV4J319PlxuICAgICAgICAgICAgPGxhYmVsPlNlcmllcyBsYWJlbDwvbGFiZWw+XG4gICAgXHRcdFx0XHQ8aW5wdXQgc3R5bGU9e3tkaXNwbGF5OiAnYmxvY2snfX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3Nlcmllc0NoYW5nZX1cbiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtzZXJpZXN9XG4gICAgICAgICAgICAgIHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgIG5hbWU9e2luZGV4K1wiX19jaGFydF9zZXJpZXNcIn1cbiAgICAgICAgICAgICAgaWQ9e2luZGV4K1wiX19jaGFydF9zZXJpZXNcIn1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J1RoZSBsYWJlbCBvZiB0aGUgZGF0YSBzZXJpZXMnPlxuICAgICAgICAgICAgICA8L2lucHV0PlxuICAgICAgICAgIDwvZGl2PlxuXG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZm9ybS1ncm91cCByb3cnXG4gICAgICAgICAgICAgIGlkPXtpbmRleCtcIl9fYXhlc19sYWJlbFwifVxuICAgICAgICAgICAgICBzdHlsZT17e2Rpc3BsYXk6ICdmbGV4J319PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC02Jz5cbiAgICAgICAgICAgICAgPGxhYmVsPnggbGFiZWw8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXQgbmFtZT17aW5kZXgrXCJfX2NoYXJ0X2xhYmVsX3hcIn1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT0ndGV4dCcgaWQ9e2luZGV4K1wiX19jaGFydF9sYWJlbF94XCJ9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtzZXJpZXNYQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3Nlcmllc1h9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdUaGUgbGFiZWwgb2YgdGhlIHggYXhpcyc+XG4gICAgICAgICAgICAgIDwvaW5wdXQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtNic+XG4gICAgICAgICAgICAgIDxsYWJlbD55IGxhYmVsPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGlucHV0IG5hbWU9e2luZGV4K1wiX19jaGFydF9sYWJlbF95XCJ9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9J3RleHQnIGlkPXtpbmRleCtcIl9fY2hhcnRfbGFiZWxfeVwifVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17c2VyaWVzWUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtzZXJpZXNZfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nVGhlIGxhYmVsIG9mIHRoZSB5IGF4aXMnPlxuICAgICAgICAgICAgICA8L2lucHV0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGlkPXtpbmRleCtcIl9fb3BlcmF0aW9uMVwifT5cbiAgICAgICAgICAgIDxsYWJlbD5PcGVyYXRpb25zPC9sYWJlbD48YnIvPlxuICAgIFx0XHRcdFx0PGlucHV0IHR5cGU9J2NoZWNrYm94J1xuICAgICAgICAgICAgICAgICAgaWQ9J2NvdW50J1xuICAgICAgICAgICAgICAgICAgbmFtZT17aW5kZXgrXCJfX29wZXJhdGlvbjFcIn1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtjb3VudENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17Y291bnR9PlxuICAgICAgICAgICAgPC9pbnB1dD5cbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPSdjb3VudCc+Q291bnQ8L2xhYmVsPlxuICAgICAgICAgIDwvZGl2PlxuXG4gIFx0XHRcdFx0ey8qPGlucHV0IHR5cGU9J2NoZWNrYm94J1xuICAgICAgICAgICAgICAgIGlkPSdzb3J0J1xuICAgICAgICAgICAgICAgIG5hbWU9e2luZGV4K1wiYWN0aW9uMlwifVxuICAgICAgICAgICAgICAgIHZhbHVlPSdzb3J0Jz5cbiAgXHRcdFx0XHQ8bGFiZWwgaHRtbEZvcj0nY291bnQnPlNvcnQ8L2xhYmVsPiovfVxuXG4gICAgICAgICAgPGEgaWQ9e2luZGV4K1wiX19xdWVyeS1idG5cIn1cbiAgICAgICAgICAgIHN0eWxlPXt7ZGlzcGxheTogJ25vbmUnfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT0nYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ib3JkZXInXG4gICAgICAgICAgICBvbkNsaWNrPXtleHRyYXNDaGFuZ2V9XG4gICAgICAgICAgICBleHRyYT0nVHJ1ZSdcbiAgICAgICAgICAgIG5hbWU9e2luZGV4K1wiX19xdWVyeS1idG5cIn0+QWRkIGEgc2VyaWVzPC9hPlxuICAgICAgICAgIHtleHRyYVF1ZXJpZXNCb3h9XG4gIFx0XHRcdDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwgZmFkZVwiXG4gICAgICAgICAgICBpZD1cImNoYXJ0c01vZGFsTG9uZ1wiXG4gICAgICAgICAgICB0YWJJbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiXG4gICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJjaGFydHNNb2RhbExvbmdUaXRsZVwiXG4gICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLWxnXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50IGNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBpZD1cImNoYXJ0c01vZGFsTG9uZ1RpdGxlXCIgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgQ2hvb3NlIHRoZSByaWdodCBjaGFydCBmb3IgeW91ciBxdWVyeTwvaDQ+XG5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DaGVjayB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGNoYXJ0cyB0byBzZWUgd2hpY2ggb25lIGZpdHMgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhIHlvdSB3YW50IHRvIHNob3cuIFBheSBwYXJ0aWN1bGFyIGF0dGVudGlvbiB0byB0aGUgbmFtaW5nIGNvbnZlbnRpb25zIG9mIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzLiBUbyBzZWUgdGhlIHByZXZpZXcgb2YgdGhlIGNoYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3IgdG8gcmVjZWl2ZSBhbiBhbGVydCBvZiBtaXN0YWtlcyBpbiB0aGUgcXVlcnksIGJ1dCB0aGlzIGlzIGhvcGVmdWxseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3QgeW91ciBjYXNlISkgbW92ZSB0aGUgbW91c2Ugb3V0IG9mIHRoZSB0ZXh0IGFyZWEuPC9wPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiYmxvY2tfdGl0bGVcIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtc2lnbmFsXCI+PC9pPiBCYXIgQ2hhcnQ8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5BIGJhciBjaGFydCBpcyB1c2VmdWwgdG8gbWFrZSBjb21wYXJpc29ucy4gVGhlIGhvcml6b250YWwgKHgpIGF4aXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heSByZXByZXNlbnQgY2F0ZWdvcmllcyBvciBudW1iZXJzL29yZGluYWxzLiBUaGUgdmVydGljYWwgKHkpIGF4aXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcHJlc2VudHMgYSBudW1lcmljIHZhbHVlIChlLmcuIGEgY291bnRpbmcpLiBUbyBidWlsZCBhIGJhciBjaGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlvdSBjYW4gcGVyZm9ybSB0d28gdHlwZXMgb2YgcXVlcmllczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjEuIGEgPHN0cm9uZz5ub24tYWdncmVnYXRpbmc8L3N0cm9uZz4gcXVlcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0IHJldHVybnMgYSB2YXJpYWJsZSBjYWxsZWQgPGNvZGU+e1wiP2xhYmVsXCJ9PC9jb2RlPiBhbmQgZmxhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBcIjxzdHJvbmc+Q291bnQ8L3N0cm9uZz5cIiBjaGVja2JveC4gPGNvZGU+e1wiP2xhYmVsXCJ9PC9jb2RlPiBjYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSBjYXRlZ29yaWNhbCBvciBudW1lcmljIGFuZCB3aWxsIGJlIHNob3duIG9uIHRoZSB4IGF4aXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZSBjbGFzc05hbWU9XCJxdWVyeS1lZ1wiPntcIlNFTEVDVCA/bGFiZWxcIn08YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiV0hFUkUge1wifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCI/ZW50cnkgP3AgPGh0dHBzOi8vdzNpZC5vcmcvbXVzb3cvdm9jYWIvcmVwb3NpdG9yeT4gLlwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCI/ZW50cnkgPGh0dHBzOi8vc2NoZW1hLm9yZy9hdWRpZW5jZT4gP2F1ZGllbmNlIC5cIn08YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiP2F1ZGllbmNlIHJkZnM6bGFiZWwgP2xhYmVsIC4gIH1cIn08L2NvZGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4yLiBhbiA8c3Ryb25nPmFnZ3JlZ2F0aW5nPC9zdHJvbmc+IHF1ZXJ5IHRoYXQgcmV0dXJucyB0d29cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlczogPGNvZGU+e1wiP2xhYmVsXCJ9PC9jb2RlPiAoY2F0ZWdvcmljYWwgb3IgbnVtZXJpY2FsIHZhbHVlcyBvbiB0aGUgeCBheGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIDxjb2RlPntcIj9jb3VudFwifTwvY29kZT4gKG51bWVyaWNhbCB2YWx1ZXMgb24gdGhlIHkgYXhpcykuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInF1ZXJ5LWVnXCI+e1wiUFJFRklYIG11c293OiA8aHR0cHM6Ly93M2lkLm9yZy9tdXNvdy92b2NhYi8+XCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJTRUxFQ1QgP2xhYmVsIChDT1VOVCg/Y29udGVudCkgQVMgP2NvdW50KSBcIn08YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIldIRVJFIHsgXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCIgIHs/Y29udGVudCA/cCBtdXNvdzpyZXBvc2l0b3J5IC4gXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCIgIG11c293OnJlcG9zaXRvcnkgcmRmczpsYWJlbCA/bGFiZWwgLn0gXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCIgIFVOSU9OIHs/Y29udGVudCA/cCBtdXNvdzpjYXRhbG9ndWUgLiBcIn08YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIiAgbXVzb3c6Y2F0YWxvZ3VlIHJkZnM6bGFiZWwgP2xhYmVsIC59IFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiICBVTklPTiB7P2NvbnRlbnQgP3AgbXVzb3c6ZGF0YXNldCAuIFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiICBtdXNvdzpkYXRhc2V0IHJkZnM6bGFiZWwgP2xhYmVsIC59ICBcIn08YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIn0gR1JPVVAgQlkgP2xhYmVsXCJ9PC9jb2RlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImJsb2NrX3RpdGxlXCI+PGkgY2xhc3NOYW1lPVwiZmFzIGZhLWNoYXJ0LWxpbmVcIj48L2k+IExpbmUgQ2hhcnQ8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5MaW5lIGNoYXJ0cyBoZWxwIHRvIHZpc3VhbGlzZSB0cmVuZHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW1pbGFybHkgdG8gYmFyIGNoYXJ0cywgdGhlIGhvcml6b250YWwgKHgpIGF4aXMgaW5jbHVkZXMgbnVtZXJpYyBvciBvcmRpbmFsIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSB2ZXJ0aWNhbCAoeSkgYXhpcyBpbmNsdWRlcyBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvIGJ1aWxkIGEgbGluZSBjaGFydCwgeW91IGNhbiBwZXJmb3JtIHR3byB0eXBlcyBvZiBxdWVyaWVzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjEuIGEgPHN0cm9uZz5ub24tYWdncmVnYXRpbmc8L3N0cm9uZz4gcXVlcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0IHJldHVybnMgYSB2YXJpYWJsZSBjYWxsZWQgPGNvZGU+e1wiP2xhYmVsXCJ9PC9jb2RlPiAodGhhdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuIGluY2x1ZGUgY2F0ZWdvcmljYWwsIG51bWVyaWMgb3Igb3JkaW5hbCB2YWx1ZXMpIGFuZCBmbGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIFwiPHN0cm9uZz5Db3VudDwvc3Ryb25nPlwiIGNoZWNrYm94LiBGb3IgaW5zdGFuY2U6PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicXVlcnktZWdcIj57XCJTRUxFQ1QgP2xhYmVsIFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJXSEVSRSB7IFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJ7IFNFTEVDVCA/dGltZSAoREFZKD90aW1lKSBBUyA/bGFiZWwpIFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJXSEVSRSB7ID9lbnRyeSA8aHR0cDovL3d3dy53My5vcmcvbnMvcHJvdiNnZW5lcmF0ZWRBdFRpbWU+ID90aW1lIC4gXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIn0gfSB9XCJ9PC9jb2RlPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjIuIGFuIDxzdHJvbmc+YWdncmVnYXRpbmc8L3N0cm9uZz4gcXVlcnkgdGhhdCByZXR1cm5zIHR3b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlczogPGNvZGU+e1wiP2xhYmVsXCJ9PC9jb2RlPiAobnVtZXJpY2FsIG9yIG9yZGluYWwgdmFsdWVzIG9uIHRoZSB4IGF4aXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIDxjb2RlPntcIj9jb3VudFwifTwvY29kZT4gKG51bWVyaWNhbCB2YWx1ZXMgb24gdGhlIHkgYXhpcykuIEZvciBpbnN0YW5jZTo8L3A+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJxdWVyeS1lZ1wiPntcIlNFTEVDVCA/bGFiZWwgKENPVU5UKD9sYWJlbCkgQVMgP2NvdW50KSBcIn08YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIldIRVJFIHsgXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJ7IFNFTEVDVCA/dGltZSAoREFZKD90aW1lKSBBUyA/bGFiZWwpIFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiV0hFUkUgeyA/ZW50cnkgPGh0dHA6Ly93d3cudzMub3JnL25zL3Byb3YjZ2VuZXJhdGVkQXRUaW1lPiA/dGltZSAuIFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wifSB9IH0gXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJHUk9VUCBCWSA/bGFiZWwgXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJPUkRFUiBCWSA/bGFiZWxcIn08L2NvZGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiYmxvY2tfdGl0bGVcIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtY2hhcnQtcGllXCI+PC9pPiBEb3VnaG51dCBDaGFydDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RG91Z2hudXQgY2hhcnRzIGFyZSB1c2VkIHRvIGV4cHJlc3MgYSBcInBhcnQtdG8td2hvbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb24sIHdoZXJlIGFsbCB0b2dldGhlciBzbGljZXMgb2YgdGhlIHBpZSByZXByZXNlbnQgMTAwJS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvIGJ1aWxkIGEgZG91Z2hudXQgY2hhcnQsIHlvdSBjYW4gcGVyZm9ybSB0d28gdHlwZXMgb2YgcXVlcmllczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4xLiBhIDxzdHJvbmc+bm9uLWFnZ3JlZ2F0aW5nPC9zdHJvbmc+IHF1ZXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdCByZXR1cm5zIGEgdmFyaWFibGUgY2FsbGVkIDxjb2RlPntcIj9sYWJlbFwifTwvY29kZT4gKHRoZSBjYXRlZ29yaWVzKSBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnIHRoZSBcIjxzdHJvbmc+Q291bnQ8L3N0cm9uZz5cIiBjaGVja2JveC4gRm9yIGluc3RhbmNlOjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZSBjbGFzc05hbWU9XCJxdWVyeS1lZ1wiPntcIlNFTEVDVCA/bGFiZWwgXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJXSEVSRSB7IFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiP2VudHJ5ID9wIDxodHRwczovL3czaWQub3JnL211c293L3ZvY2FiL3JlcG9zaXRvcnk+IC4gXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCI/ZW50cnkgPGh0dHBzOi8vc2NoZW1hLm9yZy9hdWRpZW5jZT4gP2F1ZGllbmNlIC4gXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCI/YXVkaWVuY2UgcmRmczpsYWJlbCA/bGFiZWwgLiB9XCJ9PC9jb2RlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Mi4gYW4gPHN0cm9uZz5hZ2dyZWdhdGluZzwvc3Ryb25nPiBxdWVyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQgcmV0dXJucyB0d28gdmFyaWFibGVzOiA8Y29kZT57XCI/bGFiZWxcIn08L2NvZGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNhdGVnb3JpY2FsL251bWVyaWNhbCB2YWx1ZXMgdGhhdCByZXByZXNlbnRzIGNhdGVnb3JpZXMpIGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPntcIj9jb3VudFwifTwvY29kZT4gKGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYWNoIHNsaWNlKS4gRm9yIGluc3RhbmNlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlIGNsYXNzTmFtZT1cInF1ZXJ5LWVnXCI+e1wiU0VMRUNUID9sYWJlbCAoQ09VTlQoP2xhYmVsKSBBUyA/Y291bnQpIFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIldIRVJFIHsgXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiP2VudHJ5ID9wIDxodHRwczovL3czaWQub3JnL211c293L3ZvY2FiL3JlcG9zaXRvcnk+IC4gXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiP2VudHJ5IDxodHRwczovL3NjaGVtYS5vcmcvYXVkaWVuY2U+ID9hdWRpZW5jZSAuIFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIj9hdWRpZW5jZSByZGZzOmxhYmVsID9sYWJlbCAuIH0gXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiR1JPVVAgQlkgP2xhYmVsIE9SREVSIEJZID9sYWJlbFwifTwvY29kZT5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImJsb2NrX3RpdGxlXCI+PGkgY2xhc3NOYW1lPVwiZmFyIGZhLWNoYXJ0LXNjYXR0ZXJcIj48L2k+IFNjYXR0ZXIgUGxvdDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U2NhdHRlciBwbG90cyBoZWxwIHRvIHVuZGVyc3RhbmQgd2hldGhlciB0aGVyZSBpcyBhIGNvcnJlbGF0aW9uIGJldHdlZW4gdHdvIHZhcmlhYmxlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGEgcG9pbnRzIGhhdmUgdHdvIHZhcmlhYmxlcyBkZXRlcm1pbmluZyB0aGVpciBwb3NpdGlvbiBvbiB0aGUgYXhlcyAoeCwgeSkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUbyBidWlsZCBhIHNjYXR0ZXJwbG90LCB5b3UgY2FuIHBlcmZvcm0gYSBxdWVyeSB0aGF0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5zIHR3byBudW1lcmljYWwgdmFyaWFibGVzIGNhbGxlZCA8Y29kZT57XCI/eFwifTwvY29kZT4gYW5kIDxjb2RlPntcIj95XCJ9PC9jb2RlPi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Gb3IgaW5zdGFuY2UsIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkgdG8gV2lraWRhdGEgcmV0cmlldmUgVS5TLiBib3ggb2ZmaWNlIHJldmVudWUgb2YgbW92aWVzICh4LWF4aXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCB0aGVpciByZXZpZXcgc2NvcmUgaW4gUm90dGVuIFRvbWF0b2VzICh5LWF4aXMpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZSBjbGFzc05hbWU9XCJxdWVyeS1lZ1wiPntcIlBSRUZJWCB3ZHQ6IDxodHRwOi8vd3d3Lndpa2lkYXRhLm9yZy9wcm9wL2RpcmVjdC8+IFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiUFJFRklYIHdkOiA8aHR0cDovL3d3dy53aWtpZGF0YS5vcmcvZW50aXR5Lz4gXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJQUkVGSVggcDogPGh0dHA6Ly93d3cud2lraWRhdGEub3JnL3Byb3AvPiBcIn08YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIlBSRUZJWCBwczogPGh0dHA6Ly93d3cud2lraWRhdGEub3JnL3Byb3Avc3RhdGVtZW50Lz4gXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJQUkVGSVggcHE6IDxodHRwOi8vd3d3Lndpa2lkYXRhLm9yZy9wcm9wL3F1YWxpZmllci8+IFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiU0VMRUNUIERJU1RJTkNUID95ID94IFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiV0hFUkUgeyAgP2l0ZW0gd2R0OlAzMSB3ZDpRMTE0MjQuICBcIn08YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIj9pdGVtIHA6UDQ0NCA/cmV2aWV3X3N0YXRlbWVudCAuICBcIn08YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIj9yZXZpZXdfc3RhdGVtZW50IHBzOlA0NDQgP3kgLiAgXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCI/cmV2aWV3X3N0YXRlbWVudCBwcTpQNDQ3IHdkOlExMDU1ODQgLiAgXCJ9PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCI/cmV2aWV3X3N0YXRlbWVudCBwcTpQNDU5IHdkOlExMDg0MDMzOTMgLiBcIn08YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIiA/aXRlbSBwOlAyMTQyID9ib3hfb2ZmaWNlX3N0YXRlbWVudCAuIFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiID9ib3hfb2ZmaWNlX3N0YXRlbWVudCBwczpQMjE0MiA/eCAuIFwifTxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiID9ib3hfb2ZmaWNlX3N0YXRlbWVudCBwcTpQMzAwNSB3ZDpRMzAgLn1cIn08L2NvZGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRvIHZpc3VhbGlzZSBtdWx0aXBsZSBkYXRhIHNlcmllcywgY2xpY2sgb24gPGNvZGU+QWRkIGEgc2VyaWVzPC9jb2RlPiBhbmQgYWRkIG1vcmUgU1BBUlFMIHF1ZXJpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaCByZXR1cm5pbmcgdHdvIGxpc3RzIG9mIG51bWVyaWNhbCB2YWx1ZXMgY2FsbGVkIDxjb2RlPntcIj94XCJ9PC9jb2RlPiBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+e1wiP3lcIn08L2NvZGU+LiBEYXRhc2V0cyBhcmUgZGlzdGluZ3Vpc2hlZCBieSBjb2xvci48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWRhbmdlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5DbG9zZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgey8qIEVORCBNT0RBTCAqL31cblxuICAgIDwvZGl2PlxuICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgcmV0dXJuIDxFcnJvckhhbmRsZXIgZXJyb3I9e2Vycm9yfSAvPiB9XG4gIH0gZWxzZSB7XG4gICAgLy8gRmluYWwgc3Rvcnk6IHJlbmRlciBwcmV2aWV3XG4gICAgdHJ5IHtcbiAgICAgIGxldCBxID0gJyc7XG4gICAgICBpZiAoIWV4dHJhcyB8fCAhZXh0cmFzLmxlbmd0aCkgeyBxID0gJzxwPicrcXVlcnkrJzwvcD4nfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHEgKz0gJzxwPicrcXVlcnkrJzwvcD48YnIvPic7XG4gICAgICAgIGV4dHJhcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgIHEgKz0gJzxwPicrZWxlbWVudC5leHRyYV9xdWVyeSsnPC9wPjxici8+PGJyLz4nO1xuICAgICAgICB9KSA7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZU1hcmt1cCgpIHsgcmV0dXJuIHtfX2h0bWw6IHF9O31cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImJsb2NrX3RpdGxlXCI+e3RpdGxlfTwvaDM+XG4gICAgICAgICAgPGlucHV0IGlkPXtpbmRleCtcIl9fY2hhcnRfdHlwZVwifSB0eXBlPSdoaWRkZW4nIHZhbHVlPXtjaGFydH0+PC9pbnB1dD5cbiAgICAgICAgICA8ZGl2IGlkPXtpbmRleCtcIl9fY2hhcnRjb250YWluZXJcIn0gY2xhc3NOYW1lPSdjaGFydC1jb250YWluZXInPlxuICAgICAgICAgICAgPGNhbnZhcyBpZD17aW5kZXgrXCJfX2NoYXJ0aWRcIn0+PC9jYW52YXM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJleHBvcnRjaGFydCBjYXJkLXRvb2xzIGNvbC1tZC0xMiBjb2wtc20tMTJcIj5cbiAgICAgICAgICAgIDxhIGlkPXtcImV4cG9ydF9cIitpbmRleH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1pbmZvIGJ0bi1ib3JkZXIgYnRuLXJvdW5kIGJ0bi1zbSBtci0yXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZXhwb3J0Q2hhcnQoaW5kZXgpfT5cbiAgICAgICAgICAgICAgRW1iZWRcbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDxhIGlkPXtcInByaW50X1wiK2luZGV4fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWluZm8gYnRuLWJvcmRlciBidG4tcm91bmQgYnRuLXNtIG1yLTJcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBwcmludENoYXJ0KGluZGV4KX0+XG4gICAgICAgICAgICAgIFNhdmVcbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDxhIGhyZWY9JyMnIGlkPXtpbmRleCtcIl9xdWVyeV90b29sdGlwXCJ9XG4gICAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT0nbW9kYWwnXG4gICAgICAgICAgICAgIGRhdGEtdGFyZ2V0PXsnIycraW5kZXgrJ19xdWVyeSd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4taW5mbyBidG4tYm9yZGVyIGJ0bi1yb3VuZCBidG4tc21cIj5cbiAgICAgICAgICAgICAgUXVlcnlcbiAgICAgICAgICAgIDwvYT5cblxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsIGZhZGVcIlxuICAgICAgICAgICAgICAgIGlkPXtpbmRleCsnX3F1ZXJ5J31cbiAgICAgICAgICAgICAgICB0YWJJbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PXtpbmRleCsnX3F1ZXJ5dGl0bGUnfVxuICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLWxnXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudCBjYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBpZD17JyMnK2luZGV4KydfcXVlcnl0aXRsZSd9IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTUEFSUUwgcXVlcnk8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjb250YWluZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e2NyZWF0ZU1hcmt1cCgpfT5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGFuZ2VyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5DbG9zZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvPlxuXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IHJldHVybiA8RXJyb3JIYW5kbGVyIGVycm9yPXtlcnJvcn0gLz4gfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBTUEsV0FBVyxHQUFHLFNBQWRBLFdBQVdBLENBQUFDLElBQUEsRUFDNkI7RUFBQSxJQUR2QkMsVUFBVSxHQUFBRCxJQUFBLENBQVZDLFVBQVU7SUFBRUMsWUFBWSxHQUFBRixJQUFBLENBQVpFLFlBQVk7SUFDekJDLE1BQU0sR0FBQUgsSUFBQSxDQUFORyxNQUFNO0lBQUVDLFNBQVMsR0FBQUosSUFBQSxDQUFUSSxTQUFTO0VBRXJDO0VBQ0EsSUFBSUMsaUJBQWlCLEdBQUcsRUFBRTtJQUFFQyxpQkFBaUIsR0FBRyxFQUFFO0VBQ2xELElBQUlDLGNBQWMsQ0FBQ0MsZ0JBQWdCLElBQUlELGNBQWMsQ0FBQ0MsZ0JBQWdCLENBQUNDLE1BQU0sRUFBRTtJQUM3RUYsY0FBYyxDQUFDQyxnQkFBZ0IsQ0FBQ0UsT0FBTyxD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</script><script>"use strict";

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
// text editor component box
var Textbox = function Textbox(_ref) {
  var unique_key = _ref.unique_key,
    index = _ref.index,
    removeComponent = _ref.removeComponent,
    componentList = _ref.componentList,
    setComponent = _ref.setComponent,
    sortComponentUp = _ref.sortComponentUp,
    sortComponentDown = _ref.sortComponentDown;
  // WYSIWYG: render editor
  React.useEffect(function () {
    var form = document.getElementById('modifystory_form');
    try {
      var toolbarOptions = function toolbarOptions() {
        var toolbarOptions = [];
        toolbarOptions = [[{
          'header': [2, 3, false]
        }], ['bold', 'italic', 'underline'], ['link'], [{
          'list': 'ordered'
        }, {
          'list': 'bullet'
        }], ['clean']];
        return toolbarOptions;
      };

      // move edited text from editor to hidden input
      var fromEditorToInput = function fromEditorToInput(pos) {
        var editor = document.getElementById(pos + '__editor');
        var qlEditor = editor.childNodes[0];
        var textContent = qlEditor.innerHTML;
        if (textContent) {
          var input = editor.parentNode.querySelector('input');
          input.setAttribute('value', textContent);
          // update content
          editor.addEventListener("keyup", function (event) {
            var timer = setTimeout(function () {
              textContent = qlEditor.innerHTML;
              input.setAttribute('value', textContent);
              datastory_data = update_datastory(form);
            }, 2000);
            return function () {
              clearTimeout(timer);
              console.log(timer);
            };
          });
        }
      };
      var createTextEditor = function createTextEditor() {
        var quill;
        var editors = document.querySelectorAll('.editor');
        for (var _i = 0, _Object$entries = Object.entries(editors); _i < _Object$entries.length; _i++) {
          var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),
            key = _Object$entries$_i[0],
            value = _Object$entries$_i[1];
          var pos = value.id.split('__')[0];
          var name = value.previousElementSibling.id.split('__')[1];
          if (pos == index) {
            quill = new Quill(value, {
              modules: {
                toolbar: toolbarOptions()
              },
              theme: 'snow'
            });
          }
          fromEditorToInput(pos);
        }
      };
      createTextEditor();
    } catch (error) {
      /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  });

  // WYSIWYG: get text content if any
  var content = "";
  if (datastory_data.dynamic_elements && datastory_data.dynamic_elements.length) {
    datastory_data.dynamic_elements.forEach(function (element) {
      if (element.type == 'text' && element.position == index) {
        content = element.text;
      }
    });
  }
  function createMarkup() {
    return {
      __html: content
    };
  }

  // WYSIWYG: render component
  if (window.location.href.indexOf("/modify/") > -1) {
    try {
      return /*#__PURE__*/React.createElement("div", {
        id: index + "__block_field",
        className: "block_field"
      }, /*#__PURE__*/React.createElement("div", {
        className: "ribbon"
      }), /*#__PURE__*/React.createElement("h4", {
        className: "block_title"
      }, "Add a textbox"), /*#__PURE__*/React.createElement(SortComponent, {
        index: index,
        sortComponentUp: sortComponentUp,
        sortComponentDown: sortComponentDown,
        key: unique_key
      }), /*#__PURE__*/React.createElement(RemoveComponent, {
        index: index,
        removeComponent: removeComponent,
        key: unique_key
      }), /*#__PURE__*/React.createElement("input", {
        name: index + '__text',
        type: "hidden",
        id: index + '__text',
        defaultValue: /*#__PURE__*/React.createElement(React.Fragment, null, "createMarkup()")
      }), /*#__PURE__*/React.createElement("div", {
        className: "editor",
        id: index + '__editor',
        dangerouslySetInnerHTML: createMarkup()
      }));
    } catch (error) {
      return /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  } else {
    // Final story: render preview
    try {
      return /*#__PURE__*/React.createElement("div", {
        dangerouslySetInnerHTML: createMarkup(),
        className: "typography-line col-md-12 col-sm-12",
        id: index
      });
    } catch (error) {
      return /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUZXh0Ym94IiwiX3JlZiIsInVuaXF1ZV9rZXkiLCJpbmRleCIsInJlbW92ZUNvbXBvbmVudCIsImNvbXBvbmVudExpc3QiLCJzZXRDb21wb25lbnQiLCJzb3J0Q29tcG9uZW50VXAiLCJzb3J0Q29tcG9uZW50RG93biIsIlJlYWN0IiwidXNlRWZmZWN0IiwiZm9ybSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0b29sYmFyT3B0aW9ucyIsImZyb21FZGl0b3JUb0lucHV0IiwicG9zIiwiZWRpdG9yIiwicWxFZGl0b3IiLCJjaGlsZE5vZGVzIiwidGV4dENvbnRlbnQiLCJpbm5lckhUTUwiLCJpbnB1dCIsInBhcmVudE5vZGUiLCJxdWVyeVNlbGVjdG9yIiwic2V0QXR0cmlidXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwidGltZXIiLCJzZXRUaW1lb3V0IiwiZGF0YXN0b3J5X2RhdGEiLCJ1cGRhdGVfZGF0YXN0b3J5IiwiY2xlYXJUaW1lb3V0IiwiY29uc29sZSIsImxvZyIsImNyZWF0ZVRleHRFZGl0b3IiLCJxdWlsbCIsImVkaXRvcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2kiLCJfT2JqZWN0JGVudHJpZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwibGVuZ3RoIiwiX09iamVjdCRlbnRyaWVzJF9pIiwiX3NsaWNlZFRvQXJyYXkiLCJrZXkiLCJ2YWx1ZSIsImlkIiwic3BsaXQiLCJuYW1lIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsIlF1aWxsIiwibW9kdWxlcyIsInRvb2xiYXIiLCJ0aGVtZSIsImVycm9yIiwiY3JlYXRlRWxlbWVudCIsIkVycm9ySGFuZGxlciIsImNvbnRlbnQiLCJkeW5hbWljX2VsZW1lbnRzIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJ0eXBlIiwicG9zaXRpb24iLCJ0ZXh0IiwiY3JlYXRlTWFya3VwIiwiX19odG1sIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiaW5kZXhPZiIsImNsYXNzTmFtZSIsIlNvcnRDb21wb25lbnQiLCJSZW1vdmVDb21wb25lbnQiLCJkZWZhdWx0VmFsdWUiLCJGcmFnbWVudCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIl0sInNvdXJjZXMiOlsiaHR0cHM6Ly9wcm9qZWN0cy5kaGFyYy51bmliby5pdC9tZWxvZHkvc3RhdGljL2pzL3JlYWN0L1RleHRib3guanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdGV4dCBlZGl0b3IgY29tcG9uZW50IGJveFxuY29uc3QgVGV4dGJveCA9ICh7dW5pcXVlX2tleSwgaW5kZXggLFxuICAgICAgICAgICAgICAgICAgcmVtb3ZlQ29tcG9uZW50ICwgY29tcG9uZW50TGlzdCwgc2V0Q29tcG9uZW50ICxcbiAgICAgICAgICAgICAgICAgIHNvcnRDb21wb25lbnRVcCAsIHNvcnRDb21wb25lbnREb3duIH0pID0+IHtcblxuICAvLyBXWVNJV1lHOiByZW5kZXIgZWRpdG9yXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kaWZ5c3RvcnlfZm9ybScpO1xuICAgIHRyeSB7XG4gICAgY29uc3QgdG9vbGJhck9wdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgIGxldCB0b29sYmFyT3B0aW9ucyA9IFtdO1xuICAgICAgICB0b29sYmFyT3B0aW9ucyA9IFtcbiAgICAgICAgICAgIFt7ICdoZWFkZXInOiBbMiwgMywgZmFsc2VdIH1dLFxuICAgICAgICAgICAgWydib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnXSxcbiAgICAgICAgICAgIFsnbGluayddLFxuICAgICAgICAgICAgW3sgJ2xpc3QnOiAnb3JkZXJlZCcgfSwgeyAnbGlzdCc6ICdidWxsZXQnIH1dLFxuICAgICAgICAgICAgWydjbGVhbiddXG4gICAgICAgIF1cblxuICAgICAgICByZXR1cm4gdG9vbGJhck9wdGlvbnM7XG4gICAgfVxuXG4gICAgLy8gbW92ZSBlZGl0ZWQgdGV4dCBmcm9tIGVkaXRvciB0byBoaWRkZW4gaW5wdXRcbiAgICBjb25zdCBmcm9tRWRpdG9yVG9JbnB1dCA9IChwb3MpID0+IHtcbiAgICAgICAgbGV0IGVkaXRvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvcyArICdfX2VkaXRvcicpO1xuICAgICAgICBsZXQgcWxFZGl0b3IgPSBlZGl0b3IuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgbGV0IHRleHRDb250ZW50ID0gcWxFZGl0b3IuaW5uZXJIVE1MO1xuICAgICAgICBpZiAodGV4dENvbnRlbnQpIHtcbiAgICAgICAgICBsZXQgaW5wdXQgPSBlZGl0b3IucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCB0ZXh0Q29udGVudCk7XG4gICAgICAgICAgLy8gdXBkYXRlIGNvbnRlbnRcbiAgICAgICAgICBlZGl0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGV4dENvbnRlbnQgPSBxbEVkaXRvci5pbm5lckhUTUw7XG4gICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCB0ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgIGRhdGFzdG9yeV9kYXRhID0gdXBkYXRlX2RhdGFzdG9yeShmb3JtKVxuICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge2NsZWFyVGltZW91dCh0aW1lcik7IGNvbnNvbGUubG9nKHRpbWVyKTt9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlVGV4dEVkaXRvciA9ICgpID0+IHtcbiAgICAgIGxldCBxdWlsbDtcbiAgICAgIGxldCBlZGl0b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVkaXRvcicpO1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZWRpdG9ycykpIHtcbiAgICAgICAgICBsZXQgcG9zID0gdmFsdWUuaWQuc3BsaXQoJ19fJylbMF07XG4gICAgICAgICAgbGV0IG5hbWUgPSB2YWx1ZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmlkLnNwbGl0KCdfXycpWzFdO1xuICAgICAgICAgIGlmIChwb3MgPT0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgcXVpbGwgPSBuZXcgUXVpbGwodmFsdWUsIHtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICB0b29sYmFyOiB0b29sYmFyT3B0aW9ucygpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgdGhlbWU6ICdzbm93J1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnJvbUVkaXRvclRvSW5wdXQocG9zKTtcbiAgICAgIH1cbiAgfVxuXG4gICAgY3JlYXRlVGV4dEVkaXRvcigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IDxFcnJvckhhbmRsZXIgZXJyb3I9e2Vycm9yfSAvPiB9XG4gIH0pO1xuXG4gIC8vIFdZU0lXWUc6IGdldCB0ZXh0IGNvbnRlbnQgaWYgYW55XG4gIGxldCBjb250ZW50ID0gXCJcIjtcbiAgaWYgKGRhdGFzdG9yeV9kYXRhLmR5bmFtaWNfZWxlbWVudHMgJiYgZGF0YXN0b3J5X2RhdGEuZHluYW1pY19lbGVtZW50cy5sZW5ndGgpIHtcbiAgICBkYXRhc3RvcnlfZGF0YS5keW5hbWljX2VsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBpZiAoZWxlbWVudC50eXBlID09ICd0ZXh0JyAmJiBlbGVtZW50LnBvc2l0aW9uID09IGluZGV4KSB7XG4gICAgICAgIGNvbnRlbnQgPSBlbGVtZW50LnRleHQ7XG4gICAgfX0pXG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVNYXJrdXAoKSB7IHJldHVybiB7X19odG1sOiBjb250ZW50fTt9XG5cbiAgLy8gV1lTSVdZRzogcmVuZGVyIGNvbXBvbmVudFxuICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcIi9tb2RpZnkvXCIpID4gLTEpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBpZD17aW5kZXgrXCJfX2Jsb2NrX2ZpZWxkXCJ9IGNsYXNzTmFtZT1cImJsb2NrX2ZpZWxkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWJib25cIj48L2Rpdj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiYmxvY2tfdGl0bGVcIj5BZGQgYSB0ZXh0Ym94PC9oND5cbiAgICAgICAgICA8U29ydENvbXBvbmVudFxuICAgICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgc29ydENvbXBvbmVudFVwPXtzb3J0Q29tcG9uZW50VXB9XG4gICAgICAgICAgICBzb3J0Q29tcG9uZW50RG93bj17c29ydENvbXBvbmVudERvd259XG4gICAgICAgICAgICBrZXk9e3VuaXF1ZV9rZXl9IC8+XG4gICAgICAgICAgPFJlbW92ZUNvbXBvbmVudFxuICAgICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgcmVtb3ZlQ29tcG9uZW50PXtyZW1vdmVDb21wb25lbnR9XG4gICAgICAgICAgICBrZXk9e3VuaXF1ZV9rZXl9IC8+XG5cbiAgICAgICAgICA8aW5wdXQgbmFtZT17aW5kZXgrJ19fdGV4dCd9XG4gICAgICAgICAgICAgIHR5cGU9J2hpZGRlbicgaWQ9e2luZGV4KydfX3RleHQnfVxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9ezw+Y3JlYXRlTWFya3VwKCk8Lz59Lz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZWRpdG9yJ1xuICAgICAgICAgICAgICBpZD17aW5kZXgrJ19fZWRpdG9yJ31cbiAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e2NyZWF0ZU1hcmt1cCgpfT48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IHJldHVybiA8RXJyb3JIYW5kbGVyIGVycm9yPXtlcnJvcn0gLz4gfVxuICB9IGVsc2Uge1xuICAgIC8vIEZpbmFsIHN0b3J5OiByZW5kZXIgcHJldmlld1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgPGRpdiBkYW5nZXJvdXNseVNldElubmVySFRNTD17Y3JlYXRlTWFya3VwKCl9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidHlwb2dyYXBoeS1saW5lIGNvbC1tZC0xMiBjb2wtc20tMTJcIlxuICAgICAgICAgIGlkPXtpbmRleH0+PC9kaXY+XG4gICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikgeyByZXR1cm4gPEVycm9ySGFuZGxlciBlcnJvcj17ZXJyb3J9IC8+IH1cbiAgfVxuXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQSxJQUFNQSxPQUFPLEdBQUcsU0FBVkEsT0FBT0EsQ0FBQUMsSUFBQSxFQUUrQztFQUFBLElBRjFDQyxVQUFVLEdBQUFELElBQUEsQ0FBVkMsVUFBVTtJQUFFQyxLQUFLLEdBQUFGLElBQUEsQ0FBTEUsS0FBSztJQUNqQkMsZUFBZSxHQUFBSCxJQUFBLENBQWZHLGVBQWU7SUFBR0MsYUFBYSxHQUFBSixJQUFBLENBQWJJLGFBQWE7SUFBRUMsWUFBWSxHQUFBTCxJQUFBLENBQVpLLFlBQVk7SUFDN0NDLGVBQWUsR0FBQU4sSUFBQSxDQUFmTSxlQUFlO0lBQUdDLGlCQUFpQixHQUFBUCxJQUFBLENBQWpCTyxpQkFBaUI7RUFFbkQ7RUFDQUMsS0FBSyxDQUFDQyxTQUFTLENBQUMsWUFBTTtJQUNwQixJQUFJQyxJQUFJLEdBQUdDLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGtCQUFrQixDQUFDO0lBQ3RELElBQUk7TUFDSixJQUFNQyxjQUFjLEdBQUcsU0FBQUEsZUFBQSxFQUFNO1FBQ3pCLElBQUlBLGNBQWMsR0FBRyxFQUFFO1FB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</script><script>"use strict";

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
// count component box
var Count = function Count(_ref) {
  var unique_key = _ref.unique_key,
    index = _ref.index,
    removeComponent = _ref.removeComponent,
    componentList = _ref.componentList,
    setComponent = _ref.setComponent,
    sortComponentUp = _ref.sortComponentUp,
    sortComponentDown = _ref.sortComponentDown;
  var count_label = "",
    count_query = "",
    count = "";

  // WYSIWYG: get content if any
  if (datastory_data.dynamic_elements && datastory_data.dynamic_elements.length) {
    datastory_data.dynamic_elements.forEach(function (element) {
      if (element.type == 'count' && element.position == index) {
        count_query = element.count_query;
        count_label = element.count_label;
      }
    });
  }
  var _React$useState = React.useState(count_query),
    _React$useState2 = _slicedToArray(_React$useState, 2),
    query = _React$useState2[0],
    setQuery = _React$useState2[1];
  var queryChange = function queryChange(event) {
    setQuery(event.target.value);
  };
  var _React$useState3 = React.useState(count_label),
    _React$useState4 = _slicedToArray(_React$useState3, 2),
    label = _React$useState4[0],
    setLabel = _React$useState4[1];
  var labelChange = function labelChange(event) {
    setLabel(event.target.value);
  };
  var _React$useState5 = React.useState(false),
    _React$useState6 = _slicedToArray(_React$useState5, 2),
    spinner = _React$useState6[0],
    setSpinner = _React$useState6[1];

  // get data and return the counting in the box preview
  var fetchQuery = function fetchQuery(event) {
    if (query.length > 1) {
      setSpinner(true);
      fetch(datastory_data.sparql_endpoint + '?query=' + encodeURIComponent(query), {
        method: 'GET',
        headers: {
          'Accept': 'application/sparql-results+json'
        }
      }).then(function (res) {
        return res.json();
      }).then(function (data) {
        setSpinner(false);
        count = data.results.bindings[0].count.value;
        $("#" + index + "__num").text(count);
      })["catch"](function (error) {
        setSpinner(false);
        console.error('Error:', error);
        alert("Count: there is an error in the query");
        count = "Error!";
      })["finally"](function () {
        setSpinner(false);
      });
    }
  };

  // preview counter
  React.useEffect(function () {
    try {
      var borders = function borders(el) {
        el.style.border = "solid 2px " + color_1;
        el.style.color = color_1;
      };
      fetchQuery();
      $("textarea").each(function () {
        this.setAttribute("style", "height:" + this.scrollHeight + "px;overflow-y:hidden;");
      }).on("input", function () {
        this.style.height = 0;
        this.style.height = this.scrollHeight + "px";
      });
      var color_1 = datastory_data.color_code[0],
        color_2 = datastory_data.color_code[1];
      var counters = document.querySelectorAll(".count_result");
      counters.forEach(borders);
      if (window.location.href.indexOf("/modify/") == -1) {
        $('#sortable > .count_result:first-of-type').each(function () {
          $(this).nextUntil('#sortable > :not(.count_result)').addBack().wrapAll("<div class='row' />");
        });
      }
    } catch (error) {
      /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  }, []);

  // WYSIWYG: render component and preview
  if (window.location.href.indexOf("/modify/") > -1) {
    try {
      return /*#__PURE__*/React.createElement("div", {
        id: index + "__block_field",
        className: "block_field"
      }, spinner && /*#__PURE__*/React.createElement("span", {
        id: "loader",
        className: "lds-dual-ring overlay"
      }), /*#__PURE__*/React.createElement("div", {
        className: "ribbon"
      }), /*#__PURE__*/React.createElement("h4", {
        className: "block_title"
      }, "Add a counter"), /*#__PURE__*/React.createElement(SortComponent, {
        index: index,
        sortComponentUp: sortComponentUp,
        sortComponentDown: sortComponentDown,
        key: unique_key
      }), /*#__PURE__*/React.createElement(RemoveComponent, {
        index: index,
        removeComponent: removeComponent,
        key: unique_key
      }), /*#__PURE__*/React.createElement("div", {
        className: "card-body justify-content-center option-2b count_result col-md-3 col-sm-5"
      }, /*#__PURE__*/React.createElement("p", {
        className: "counter_num",
        id: index + "__num"
      }, count), /*#__PURE__*/React.createElement("p", {
        className: "counter_label",
        id: index + "__lab"
      }, label)), /*#__PURE__*/React.createElement("label", {
        htmlFor: "largeInput"
      }, "SPARQL query"), /*#__PURE__*/React.createElement("textarea", {
        name: index + "__count_query",
        type: "text",
        spellCheck: "false",
        onChange: queryChange,
        id: index + "__count_query",
        defaultValue: query,
        onMouseLeave: fetchQuery,
        placeholder: "A SPARQL query that returns a number. Use the variable ?count",
        required: true
      }), /*#__PURE__*/React.createElement("label", {
        htmlFor: "largeInput"
      }, "Label"), /*#__PURE__*/React.createElement("input", {
        name: index + "__count_label",
        type: "text",
        id: index + "__count_label",
        onChange: labelChange,
        defaultValue: label,
        placeholder: "The label of the counter",
        required: true
      }));
    } catch (error) {
      return /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  } else {
    // Final story: render preview
    try {
      return /*#__PURE__*/React.createElement("div", {
        className: "card-body justify-content-center option-2b count_result col-md-3"
      }, /*#__PURE__*/React.createElement("p", {
        className: "counter_num",
        id: index + "__num"
      }, count), /*#__PURE__*/React.createElement("p", {
        className: "counter_label",
        id: index + "__lab"
      }, label));
    } catch (error) {
      return /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb3VudCIsIl9yZWYiLCJ1bmlxdWVfa2V5IiwiaW5kZXgiLCJyZW1vdmVDb21wb25lbnQiLCJjb21wb25lbnRMaXN0Iiwic2V0Q29tcG9uZW50Iiwic29ydENvbXBvbmVudFVwIiwic29ydENvbXBvbmVudERvd24iLCJjb3VudF9sYWJlbCIsImNvdW50X3F1ZXJ5IiwiY291bnQiLCJkYXRhc3RvcnlfZGF0YSIsImR5bmFtaWNfZWxlbWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiZWxlbWVudCIsInR5cGUiLCJwb3NpdGlvbiIsIl9SZWFjdCR1c2VTdGF0ZSIsIlJlYWN0IiwidXNlU3RhdGUiLCJfUmVhY3QkdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkiLCJxdWVyeSIsInNldFF1ZXJ5IiwicXVlcnlDaGFuZ2UiLCJldmVudCIsInRhcmdldCIsInZhbHVlIiwiX1JlYWN0JHVzZVN0YXRlMyIsIl9SZWFjdCR1c2VTdGF0ZTQiLCJsYWJlbCIsInNldExhYmVsIiwibGFiZWxDaGFuZ2UiLCJfUmVhY3QkdXNlU3RhdGU1IiwiX1JlYWN0JHVzZVN0YXRlNiIsInNwaW5uZXIiLCJzZXRTcGlubmVyIiwiZmV0Y2hRdWVyeSIsImZldGNoIiwic3BhcnFsX2VuZHBvaW50IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWV0aG9kIiwiaGVhZGVycyIsInRoZW4iLCJyZXMiLCJqc29uIiwiZGF0YSIsInJlc3VsdHMiLCJiaW5kaW5ncyIsIiQiLCJ0ZXh0IiwiZXJyb3IiLCJjb25zb2xlIiwiYWxlcnQiLCJ1c2VFZmZlY3QiLCJib3JkZXJzIiwiZWwiLCJzdHlsZSIsImJvcmRlciIsImNvbG9yXzEiLCJjb2xvciIsImVhY2giLCJzZXRBdHRyaWJ1dGUiLCJzY3JvbGxIZWlnaHQiLCJvbiIsImhlaWdodCIsImNvbG9yX2NvZGUiLCJjb2xvcl8yIiwiY291bnRlcnMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJpbmRleE9mIiwibmV4dFVudGlsIiwiYWRkQmFjayIsIndyYXBBbGwiLCJjcmVhdGVFbGVtZW50IiwiRXJyb3JIYW5kbGVyIiwiaWQiLCJjbGFzc05hbWUiLCJTb3J0Q29tcG9uZW50Iiwia2V5IiwiUmVtb3ZlQ29tcG9uZW50IiwiaHRtbEZvciIsIm5hbWUiLCJzcGVsbENoZWNrIiwib25DaGFuZ2UiLCJkZWZhdWx0VmFsdWUiLCJvbk1vdXNlTGVhdmUiLCJwbGFjZWhvbGRlciIsInJlcXVpcmVkIl0sInNvdXJjZXMiOlsiaHR0cHM6Ly9wcm9qZWN0cy5kaGFyYy51bmliby5pdC9tZWxvZHkvc3RhdGljL2pzL3JlYWN0L0NvdW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvdW50IGNvbXBvbmVudCBib3hcbmNvbnN0IENvdW50ID0gKHsgdW5pcXVlX2tleSwgaW5kZXggLFxuICAgICAgICAgICAgICAgIHJlbW92ZUNvbXBvbmVudCAsIGNvbXBvbmVudExpc3QsIHNldENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBzb3J0Q29tcG9uZW50VXAgLCBzb3J0Q29tcG9uZW50RG93bn0pID0+IHtcblxuICBsZXQgY291bnRfbGFiZWw9IFwiXCIsIGNvdW50X3F1ZXJ5ID0gXCJcIiwgY291bnQgPSBcIlwiO1xuXG4gIC8vIFdZU0lXWUc6IGdldCBjb250ZW50IGlmIGFueVxuICBpZiAoZGF0YXN0b3J5X2RhdGEuZHluYW1pY19lbGVtZW50cyAmJiBkYXRhc3RvcnlfZGF0YS5keW5hbWljX2VsZW1lbnRzLmxlbmd0aCkge1xuICAgIGRhdGFzdG9yeV9kYXRhLmR5bmFtaWNfZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGlmIChlbGVtZW50LnR5cGUgPT0gJ2NvdW50JyAmJiBlbGVtZW50LnBvc2l0aW9uID09IGluZGV4KSB7XG4gICAgICAgIGNvdW50X3F1ZXJ5ID0gZWxlbWVudC5jb3VudF9xdWVyeSA7XG4gICAgICAgIGNvdW50X2xhYmVsID0gZWxlbWVudC5jb3VudF9sYWJlbDtcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29uc3QgW3F1ZXJ5LCBzZXRRdWVyeV0gPSBSZWFjdC51c2VTdGF0ZShjb3VudF9xdWVyeSk7XG4gIGNvbnN0IHF1ZXJ5Q2hhbmdlID0gZXZlbnQgPT4geyBzZXRRdWVyeShldmVudC50YXJnZXQudmFsdWUpOyB9O1xuXG4gIGNvbnN0IFtsYWJlbCwgc2V0TGFiZWxdID0gUmVhY3QudXNlU3RhdGUoY291bnRfbGFiZWwpO1xuICBjb25zdCBsYWJlbENoYW5nZSA9IGV2ZW50ID0+IHsgc2V0TGFiZWwoZXZlbnQudGFyZ2V0LnZhbHVlKTsgfTtcbiAgY29uc3QgW3NwaW5uZXIsIHNldFNwaW5uZXJdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIGdldCBkYXRhIGFuZCByZXR1cm4gdGhlIGNvdW50aW5nIGluIHRoZSBib3ggcHJldmlld1xuICBjb25zdCBmZXRjaFF1ZXJ5ID0gZXZlbnQgPT4ge1xuXG4gICAgaWYgKHF1ZXJ5Lmxlbmd0aCA+IDEpIHtcbiAgICAgIHNldFNwaW5uZXIodHJ1ZSk7XG4gICAgICBmZXRjaChkYXRhc3RvcnlfZGF0YS5zcGFycWxfZW5kcG9pbnQrJz9xdWVyeT0nK2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSksXG4gICAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL3NwYXJxbC1yZXN1bHRzK2pzb24nIH1cbiAgICAgICAgfVxuICAgICAgKS50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgIHNldFNwaW5uZXIoZmFsc2UpO1xuICAgICAgICAgY291bnQgPSBkYXRhLnJlc3VsdHMuYmluZGluZ3NbMF0uY291bnQudmFsdWU7XG4gICAgICAgICAkKFwiI1wiICsgaW5kZXggKyBcIl9fbnVtXCIpLnRleHQoY291bnQpO1xuICAgICAgICB9KVxuICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBzZXRTcGlubmVyKGZhbHNlKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgYWxlcnQoXCJDb3VudDogdGhlcmUgaXMgYW4gZXJyb3IgaW4gdGhlIHF1ZXJ5XCIpXG4gICAgICAgICAgY291bnQgPSBcIkVycm9yIVwiO1xuICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge3NldFNwaW5uZXIoZmFsc2UpO30pO1xuXG4gICAgfVxuICB9XG5cbiAgLy8gcHJldmlldyBjb3VudGVyXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgZmV0Y2hRdWVyeSgpO1xuXG4gICAgICQoXCJ0ZXh0YXJlYVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiaGVpZ2h0OlwiICsgKHRoaXMuc2Nyb2xsSGVpZ2h0KSArIFwicHg7b3ZlcmZsb3cteTpoaWRkZW47XCIpO1xuICAgICB9KS5vbihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICB0aGlzLnN0eWxlLmhlaWdodCA9IDA7XG4gICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSAodGhpcy5zY3JvbGxIZWlnaHQpICsgXCJweFwiO1xuICAgICB9KTtcblxuICAgICBsZXQgY29sb3JfMSA9IGRhdGFzdG9yeV9kYXRhLmNvbG9yX2NvZGVbMF0sIGNvbG9yXzIgPSBkYXRhc3RvcnlfZGF0YS5jb2xvcl9jb2RlWzFdXG4gICAgIHZhciBjb3VudGVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY291bnRfcmVzdWx0XCIpO1xuICAgICBmdW5jdGlvbiBib3JkZXJzKGVsKSB7XG4gICAgICAgICBlbC5zdHlsZS5ib3JkZXIgPSBcInNvbGlkIDJweCBcIiArIGNvbG9yXzE7XG4gICAgICAgICBlbC5zdHlsZS5jb2xvciA9IGNvbG9yXzE7XG4gICAgIH1cbiAgICAgY291bnRlcnMuZm9yRWFjaChib3JkZXJzKTtcbiAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCIvbW9kaWZ5L1wiKSA9PSAtMSkge1xuICAgICAgICAgJCgnI3NvcnRhYmxlID4gLmNvdW50X3Jlc3VsdDpmaXJzdC1vZi10eXBlJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgJCh0aGlzKS5uZXh0VW50aWwoJyNzb3J0YWJsZSA+IDpub3QoLmNvdW50X3Jlc3VsdCknKVxuICAgICAgICAgICAgICAgIC5hZGRCYWNrKClcbiAgICAgICAgICAgICAgICAud3JhcEFsbChcIjxkaXYgY2xhc3M9J3JvdycgLz5cIik7XG4gICAgICAgICB9KTtcbiAgICAgfVxuICAgICB9IGNhdGNoIChlcnJvcikgeyA8RXJyb3JIYW5kbGVyIGVycm9yPXtlcnJvcn0gLz4gfVxuICB9LCBbXSk7XG5cbiAgLy8gV1lTSVdZRzogcmVuZGVyIGNvbXBvbmVudCBhbmQgcHJldmlld1xuICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcIi9tb2RpZnkvXCIpID4gLTEpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChcbiAgICAgIDxkaXYgaWQ9e2luZGV4K1wiX19ibG9ja19maWVsZFwifSBjbGFzc05hbWU9XCJibG9ja19maWVsZFwiPlxuICAgICAge3NwaW5uZXIgJiYgKDxzcGFuIGlkPSdsb2FkZXInIGNsYXNzTmFtZT0nbGRzLWR1YWwtcmluZyBvdmVybGF5Jz48L3NwYW4+KX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWJib25cIj48L2Rpdj5cbiAgICAgICAgPGg0IGNsYXNzTmFtZT1cImJsb2NrX3RpdGxlXCI+QWRkIGEgY291bnRlcjwvaDQ+XG4gICAgICAgIDxTb3J0Q29tcG9uZW50XG4gICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgIHNvcnRDb21wb25lbnRVcD17c29ydENvbXBvbmVudFVwfVxuICAgICAgICAgIHNvcnRDb21wb25lbnREb3duPXtzb3J0Q29tcG9uZW50RG93bn1cbiAgICAgICAgICBrZXk9e3VuaXF1ZV9rZXl9IC8+XG4gICAgICAgIDxSZW1vdmVDb21wb25lbnRcbiAgICAgICAgICBpbmRleD17aW5kZXh9XG4gICAgICAgICAgcmVtb3ZlQ29tcG9uZW50PXtyZW1vdmVDb21wb25lbnR9XG4gICAgICAgICAga2V5PXt1bmlxdWVfa2V5fSAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjYXJkLWJvZHkganVzdGlmeS1jb250ZW50LWNlbnRlciBvcHRpb24tMmIgY291bnRfcmVzdWx0IGNvbC1tZC0zIGNvbC1zbS01Jz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0nY291bnRlcl9udW0nIGlkPXtpbmRleCtcIl9fbnVtXCJ9Pntjb3VudH08L3A+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9J2NvdW50ZXJfbGFiZWwnIGlkPXtpbmRleCtcIl9fbGFiXCJ9PntsYWJlbH08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2xhcmdlSW5wdXQnPlNQQVJRTCBxdWVyeTwvbGFiZWw+XG4gICAgICAgICAgPHRleHRhcmVhIG5hbWU9e2luZGV4K1wiX19jb3VudF9xdWVyeVwifSB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICBzcGVsbENoZWNrPSdmYWxzZSdcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3F1ZXJ5Q2hhbmdlfVxuICAgICAgICAgICAgICBpZD17aW5kZXgrXCJfX2NvdW50X3F1ZXJ5XCJ9XG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17cXVlcnl9XG4gICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZmV0Y2hRdWVyeX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J0EgU1BBUlFMIHF1ZXJ5IHRoYXQgcmV0dXJucyBhIG51bWJlci4gVXNlIHRoZSB2YXJpYWJsZSA/Y291bnQnIHJlcXVpcmVkPlxuXG4gICAgICAgICAgPC90ZXh0YXJlYT5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj0nbGFyZ2VJbnB1dCc+TGFiZWw8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dCBuYW1lPXtpbmRleCtcIl9fY291bnRfbGFiZWxcIn1cbiAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgaWQ9e2luZGV4K1wiX19jb3VudF9sYWJlbFwifVxuICAgICAgICAgICAgICBvbkNoYW5nZT17bGFiZWxDaGFuZ2V9XG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bGFiZWx9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdUaGUgbGFiZWwgb2YgdGhlIGNvdW50ZXInIHJlcXVpcmVkIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgcmV0dXJuIDxFcnJvckhhbmRsZXIgZXJyb3I9e2Vycm9yfSAvPiB9XG4gIH0gZWxzZSB7XG4gICAgLy8gRmluYWwgc3Rvcnk6IHJlbmRlciBwcmV2aWV3XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nY2FyZC1ib2R5IGp1c3RpZnktY29udGVudC1jZW50ZXIgb3B0aW9uLTJiIGNvdW50X3Jlc3VsdCBjb2wtbWQtMyc+XG4gICAgICAgIDxwIGNsYXNzTmFtZT0nY291bnRlcl9udW0nIGlkPXtpbmRleCtcIl9fbnVtXCJ9Pntjb3VudH08L3A+XG4gICAgICAgIDxwIGNsYXNzTmFtZT0nY291bnRlcl9sYWJlbCcgaWQ9e2luZGV4K1wiX19sYWJcIn0+e2xhYmVsfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgcmV0dXJuIDxFcnJvckhhbmRsZXIgZXJyb3I9e2Vycm9yfSAvPiB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBLElBQU1BLEtBQUssR0FBRyxTQUFSQSxLQUFLQSxDQUFBQyxJQUFBLEVBRThDO0VBQUEsSUFGeENDLFVBQVUsR0FBQUQsSUFBQSxDQUFWQyxVQUFVO0lB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</script><script>"use strict";

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
// component box to define an action. Actions become buttons attached to results of atext search
var TextSearchAction = function TextSearchAction(_ref) {
  var unique_key = _ref.unique_key,
    index = _ref.index,
    removeComponent = _ref.removeComponent,
    componentList = _ref.componentList,
    setComponent = _ref.setComponent,
    sortComponentUp = _ref.sortComponentUp,
    sortComponentDown = _ref.sortComponentDown;
  var _React$useState = React.useState(false),
    _React$useState2 = _slicedToArray(_React$useState, 2),
    spinner = _React$useState2[0],
    setSpinner = _React$useState2[1];
  var actiontitle_default = "",
    actionquery_default = "";
  if (datastory_data.dynamic_elements && datastory_data.dynamic_elements.length) {
    datastory_data.dynamic_elements.forEach(function (element) {
      if (element.type == 'action' && element.position == index) {
        actiontitle_default = element.action_title;
        actionquery_default = element.action_query;
      }
    });
  }
  var _React$useState3 = React.useState(actiontitle_default),
    _React$useState4 = _slicedToArray(_React$useState3, 2),
    actiontitle = _React$useState4[0],
    setSearchTitle = _React$useState4[1];
  var actiontitleChange = function actiontitleChange(event) {
    setSearchTitle(event.target.value);
  };
  var _React$useState5 = React.useState(actionquery_default),
    _React$useState6 = _slicedToArray(_React$useState5, 2),
    actionquery = _React$useState6[0],
    setSearchQuery = _React$useState6[1];
  var actionqueryChange = function actionqueryChange(event) {
    setSearchQuery(event.target.value);
  };
  if (window.location.href.indexOf("/modify/") > -1) {
    try {
      return /*#__PURE__*/React.createElement("div", {
        id: index + "__block_field",
        className: "block_field"
      }, /*#__PURE__*/React.createElement("div", {
        className: "ribbon"
      }), spinner && /*#__PURE__*/React.createElement("span", {
        id: "loader",
        className: "lds-dual-ring overlay"
      }), /*#__PURE__*/React.createElement("h4", {
        className: "block_title"
      }, "Add an action"), /*#__PURE__*/React.createElement(SortComponent, {
        index: index,
        sortComponentUp: sortComponentUp,
        sortComponentDown: sortComponentDown,
        key: unique_key
      }), /*#__PURE__*/React.createElement(RemoveComponent, {
        index: index,
        removeComponent: removeComponent,
        key: unique_key
      }), /*#__PURE__*/React.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/React.createElement("label", {
        htmlFor: "largeInput"
      }, "Action title"), /*#__PURE__*/React.createElement("input", {
        name: index + "__action_title",
        type: "text",
        id: index + "__action_title",
        onChange: actiontitleChange,
        defaultValue: actiontitle,
        placeholder: "The title of the action",
        required: true
      }), /*#__PURE__*/React.createElement("label", {
        htmlFor: "largeInput"
      }, "SPARQL query"), /*#__PURE__*/React.createElement("textarea", {
        name: index + "__action_query",
        type: "text",
        spellCheck: "false",
        onChange: actionqueryChange,
        id: index + "__action_query",
        defaultValue: actionquery,
        placeholder: "A SPARQL query with a placeholder <<item>> for the search term. Return as many variables you like",
        required: true
      }), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("em", null, "Try out the text search to see the action button"))));
    } catch (error) {
      return /*#__PURE__*/React.createElement(ErrorHandler, {
        error: error
      });
    }
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUZXh0U2VhcmNoQWN0aW9uIiwiX3JlZiIsInVuaXF1ZV9rZXkiLCJpbmRleCIsInJlbW92ZUNvbXBvbmVudCIsImNvbXBvbmVudExpc3QiLCJzZXRDb21wb25lbnQiLCJzb3J0Q29tcG9uZW50VXAiLCJzb3J0Q29tcG9uZW50RG93biIsIl9SZWFjdCR1c2VTdGF0ZSIsIlJlYWN0IiwidXNlU3RhdGUiLCJfUmVhY3QkdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkiLCJzcGlubmVyIiwic2V0U3Bpbm5lciIsImFjdGlvbnRpdGxlX2RlZmF1bHQiLCJhY3Rpb25xdWVyeV9kZWZhdWx0IiwiZGF0YXN0b3J5X2RhdGEiLCJkeW5hbWljX2VsZW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJ0eXBlIiwicG9zaXRpb24iLCJhY3Rpb25fdGl0bGUiLCJhY3Rpb25fcXVlcnkiLCJfUmVhY3QkdXNlU3RhdGUzIiwiX1JlYWN0JHVzZVN0YXRlNCIsImFjdGlvbnRpdGxlIiwic2V0U2VhcmNoVGl0bGUiLCJhY3Rpb250aXRsZUNoYW5nZSIsImV2ZW50IiwidGFyZ2V0IiwidmFsdWUiLCJfUmVhY3QkdXNlU3RhdGU1IiwiX1JlYWN0JHVzZVN0YXRlNiIsImFjdGlvbnF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJhY3Rpb25xdWVyeUNoYW5nZSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImluZGV4T2YiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJjbGFzc05hbWUiLCJTb3J0Q29tcG9uZW50Iiwia2V5IiwiUmVtb3ZlQ29tcG9uZW50IiwiaHRtbEZvciIsIm5hbWUiLCJvbkNoYW5nZSIsImRlZmF1bHRWYWx1ZSIsInBsYWNlaG9sZGVyIiwicmVxdWlyZWQiLCJzcGVsbENoZWNrIiwiZXJyb3IiLCJFcnJvckhhbmRsZXIiXSwic291cmNlcyI6WyJodHRwczovL3Byb2plY3RzLmRoYXJjLnVuaWJvLml0L21lbG9keS9zdGF0aWMvanMvcmVhY3QvQWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbXBvbmVudCBib3ggdG8gZGVmaW5lIGFuIGFjdGlvbi4gQWN0aW9ucyBiZWNvbWUgYnV0dG9ucyBhdHRhY2hlZCB0byByZXN1bHRzIG9mIGF0ZXh0IHNlYXJjaFxuY29uc3QgVGV4dFNlYXJjaEFjdGlvbiA9ICh7IHVuaXF1ZV9rZXksIGluZGV4ICxcbiAgICAgICAgICAgICAgICByZW1vdmVDb21wb25lbnQgLCBjb21wb25lbnRMaXN0LCBzZXRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgc29ydENvbXBvbmVudFVwICwgc29ydENvbXBvbmVudERvd24gfSkgPT4ge1xuXG4gIGNvbnN0IFtzcGlubmVyLCBzZXRTcGlubmVyXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICBsZXQgYWN0aW9udGl0bGVfZGVmYXVsdD0gXCJcIiwgYWN0aW9ucXVlcnlfZGVmYXVsdCA9XCJcIjtcbiAgaWYgKGRhdGFzdG9yeV9kYXRhLmR5bmFtaWNfZWxlbWVudHMgJiYgZGF0YXN0b3J5X2RhdGEuZHluYW1pY19lbGVtZW50cy5sZW5ndGgpIHtcbiAgICBkYXRhc3RvcnlfZGF0YS5keW5hbWljX2VsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBpZiAoZWxlbWVudC50eXBlID09ICdhY3Rpb24nICYmIGVsZW1lbnQucG9zaXRpb24gPT0gaW5kZXgpIHtcbiAgICAgICAgYWN0aW9udGl0bGVfZGVmYXVsdCA9IGVsZW1lbnQuYWN0aW9uX3RpdGxlIDtcbiAgICAgICAgYWN0aW9ucXVlcnlfZGVmYXVsdCA9IGVsZW1lbnQuYWN0aW9uX3F1ZXJ5IDtcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29uc3QgW2FjdGlvbnRpdGxlLCBzZXRTZWFyY2hUaXRsZV0gPSBSZWFjdC51c2VTdGF0ZShhY3Rpb250aXRsZV9kZWZhdWx0KTtcbiAgY29uc3QgYWN0aW9udGl0bGVDaGFuZ2UgPSBldmVudCA9PiB7IHNldFNlYXJjaFRpdGxlKGV2ZW50LnRhcmdldC52YWx1ZSk7IH07XG5cbiAgY29uc3QgW2FjdGlvbnF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSBSZWFjdC51c2VTdGF0ZShhY3Rpb25xdWVyeV9kZWZhdWx0KTtcbiAgY29uc3QgYWN0aW9ucXVlcnlDaGFuZ2UgPSBldmVudCA9PiB7IHNldFNlYXJjaFF1ZXJ5KGV2ZW50LnRhcmdldC52YWx1ZSk7IH07XG5cbiAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCIvbW9kaWZ5L1wiKSA+IC0xKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgaWQ9e2luZGV4K1wiX19ibG9ja19maWVsZFwifSBjbGFzc05hbWU9XCJibG9ja19maWVsZFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmliYm9uXCI+PC9kaXY+XG4gICAgICAgICAge3NwaW5uZXIgJiYgKDxzcGFuIGlkPSdsb2FkZXInIGNsYXNzTmFtZT0nbGRzLWR1YWwtcmluZyBvdmVybGF5Jz48L3NwYW4+KX1cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiYmxvY2tfdGl0bGVcIj5BZGQgYW4gYWN0aW9uPC9oND5cbiAgICAgICAgICA8U29ydENvbXBvbmVudFxuICAgICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgc29ydENvbXBvbmVudFVwPXtzb3J0Q29tcG9uZW50VXB9XG4gICAgICAgICAgICBzb3J0Q29tcG9uZW50RG93bj17c29ydENvbXBvbmVudERvd259XG4gICAgICAgICAgICBrZXk9e3VuaXF1ZV9rZXl9IC8+XG4gICAgICAgICAgPFJlbW92ZUNvbXBvbmVudFxuICAgICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgcmVtb3ZlQ29tcG9uZW50PXtyZW1vdmVDb21wb25lbnR9XG4gICAgICAgICAgICBrZXk9e3VuaXF1ZV9rZXl9IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Zvcm0tZ3JvdXAnPlxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2xhcmdlSW5wdXQnPkFjdGlvbiB0aXRsZTwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgbmFtZT17aW5kZXgrXCJfX2FjdGlvbl90aXRsZVwifVxuICAgICAgICAgICAgICAgIHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgICAgaWQ9e2luZGV4K1wiX19hY3Rpb25fdGl0bGVcIn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17YWN0aW9udGl0bGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXthY3Rpb250aXRsZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nVGhlIHRpdGxlIG9mIHRoZSBhY3Rpb24nIHJlcXVpcmVkID48L2lucHV0PlxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2xhcmdlSW5wdXQnPlNQQVJRTCBxdWVyeTwvbGFiZWw+XG4gICAgICAgICAgICA8dGV4dGFyZWEgbmFtZT17aW5kZXgrXCJfX2FjdGlvbl9xdWVyeVwifSB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgIHNwZWxsQ2hlY2s9J2ZhbHNlJ1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXthY3Rpb25xdWVyeUNoYW5nZX1cbiAgICAgICAgICAgICAgICBpZD17aW5kZXgrXCJfX2FjdGlvbl9xdWVyeVwifVxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17YWN0aW9ucXVlcnl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J0EgU1BBUlFMIHF1ZXJ5IHdpdGggYSBwbGFjZWhvbGRlciA8PGl0ZW0+PiBmb3IgdGhlIHNlYXJjaCB0ZXJtLiBSZXR1cm4gYXMgbWFueSB2YXJpYWJsZXMgeW91IGxpa2UnIHJlcXVpcmVkPlxuICAgICAgICAgICAgPC90ZXh0YXJlYT5cbiAgICAgICAgICAgIDxwPjxlbT5Ucnkgb3V0IHRoZSB0ZXh0IHNlYXJjaCB0byBzZWUgdGhlIGFjdGlvbiBidXR0b248L2VtPjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiA8RXJyb3JIYW5kbGVyIGVycm9yPXtlcnJvcn0gLz5cbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBLElBQU1BLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBZ0JBLENBQUFDLElBQUEsRUFFb0M7RUFBQSxJQUY5QkMsVUFBVSxHQUFBRCxJQUFBLENBQVZDLFVBQVU7SUFBRUMsS0FBSyxHQUFBRixJQUFBLENBQUxFLEtBQUs7SUFDN0JDLGVBQWUsR0FBQUgsSUFBQSxDQUFmRyxlQUFlO0lBQUdDLGFBQWEsR0FBQUosSUFBQSxDQUFiSSxhQUFhO0lBQUVDLFlBQVksR0FBQUwsSUFBQSxDQUFaSyxZQUFZO0lBQzdDQyxlQUFlLEdBQUFOLElBQUEsQ0FBZk0sZUFBZTtJQUFHQyxpQkFBaUIsR0FBQVAsSUFBQSxDQUFqQk8saUJBQWlCO0VBRWpELElBQUFDLGVBQUEsR0FBOEJDLEtBQUssQ0FBQ0MsUUFBUSxDQUFDLEtBQUssQ0FBQztJQUFBQyxnQkFBQSxHQUFBQyxjQUFBLENBQUFKLGVBQUE7SUFBNUNLLE9BQU8sR0FBQUYsZ0JBQUE7SUFBRUcsVUFBVSxHQUFBSCxnQkFBQTtFQUUxQixJQUFJSSxtQkFBbUIsR0FBRSxFQUFFO0lBQUVDLG1CQUFtQixHQUFFLEVBQUU7RUFDcEQsSUFBSUMsY0FBYyxDQUFDQyxnQkFBZ0IsSUFBSUQsY0FBYyxDQUFDQyxnQkFBZ0IsQ0FBQ0MsTUFBTSxFQUFFO0lBQzdFRixjQUFjLENBQUNDLGdCQUFnQixDQUFDRSxPQUFPLENBQUMsVUFBQUMsT0FBTyxFQUFJO01BQ2pELElBQUlBLE9BQU8sQ0FBQ0MsSUFBSSxJQUFJLFFBQVEsSUFBSUQsT0FBTyxDQUFDRSxRQUFRLElBQUlyQixLQUFLLEVBQUU7UUFDekRhLG1CQUFtQixHQUFHTSxPQUFPLENBQUNHLFlBQVk7UUFDMUNSLG1CQUFtQixHQUFHSyxPQUFPLENBQUNJLFlBQVk7TUFD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</script></head>

<body data-background-color="dark">
	<div class="wrapper">

		<div class="main-header">

	<!-- Logo Header -->
	<div class="logo-header" data-background-color="dark2">

		<a href="/melody/" class="logo">MELODY</a>
		<button class="navbar-toggler sidenav-toggler ml-auto" type="button" data-toggle="collapse" data-target="collapse" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon">
				<i class="icon-menu"></i>
			</span>
		</button>
		<div class="nav-toggle">
			<button class="btn btn-toggle toggle-sidebar">
				<i class="icon-menu"></i>
			</button>
		</div>
	</div>
	<!-- End Logo Header -->

	<!-- Navbar Header -->
	<nav class="navbar navbar-header navbar-expand-lg" data-background-color="dark">

		<div class="container">
			<ul class="navbar-nav topbar-nav ml-md-auto align-items-center">
				
				<li class="nav-item dropdown">
					<a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Modify your stories
					</a>
					<div class="dropdown-menu" aria-labelledby="dropdownMenuLink" id="story-list" name="Lada-unibo">
					<a class="dropdown-item" href="/melody/modify/1684507168.063376/melody_handson_shchigoreva">Melody Hands-On Shchigoreva</a><a class="dropdown-item" href="/melody/modify/1685630421.646025/russian_rock_bands">Russian Rock Bands</a></div>
				</li>
				
				<li class="nav-item">
					<a class="nav-link" href="/melody/setup" role="button" aria-expanded="false" aria-controls="search-nav">
						Create a story
					</a>
				</li>
				
				<li class="nav-item"><a class="nav-link" href="/melody/signout" role="button" aria-expanded="false" aria-controls="search-nav">
						Sign out
					</a></li>
				
				<li class="nav-item">
					
					<div class="avatar-sm">
						<img class="avatar-img rounded-circle" src="https://github.com/Lada-unibo.png" alt="Lada-unibo">
					</div>
					
				</li>

			</ul>
		</div>


	</nav>

	<!-- End Navbar -->
</div>

		<!-- Sidebar -->
<div class="sidebar sidebar-style-2" data-background-color="dark2">
	<div class="scroll-wrapper sidebar-wrapper scrollbar scrollbar-inner" style="position: relative;"><div class="sidebar-wrapper scrollbar scrollbar-inner scroll-content" style="height: 578px; margin-bottom: 0px; margin-right: 0px; max-height: none;">
		<div class="sidebar-content">
			<ul class="nav nav-primary">
				
				
				<li class="nav-item submenu">
					<a data-toggle="collapse" href="#submenu1" aria-expanded="true">
						<p>Bells</p>
						<span class="caret"></span>
					</a>
					<div class="collapse" id="submenu1">
						<ul class="nav nav-collapse">
							
							
							
							
							
							
							
							
							<li class="menuitem row">
								
								<a class="col-8" href="/melody/bells/overview_of_bells_in_liguria">
									<!-- href="/overview_of_bells_in_liguria"> -->
									Overview of bells in Liguria
								</a>
								
								
							</li>
							
							
							
							
							
							
							
							
							
							
							
							
							
							
						</ul>
					</div>
				</li>
				
				<li class="nav-item submenu">
					<a data-toggle="collapse" href="#submenu2" aria-expanded="true">
						<p>choco</p>
						<span class="caret"></span>
					</a>
					<div class="collapse" id="submenu2">
						<ul class="nav nav-collapse">
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							<li class="menuitem row">
								
								<a class="col-8" href="/melody/choco/chord_corpus_statistics">
									<!-- href="/chord_corpus_statistics"> -->
									Chord Corpus Statistics
								</a>
								
								
							</li>
							
							
							
							
							
							
							
							
						</ul>
					</div>
				</li>
				
				<li class="nav-item submenu">
					<a data-toggle="collapse" href="#submenu3" aria-expanded="true">
						<p>fonn</p>
						<span class="caret"></span>
					</a>
					<div class="collapse" id="submenu3">
						<ul class="nav nav-collapse">
							
							
							
							
							
							
							
							
							
							
							
							
							<li class="menuitem row">
								
								<a class="col-8" href="/melody/fonn/frequently_occurring_patterns">
									<!-- href="/frequently_occurring_patterns"> -->
									Frequently Occurring Patterns 
								</a>
								
								
								<a class="col-8" href="/melody/fonn/statistics_on_meertens_tune_collections_mtcann_pattern_kg">
									<!-- href="/statistics_on_meertens_tune_collections_mtcann_pattern_kg"> -->
									Statistics on Meertens Tune Collections (MTC-ANN) Pattern KG
								</a>
								
								
							</li>
							
							
							
							
							
							
							
							
							
							
						</ul>
					</div>
				</li>
				
				<li class="nav-item submenu">
					<a data-toggle="collapse" href="#submenu4" aria-expanded="true">
						<p>MusicBo</p>
						<span class="caret"></span>
					</a>
					<div class="collapse" id="submenu4">
						<ul class="nav nav-collapse">
							
							
							
							
							
							
							
							
							
							
							<li class="menuitem row">
								
								<a class="col-8" href="/melody/musicbo/music_in_bologna_knowledge_graph_overview">
									<!-- href="/music_in_bologna_knowledge_graph_overview"> -->
									Music in Bologna - Knowledge Graph Overview
								</a>
								
								
							</li>
							
							
							
							
							
							
							
							
							
							
							
							
						</ul>
					</div>
				</li>
				
				<li class="nav-item submenu">
					<a data-toggle="collapse" href="#submenu5" aria-expanded="true">
						<p>musoW</p>
						<span class="caret"></span>
					</a>
					<div class="collapse" id="submenu5">
						<ul class="nav nav-collapse">
							
							
							<li class="menuitem row">
								
								<a class="col-8" href="/melody/musow/discover_music_data_on_the_web">
									<!-- href="/discover_music_data_on_the_web"> -->
									Discover music data on the Web
								</a>
								
								
							</li>
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
						</ul>
					</div>
				</li>
				
				<li class="nav-item submenu">
					<a data-toggle="collapse" href="#submenu6" aria-expanded="true">
						<p>organs</p>
						<span class="caret"></span>
					</a>
					<div class="collapse" id="submenu6">
						<ul class="nav nav-collapse">
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							<li class="menuitem row">
								
								<a class="col-8" href="/melody/organs/organs_statistics">
									<!-- href="/organs_statistics"> -->
									ORGANS Statistics
								</a>
								
								
							</li>
							
							
						</ul>
					</div>
				</li>
				
				<li class="nav-item submenu">
					<a data-toggle="collapse" href="#submenu7" aria-expanded="true">
						<p>Sound and Vision</p>
						<span class="caret"></span>
					</a>
					<div class="collapse" id="submenu7">
						<ul class="nav nav-collapse">
							
							
							
							
							
							
							<li class="menuitem row">
								
								<a class="col-8" href="/melody/sound_and_vision/dutch_broadcast_concert_collection">
									<!-- href="/dutch_broadcast_concert_collection"> -->
									Dutch Broadcast Concert Collection
								</a>
								
								
							</li>
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
						</ul>
					</div>
				</li>
				
				<li class="nav-item submenu">
					<a data-toggle="collapse" href="#submenu8" aria-expanded="true">
						<p>Tonalities</p>
						<span class="caret"></span>
					</a>
					<div class="collapse" id="submenu8">
						<ul class="nav nav-collapse">
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							<li class="menuitem row">
								
								<a class="col-8" href="/melody/tonalities/tonalities">
									<!-- href="/tonalities"> -->
									Tonalities 
								</a>
								
								
							</li>
							
							
							
							
						</ul>
					</div>
				</li>
				
				<li class="nav-item submenu">
					<a data-toggle="collapse" href="#submenu9" aria-expanded="true">
						<p>Tunes</p>
						<span class="caret"></span>
					</a>
					<div class="collapse" id="submenu9">
						<ul class="nav nav-collapse">
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							<li class="menuitem row">
								
								<a class="col-8" href="/melody/tunes/tunes_statistics">
									<!-- href="/tunes_statistics"> -->
									Tunes Statistics
								</a>
								
								
								<a class="col-8" href="/melody/tunes/explore_similarity_relations_among_songs">
									<!-- href="/explore_similarity_relations_among_songs"> -->
									Explore similarity relations among songs
								</a>
								
								
							</li>
							
							
							
							
							
							
						</ul>
					</div>
				</li>
				
				<li class="nav-item submenu">
					<a data-toggle="collapse" href="#submenu10" aria-expanded="true">
						<p>Wikidata</p>
						<span class="caret"></span>
					</a>
					<div class="collapse" id="submenu10">
						<ul class="nav nav-collapse">
							
							
							
							
							<li class="menuitem row">
								
								<a class="col-8" href="/melody/wikidata/relations_between_museums">
									<!-- href="/relations_between_museums"> -->
									Relations between museums
								</a>
								
								
								<a class="col-8" href="/melody/wikidata/relations_between_music_bands_an_exploration">
									<!-- href="/relations_between_music_bands_an_exploration"> -->
									Relations between music bands - An exploration
								</a>
								
								
								<a class="col-8" href="/melody/wikidata/mapping_us_recording_studios">
									<!-- href="/mapping_us_recording_studios"> -->
									Mapping US Recording Studios
								</a>
								
								
								<a class="col-8" href="/melody/wikidata/through_the_prism_of_diversity">
									<!-- href="/through_the_prism_of_diversity"> -->
									Through the Prism of Diversity
								</a>
								
								
							</li>
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
						</ul>
					</div>
				</li>
				
				
			</ul>
		</div>
	</div><div class="scroll-element scroll-x"><div class="scroll-element_outer"><div class="scroll-element_size"></div><div class="scroll-element_track"></div><div class="scroll-bar ui-draggable ui-draggable-handle" style="width: 100px;"></div></div></div><div class="scroll-element scroll-y"><div class="scroll-element_outer"><div class="scroll-element_size"></div><div class="scroll-element_track"></div><div class="scroll-bar ui-draggable ui-draggable-handle" style="height: 100px;"></div></div></div></div>
</div>
<!-- End Sidebar -->

		<div class="main-panel">

			

<div class="content row datastorypage" id="dwn">
  <section id="secondarymenu" class="secondarymenu col-md-3 col-sm-12">
  <section id="secondarymenuinner" class="secondarymenuinner" style="background: linear-gradient(-45deg, rgb(57, 198, 180), rgb(23, 207, 49));">

    <h4 style="color: black !important">About this story</h4>
    
    

    <p style="color: black !important">Source: <a href="https://query.wikidata.org/sparql" style="color: black !important">SPARQL endpoint</a></p>
    <p style="color: black !important">Export</p>
    <button class="exportbutton" onclick="getPDF('dwn')" type="button" name="button" style="color: black !important">PDF</button>
    <button class="exportbutton" type="button" style="color: black !important"><a onclick="getHTML(this)" href="#" download="Russian Rock Bands.html" style="color: black !important">HTML</a></button>
    <button class="exportbutton" type="button" style="color: black !important">
      <a href="#" data-toggle="modal" data-target="#queryModal" id="sparqlQuery" style="color: black !important">JSON</a></button>

    <!-- publish button -->
    
    <hr style="color: black !important">
    <form method="post" style="color: black !important">
      <button type="submit" method="post" class="btn btn-success prevent_alert publish_btn" style="color: black !important">Publish
        now!</button>
    </form>
    
    <!-- modify button -->
    
    <a class="btn btn-success publish_btn prevent_alert" id="prevent_alert" href="/melody/modify/1685630421.646025/russian_rock_bands" style="color: black !important">
      Modify
    </a>
    
  </section>

  <div class="modal fade" id="queryModal" tabindex="-1" role="dialog" aria-labelledby="queryModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content card">
        <div class="modal-header">
          <h4 class="card-title" id="queryModalLabel">Story components and queries</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="container">
            <code>{'sparql_endpoint': 'https://query.wikidata.org/sparql', 'template_mode': 'statistics', 'title': 'Russian Rock Bands', 'color_code': ['#39c6b4', '#17cf31'], 'user_name': 'Lada-unibo', 'id': '1685630421.646025', 'subtitle': '', 'curator': '', 'description': '', 'dynamic_elements': [{'position': 0, 'operations': [], 'type': 'count', 'count_query': 'SELECT (COUNT(?band) AS ?count)\r\nWHERE {\r\n     ?band ?a wd:Q5741069 . # rock band \r\n     ?band wdt:P495 wd:Q159 . # from russia\r\n}', 'count_label': 'Number of Russian Rock Bands', 'extra_queries': [], 'map_filters': []}, {'position': 1, 'operations': [{'action': 'count', 'param': 'label'}], 'type': 'chart', 'chart_type': 'barchart', 'chart_title': 'Composition of Russian Rock Bands', 'chart_query': 'SELECT DISTINCT ?label (COUNT(?item) AS ?count)\r\nWHERE {\r\n     ?band ?a wd:Q5741069 . # rock band \r\n     ?band wdt:P495 wd:Q159 . # from russia\r\n     ?band wdt:P527 ?item . \r\n     SERVICE wikibase:label { bd:serviceParam wikibase:language "en".\r\n          ?band rdfs:label         ?label.\r\n      }\r\n\r\n\r\n\r\n}\r\nGROUP BY ?label\r\nORDER BY DESC(?count)\r\nLIMIT 30', 'chart_series': '', 'chart_legend': {'x': 'Name of the band', 'y': 'Number of people in the band'}, 'extra_queries': [], 'map_filters': []}]}</code>
          </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
</section>
  <div class="panel-header bg-primary-gradient col-md-9 col-sm-12 datastorypagefields">
    <div class="page-inner py-5">
      <div class="align-items-left align-items-md-center flex-column flex-md-row">

          <h1 class="text-white pb-2 fw-bold">Russian Rock Bands</h1>


          <span id="loader" class="lds-dual-ring hidden overlay"></span>
          <div id="sortable"></div>
          <script src="static/js/react/Error.js" type="text/babel"></script>
          <script src="static/js/react/Map.js" type="text/babel"></script>
          <script src="static/js/react/Table.js" type="text/babel"></script>
          <script src="static/js/react/Chart.js" type="text/babel"></script>
          <script src="static/js/react/Textbox.js" type="text/babel"></script>
          <script src="static/js/react/Count.js" type="text/babel"></script>
          <script src="static/js/react/Action.js" type="text/babel"></script>
          <script src="static/js/react/TextSearch.js" type="text/babel"></script>
          <script src="static/js/react/add_components.js" type="text/babel"></script>

      </div>
    </div>
  </div>
</div>

<div data-notify="container" class="col-10 col-xs-11 col-sm-4 alert alert-info" role="alert" data-notify-position="bottom-right" style="display: inline-block; margin: 0px auto; padding-left: 65px; position: fixed; transition: all 0.5s ease-in-out 0s; z-index: 1031; bottom: 20px; right: 20px;" data-closing="true"><button type="button" aria-hidden="true" class="close" data-dismiss="alert" style="position: absolute; right: 10px; top: 5px; z-index: 1033;">×</button><span data-notify="icon" class="flaticon-alarm-1"></span> <span data-notify="title">Important</span>
  <span data-notify="message">If you leave without downloading or publishing your data story, it will be
    deleted.</span><a href="#" target="_blank" data-notify="url"></a>
</div>



			

		</div>

	</div>

	<!--   Core JS Files   -->
<script src="static/js/core/jquery.3.2.1.min.js"></script>
<script src="static/js/core/popper.min.js"></script>
<script src="static/js/core/bootstrap.min.js"></script>

<!-- jQuery UI -->
<script src="static/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
<script src="static/js/plugin/jquery-ui-touch-punch/jquery.ui.touch-punch.min.js"></script>

<!-- jQuery Scrollbar -->
<script src="static/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>

<!-- Chart JS -->
<script src="static/js/plugin/chart.js/chart.min.js"></script>

<!-- Import D3 Scale Chromatic via CDN -->
<script src="https://d3js.org/d3-color.v1.min.js"></script>
<script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

<!-- jQuery Sparkline -->
<script src="static/js/plugin/jquery.sparkline/jquery.sparkline.min.js"></script>

<!-- Chart Circle -->
<script src="static/js/plugin/chart-circle/circles.min.js"></script>

<!-- Datatables -->
<script src="static/js/plugin/datatables/datatables.min.js"></script>

<!-- Bootstrap Notify -->
<script src="static/js/plugin/bootstrap-notify/bootstrap-notify.min.js"></script>

<!-- jQuery Vector Maps -->
<script src="static/js/plugin/jqvmap/jquery.vmap.min.js"></script>
<script src="static/js/plugin/jqvmap/maps/jquery.vmap.world.js"></script>

<!-- Sweet Alert -->
<script src="static/js/plugin/sweetalert/sweetalert.min.js "></script>

<!-- Atlantis JS -->
<script src="static/js/atlantis.min.js"></script>

<!-- Leaflet -->
<script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ==" crossorigin=""></script>
<script type="text/javascript" src="static/js/leaflet.markercluster-src.js"></script>
<script type="text/javascript" src="static/js/leaflet-sidebar.js"></script>

<!-- Include the Quill library -->
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
	<!-- utils js -->
	<!-- <script src="static/js/utils.js" type="module"></script> -->

	<script src="static/js/main.js"></script>

	
	<script>
		overwriteCSS();
	</script>
	

	<!-- Specific Page JS goes HERE  -->
	
<script type="text/javascript">
  $('footer').detach();
</script>

<script>
  let hostname = window.location.hostname;
  if (!hostname.includes('github')) {
    let beforeUnloadAlert = true;
    window.addEventListener('beforeunload', function (e) {
      if (!beforeUnloadAlert) return;

      // etc
      e.preventDefault();
      e.returnValue = '';
    });

    function myFunction() {
      beforeUnloadAlert = false;
    }
    var myObj = document.getElementsByClassName('prevent_alert')
    console.log(myObj);
    for (el of myObj) {
      el.addEventListener('click', myFunction);
    }
  }
</script>





<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"><div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div></div></body></html>